var t=Object.defineProperty,e=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,i=(e,n,r)=>n in e?t(e,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[n]=r,a=(t,a)=>{for(var o in a||(a={}))n.call(a,o)&&i(t,o,a[o]);if(e)for(var o of e(a))r.call(a,o)&&i(t,o,a[o]);return t};import{Z as o,$ as s,a0 as l,a1 as u,_ as c,a2 as h,Q as f,K as p,W as d,G as g,a3 as v,J as m}from"./vendor.js";import{P as y}from"./index5.js";import{_ as x}from"./index7.js";var _={},b={},w={},S={},M={};Object.defineProperty(M,"__esModule",{value:!0});var C={Chart:"addChart",Coord:"addCoord",Geom:"addGeom",Axis:"addAxis",Tooltip:"addTooltip",Legend:"addLegend",Label:"addLabel",View:"addView",Guide:"addGuide",GuideLine:"addGuideLine",GuideImage:"addGuideImage",GuideText:"addGuideText",GuideRegion:"addGuideRegion",GuideHtml:"addGuideHtml",GuideArc:"addGuideArc",GuideRegionFilter:"addGuideRegionFilter",GuideDataMarker:"addGuideDataMarker",GuideDataRegion:"addGuideDataRegion",Facet:"addFacet"},A={addElement:function t(e,n,r){this[C[e]](n,r,r.id,r.viewId,r.parentInfo)},getConfigContainer:function t(e,n){return n&&(e.views||(e.views={}),(e=e.views[n])||((e={}).views[n]=e)),e},addUniqueElement:function t(e,n,r,i,a){var o=this.getConfigContainer(e,a);return o[n],o[n]=r,i},addChart:function t(e,n,r){return this.addUniqueElement(e,"chart",n,r,null)},addView:function t(e,n,r){return e.views||(e.views={}),e.views[r]=n,r},addAxis:function t(e,n,r,i){var a=this.getConfigContainer(e,i);return a.axises||(a.axises={}),a.axises[r]=n,r},addCoord:function t(e,n,r,i){return this.addUniqueElement(e,"coord",n,r,i)},addGeom:function t(e,n,r,i,a){var o=this.getConfigContainer(e,i);return o.geoms||(o.geoms={}),o.geoms[r]?a?o.geoms[r].label=n.label:(o.geoms[r].label||console.log("geom label error"),n.label=o.geoms[r].label,o.geoms[r]=n):o.geoms[r]=n,r},addLabel:function t(e,n,r,i,a){var o=this.getConfigContainer(e,i);return o.geoms||(o.geoms={}),this.addGeom(e,{label:n},a.id,i,!0),r},addTooltip:function t(e,n,r,i){return this.addUniqueElement(e,"tooltip",n,r,i)},addFacet:function t(e,n,r,i){return this.addUniqueElement(e,"facet",n,r,i)},addLegend:function t(e,n,r,i){var a=this.getConfigContainer(e,i);return a.legends||(a.legends={}),a.legends[r]=n,r},addGuide:function t(e,n,r,i){return this.addUniqueElement(e,"guide",n,r,i)},addTypedGuide:function t(e,n,r,i,a,o){var s=this.getConfigContainer(e,a),l=s.guide;return l||(this.addUniqueElement("guide",{},o.id,a),l=s.guide),l.elements||(l.elements={}),r.type=n,l.elements[i]=r,i},addGuideLine:function t(e,n,r,i,a){this.addTypedGuide(e,"line",n,r,i,a)},addGuideImage:function t(e,n,r,i,a){this.addTypedGuide(e,"image",n,r,i,a)},addGuideText:function t(e,n,r,i,a){this.addTypedGuide(e,"text",n,r,i,a)},addGuideRegion:function t(e,n,r,i,a){this.addTypedGuide(e,"region",n,r,i,a)},addGuideHtml:function t(e,n,r,i,a){this.addTypedGuide(e,"html",n,r,i,a)},addGuideArc:function t(e,n,r,i,a){this.addTypedGuide(e,"arc",n,r,i,a)},addGuideRegionFilter:function t(e,n,r,i,a){this.addTypedGuide(e,"regionFilter",n,r,i,a)},addGuideDataMarker:function t(e,n,r,i,a){this.addTypedGuide(e,"dataMarker",n,r,i,a)},addGuideDataRegion:function t(e,n,r,i,a){this.addTypedGuide(e,"dataRegion",n,r,i,a)}};M.default=A;var P={};Object.defineProperty(P,"__esModule",{value:!0});var k={Chart:"deleteChart",Coord:"deleteCoord",Geom:"deleteGeom",Axis:"deleteAxis",Tooltip:"deleteTooltip",Legend:"deleteLegend",Label:"deleteLabel",View:"deleteView",Guide:"deleteGuide",GuideLine:"deleteTypedGuide",GuideImage:"deleteTypedGuide",GuideText:"deleteTypedGuide",GuideRegion:"deleteTypedGuide",GuideHtml:"deleteTypedGuide",GuideArc:"deleteTypedGuide",GuideRegionFilter:"deleteTypedGuide",GuideDataMarker:"deleteTypedGuide",GuideDataRegion:"deleteTypedGuide",Facet:"deleteFacet"},T={merge:function t(e,n,r,i){this.mergeDelete(e,n,r),this.mergeUpdate(e,i)},mergeDelete:function t(e,n,r){var i=this;Object.keys(n).forEach((function(t){var n=k[r[t].name],a=e;r[t].viewId&&(a=e.views[r[t].viewId]),i[n]&&i[n](a,t,r[t].parentInfo.id)}))},deleteAxis:function t(e,n){e&&delete e.axises[n]},deleteTooltip:function t(e){e&&delete e.tooltip},deleteCoord:function t(e){e&&delete e.coord},deleteLegend:function t(e,n){e&&delete e.legends[n]},deleteGuide:function t(e){e&&delete e.guide},deleteGeom:function t(e,n){e&&e.geoms&&delete e.geoms[n]},deleteLabel:function t(e,n,r){e&&e.geoms&&e.geoms[r]&&delete e.geoms[r].label},deleteFacet:function t(e){e&&delete e.facet},deleteTypedGuide:function t(e,n){e&&e.guide&&delete e.guide.elements[n]},deleteView:function t(e,n){e&&delete e.views[n]},mergeUpdate:function t(e,n){this.mergeChart(e,n),this.mergeAxises(e,n),this.mergeCoord(e,n),this.mergeGeoms(e.geoms,n),this.mergeLegends(e.legends,n),this.mergeTooltip(e,n),this.mergeViews(e.views,n),this.mergeGuide(e.guide,n)},mergeChart:function t(e,n){e.chart&&e.chart.updateProps&&(e.chart.props=e.chart.updateProps),n&&delete e.chart.g2Instance},mergeAxises:function t(e,n){var r=e.axises;if(null!=!r)for(var i in r)r[i]&&r[i].updateProps&&(r[i].props=r[i].updateProps),n&&delete r[i].g2Instance},mergeTooltip:function t(e,n){e.tooltip&&(n&&delete e.tooltip.g2Instance,e.tooltip.updateProps&&(e.tooltip.props=e.tooltip.updateProps))},mergeCoord:function t(e,n){e.coord&&(n&&delete e.coord.g2Instance,e.coord.updateProps&&(e.coord.props=e.coord.updateProps))},mergeLegends:function t(e,n){if(e)for(var r in e)if(e[r]){var i=e[r];n&&delete i.g2Instance,i.updateProps&&(i.props=i.updateProps)}},mergeGeoms:function t(e,n){if(null!=e)for(var r in e)e[r]&&(n&&(delete e[r].g2Instance,e[r].label&&e[r].label.g2Instance&&(e[r].label.updateProps&&(e[r].label.props=e[r].label.updateProps),delete e[r].label.g2Instance)),e[r].updateProps&&(e[r].props=e[r].updateProps))},mergeGuide:function t(e,n){if(null!=e){var r=e.elements;for(var i in r)r[i]&&(n&&delete r[i].g2Instance,r[i].updateProps&&(r[i].props=r[i].updateProps))}},mergeView:function t(e,n){e&&(n&&e.g2Instance&&delete e.g2Instance,e.updateProps&&(e.props=e.updateProps),this.mergeCoord(e,n),this.mergeAxises(e,n),this.mergeGeoms(e.geoms,n),this.mergeGuide(e.guide,n))},mergeViews:function t(e,n){if(null!=e)for(var r in e)e[r]&&this.mergeView(e[r],n)}};P.default=T;var I={},E={},O={},L,D=function t(e){return null==e},F=D;function B(t){return F(t)?"":t.toString()}var R=B,N=R,j,z=function t(e){var n=N(e);return n.charAt(0).toLowerCase()+n.substring(1)};function Y(t,e){for(var n in e)e.hasOwnProperty(n)&&"constructor"!==n&&void 0!==e[n]&&(t[n]=e[n])}var G,X=function t(e,n,r,i){return n&&Y(e,n),r&&Y(e,r),i&&Y(e,i),e},V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},H,W=function t(e){var n=void 0===e?"undefined":V(e);return null!==e&&"object"===n||"function"===n},q={}.toString,U,Z=function t(e,n){return q.call(e)==="[object "+n+"]"},Q=Z,$,J=Array.isArray?Array.isArray:function(t){return Q(t,"Array")},K=W,tt=J,et=function t(e,n){if(e){var r=void 0;if(tt(e))for(var i=0,a=e.length;i<a&&!1!==(r=n(e[i],i));i++);else if(K(e))for(var o in e)if(e.hasOwnProperty(o)&&!1===(r=n(e[o],o)))break}},nt=et,rt=X,it=nt,at=W,ot=D,st=function(){var t=e.prototype;function e(t){this._initDefaultCfg(),rt(this,t),this.init()}return t._initDefaultCfg=function t(){this.type="base",this.formatter=null,this.range=[0,1],this.ticks=null,this.values=[]},t.init=function t(){},t.getTicks=function t(){var e=this,n=e.ticks,r=[];return it(n,(function(t){var n;n=at(t)?t:{text:e.getText(t),tickValue:t,value:e.scale(t)},r.push(n)})),r},t.getText=function t(e,n){var r=this.formatter;return e=r?r(e,n):e,!ot(e)&&e.toString||(e=""),e.toString()},t.rangeMin=function t(){return this.range[0]},t.rangeMax=function t(){var e=this.range;return e[e.length-1]},t.invert=function t(e){return e},t.translate=function t(e){return e},t.scale=function t(e){return e},t.clone=function t(){var e=this,n=e.constructor,r={};return it(e,(function(t,n){r[n]=e[n]})),new n(r)},t.change=function t(e){return this.ticks=null,rt(this,e),this.init(),this},e}(),lt=st,ut=Z,ct,ht=function t(e){return ut(e,"Number")},ft=12;function pt(t){var e=1;if(t===1/0||t===-1/0)throw new Error("Not support Infinity!");if(t<1){for(var n=0;t<1;)e/=10,t*=10,n++;e.toString().length>12&&(e=parseFloat(e.toFixed(n)))}else for(;t>10;)e*=10,t/=10;return e}function dt(t,e){var n=t.length;if(0===n)return NaN;var r=t[0];if(e<t[0])return NaN;if(e>=t[n-1])return t[n-1];for(var i=1;i<t.length&&!(e<t[i]);i++)r=t[i];return r}function gt(t,e){var n=t.length,r;if(0===n)return NaN;if(e>t[n-1])return NaN;if(e<t[0])return t[0];for(var i=1;i<t.length;i++)if(e<=t[i]){r=t[i];break}return r}var vt={snapFactorTo:function t(e,n,r){if(isNaN(e))return NaN;var i=1;if(0!==e){e<0&&(i=-1);var a=pt(e*=i);i*=a,e/=a}e="floor"===r?vt.snapFloor(n,e):"ceil"===r?vt.snapCeiling(n,e):vt.snapTo(n,e);var o=parseFloat((e*i).toPrecision(12)),s,l;Math.abs(i)<1&&o.toString().length>12&&(o=e/parseInt(1/i)*(i>0?1:-1));return o},snapMultiple:function t(e,n,r){var i;return(i="ceil"===r?Math.ceil(e/n):"floor"===r?Math.floor(e/n):Math.round(e/n))*n},snapTo:function t(e,n){var r=dt(e,n),i=gt(e,n);if(isNaN(r)||isNaN(i)){if(e[0]>=n)return e[0];var a=e[e.length-1];if(a<=n)return a}return Math.abs(n-r)<Math.abs(i-n)?r:i},snapFloor:function t(e,n){return dt(e,n)},snapCeiling:function t(e,n){return gt(e,n)},fixedBase:function t(e,n){var r=n.toString(),i=r.indexOf("."),a=r.indexOf("e-");if(i<0&&a<0)return Math.round(e);var o=a>=0?parseInt(r.substr(a+2),10):r.substr(i+1).length;return o>20&&(o=20),parseFloat(e.toFixed(o))}},mt=vt,yt=D,xt=ht,_t=mt,bt=5,wt=7,St=[1,1.2,1.5,1.6,2,2.2,2.4,2.5,3,4,5,6,7.5,8,10],Mt=[1,2,4,5,10],Ct=1e-12,At=function(t){var e=t.min,n=t.max,r=t.interval,i=t.minTickInterval,a=[],o=t.minCount||5,s=t.maxCount||7,l=o===s,u=yt(t.minLimit)?-1/0:t.minLimit,c=yt(t.maxLimit)?1/0:t.maxLimit,h=(o+s)/2,f=h,p=t.snapArray?t.snapArray:l?St:Mt;if(e===u&&n===c&&l&&(r=(n-e)/(f-1)),yt(e)&&(e=0),yt(n)&&(n=0),Math.abs(n-e)<Ct&&(0===e?n=1:e>0?e=0:n=0,n-e<5&&!r&&n-e>=1&&(r=1)),yt(r)){var d=(n-e)/(h-1);r=_t.snapFactorTo(d,p,"ceil"),s!==o&&((f=parseInt((n-e)/r,10))>s&&(f=s),f<o&&(f=o),r=_t.snapFactorTo((n-e)/(f-1),p))}if(xt(i)&&r<i&&(r=i),t.interval||s!==o){n=Math.min(_t.snapMultiple(n,r,"ceil"),c),e=Math.max(_t.snapMultiple(e,r,"floor"),u),f=Math.round((n-e)/r),e=_t.fixedBase(e,r),n=_t.fixedBase(n,r);for(var g=null;e>u&&u>-1/0&&(null===g||e<g);)g=e,e=_t.fixedBase(e-r,r)}else{h=parseInt(h,10);var v=(n+e)/2,m=_t.snapMultiple(v,r,"ceil"),y=Math.floor((h-2)/2),x=m+y*r,_;_=h%2==0?m-y*r:m-(y+1)*r;for(var b=null;x<n&&(null===b||x>b);)b=x,x=_t.fixedBase(x+r,r);for(var w=null;_>e&&(null===w||_<w);)w=_,_=_t.fixedBase(_-r,r);n=x,e=_}n=Math.min(n,c),e=Math.max(e,u),a.push(e);for(var S=1;S<f;S++){var M=_t.fixedBase(r*S+e,r);M<n&&a.push(M)}return a[a.length-1]<n&&a.push(n),{min:e,max:n,interval:r,count:f,ticks:a}};function Pt(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var kt=D,Tt=nt,It=lt,Et=At,Ot=function(t){function e(){return t.apply(this,arguments)||this}Pt(e,t);var n=e.prototype;return n._initDefaultCfg=function e(){t.prototype._initDefaultCfg.call(this);var n=this;n.type="linear",n.isLinear=!0,n.nice=!1,n.min=null,n.minLimit=null,n.max=null,n.maxLimit=null,n.tickCount=null,n.tickInterval=null,n.minTickInterval=null,n.snapArray=null},n.init=function t(){var e=this;if(e.ticks){var n=e.ticks,r=e.translate(n[0]),i=e.translate(n[n.length-1]);(kt(e.min)||e.min>r)&&(e.min=r),(kt(e.max)||e.max<i)&&(e.max=i)}else e.min=e.translate(e.min),e.max=e.translate(e.max),e.initTicks()},n.calculateTicks=function t(){var e=this.min,n=this.max,r=this.minLimit,i=this.maxLimit,a=this.tickCount,o=this.tickInterval,s=this.minTickInterval,l=this.snapArray,u;if(1===a)throw new Error("linear scale'tickCount should not be 1");if(n<e)throw new Error("max: "+n+" should not be less than min: "+e);return Et({min:e,max:n,minLimit:r,maxLimit:i,minCount:a,maxCount:a,interval:o,minTickInterval:s,snapArray:l}).ticks},n.initTicks=function t(){var e=this,n=e.calculateTicks();if(e.nice)e.ticks=n,e.min=n[0],e.max=n[n.length-1];else{var r=[];Tt(n,(function(t){t>=e.min&&t<=e.max&&r.push(t)})),r.length||(r.push(e.min),r.push(e.max)),e.ticks=r}},n.scale=function t(e){if(kt(e))return NaN;var n=this.max,r=this.min;if(n===r)return 0;var i=(e-r)/(n-r),a=this.rangeMin(),o;return a+i*(this.rangeMax()-a)},n.invert=function t(e){var n=(e-this.rangeMin())/(this.rangeMax()-this.rangeMin());return this.min+n*(this.max-this.min)},e}(It);It.Linear=Ot;var Lt=Ot;function Dt(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var Ft=lt,Bt=ht,Rt=function(t){function e(){return t.apply(this,arguments)||this}Dt(e,t);var n=e.prototype;return n._initDefaultCfg=function e(){t.prototype._initDefaultCfg.call(this),this.isIdentity=!0,this.type="identity",this.value=null},n.getText=function t(){return this.value.toString()},n.scale=function t(e){return this.value!==e&&Bt(e)?e:this.range[0]},n.invert=function t(){return this.value},e}(Ft);Ft.Identity=Rt;var Nt=Rt,jt=nt,zt=8,Yt=4;function Gt(t){var e=[];return jt(t,(function(t){e=e.concat(t)})),e}function Xt(t,e){var n;for(n=e;n>0&&t%n!=0;n--);if(1===n)for(n=e;n>0&&(t-1)%n!=0;n--);return n}var Vt=function(t){var e={},n=[],r=t.isRounding,i=Gt(t.data),a=i.length,o=t.maxCount||8,s;if(r?2===(s=Xt(a-1,o-1)+1)?s=o:s<o-4&&(s=o-4):s=o,!r&&a<=s+s/2)n=[].concat(i);else{for(var l=parseInt(a/(s-1),10),u=i.map((function(t,e){return e%l==0?i.slice(e,e+l):null})).filter((function(t){return t})),c=1,h=u.length;c<h&&(r?c*l<a-l:c<s-1);c++)n.push(u[c][0]);if(i.length){n.unshift(i[0]);var f=i[a-1];-1===n.indexOf(f)&&n.push(f)}}return e.categories=i,e.ticks=n,e},Ht=Z,Wt,qt=function t(e){return Ht(e,"String")};function Ut(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var Zt=lt,Qt=Vt,$t=nt,Jt=ht,Kt=qt,te=function(t){function e(){return t.apply(this,arguments)||this}Ut(e,t);var n=e.prototype;return n._initDefaultCfg=function e(){t.prototype._initDefaultCfg.call(this),this.type="cat",this.isCategory=!0,this.isRounding=!0},n.init=function t(){var e=this,n=e.values,r=e.tickCount;if($t(n,(function(t,e){n[e]=t.toString()})),!e.ticks){var i=n,a;if(r)i=Qt({maxCount:r,data:n,isRounding:e.isRounding}).ticks;this.ticks=i}},n.getText=function e(n){return-1===this.values.indexOf(n)&&Jt(n)&&(n=this.values[Math.round(n)]),t.prototype.getText.call(this,n)},n.translate=function t(e){var n=this.values.indexOf(e);return-1===n&&Jt(e)?n=e:-1===n&&(n=NaN),n},n.scale=function t(e){var n=this.rangeMin(),r=this.rangeMax(),i;return(Kt(e)||-1!==this.values.indexOf(e))&&(e=this.translate(e)),n+(i=this.values.length>1?e/(this.values.length-1):e)*(r-n)},n.invert=function t(e){if(Kt(e))return e;var n=this.rangeMin(),r=this.rangeMax();e<n&&(e=n),e>r&&(e=r);var i=(e-n)/(r-n),a=Math.round(i*(this.values.length-1))%this.values.length;return a=a||0,this.values[a]},e}(Zt);Zt.Cat=te;var ee=te,ne={exports:{}},re;re=ne,function(t){var e={},n=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,r=/\d\d?/,i=/\d{3}/,a=/\d{4}/,o=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,s=/\[([^]*?)\]/gm,l=function(){};function u(t,e){for(var n=[],r=0,i=t.length;r<i;r++)n.push(t[r].substr(0,e));return n}function c(t){return function(e,n,r){var i=r[t].indexOf(n.charAt(0).toUpperCase()+n.substr(1).toLowerCase());~i&&(e.month=i)}}function h(t,e){for(t=String(t),e=e||2;t.length<e;)t="0"+t;return t}var f=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],p=["January","February","March","April","May","June","July","August","September","October","November","December"],d=u(p,3),g=u(f,3);e.i18n={dayNamesShort:g,dayNames:f,monthNamesShort:d,monthNames:p,amPm:["am","pm"],DoFn:function t(e){return e+["th","st","nd","rd"][e%10>3?0:(e-e%10!=10)*e%10]}};var v={D:function(t){return t.getDate()},DD:function(t){return h(t.getDate())},Do:function(t,e){return e.DoFn(t.getDate())},d:function(t){return t.getDay()},dd:function(t){return h(t.getDay())},ddd:function(t,e){return e.dayNamesShort[t.getDay()]},dddd:function(t,e){return e.dayNames[t.getDay()]},M:function(t){return t.getMonth()+1},MM:function(t){return h(t.getMonth()+1)},MMM:function(t,e){return e.monthNamesShort[t.getMonth()]},MMMM:function(t,e){return e.monthNames[t.getMonth()]},YY:function(t){return String(t.getFullYear()).substr(2)},YYYY:function(t){return h(t.getFullYear(),4)},h:function(t){return t.getHours()%12||12},hh:function(t){return h(t.getHours()%12||12)},H:function(t){return t.getHours()},HH:function(t){return h(t.getHours())},m:function(t){return t.getMinutes()},mm:function(t){return h(t.getMinutes())},s:function(t){return t.getSeconds()},ss:function(t){return h(t.getSeconds())},S:function(t){return Math.round(t.getMilliseconds()/100)},SS:function(t){return h(Math.round(t.getMilliseconds()/10),2)},SSS:function(t){return h(t.getMilliseconds(),3)},a:function(t,e){return t.getHours()<12?e.amPm[0]:e.amPm[1]},A:function(t,e){return t.getHours()<12?e.amPm[0].toUpperCase():e.amPm[1].toUpperCase()},ZZ:function(t){var e=t.getTimezoneOffset();return(e>0?"-":"+")+h(100*Math.floor(Math.abs(e)/60)+Math.abs(e)%60,4)}},m={D:[r,function(t,e){t.day=e}],Do:[new RegExp(r.source+o.source),function(t,e){t.day=parseInt(e,10)}],M:[r,function(t,e){t.month=e-1}],YY:[r,function(t,e){var n,r=+(""+(new Date).getFullYear()).substr(0,2);t.year=""+(e>68?r-1:r)+e}],h:[r,function(t,e){t.hour=e}],m:[r,function(t,e){t.minute=e}],s:[r,function(t,e){t.second=e}],YYYY:[a,function(t,e){t.year=e}],S:[/\d/,function(t,e){t.millisecond=100*e}],SS:[/\d{2}/,function(t,e){t.millisecond=10*e}],SSS:[i,function(t,e){t.millisecond=e}],d:[r,l],ddd:[o,l],MMM:[o,c("monthNamesShort")],MMMM:[o,c("monthNames")],a:[o,function(t,e,n){var r=e.toLowerCase();r===n.amPm[0]?t.isPm=!1:r===n.amPm[1]&&(t.isPm=!0)}],ZZ:[/([\+\-]\d\d:?\d\d|Z)/,function(t,e){"Z"===e&&(e="+00:00");var n=(e+"").match(/([\+\-]|\d\d)/gi),r;n&&(r=60*n[1]+parseInt(n[2],10),t.timezoneOffset="+"===n[0]?r:-r)}]};m.dd=m.d,m.dddd=m.ddd,m.DD=m.D,m.mm=m.m,m.hh=m.H=m.HH=m.h,m.MM=m.M,m.ss=m.s,m.A=m.a,e.masks={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},e.format=function(t,r,i){var a=i||e.i18n;if("number"==typeof t&&(t=new Date(t)),"[object Date]"!==Object.prototype.toString.call(t)||isNaN(t.getTime()))throw new Error("Invalid Date in fecha.format");r=e.masks[r]||r||e.masks.default;var o=[];return(r=(r=r.replace(s,(function(t,e){return o.push(e),"??"}))).replace(n,(function(e){return e in v?v[e](t,a):e.slice(1,e.length-1)}))).replace(/\?\?/g,(function(){return o.shift()}))},e.parse=function(t,r,i){var a=i||e.i18n;if("string"!=typeof r)throw new Error("Invalid format in fecha.parse");if(r=e.masks[r]||r,t.length>1e3)return!1;var o=!0,s={};if(r.replace(n,(function(e){if(m[e]){var n=m[e],r=t.search(n[0]);~r?t.replace(n[0],(function(e){return n[1](s,e,a),t=t.substr(r+e.length),e})):o=!1}return m[e]?"":e.slice(1,e.length-1)})),!o)return!1;var l=new Date,u;return!0===s.isPm&&null!=s.hour&&12!=+s.hour?s.hour=+s.hour+12:!1===s.isPm&&12==+s.hour&&(s.hour=0),null!=s.timezoneOffset?(s.minute=+(s.minute||0)-+s.timezoneOffset,u=new Date(Date.UTC(s.year||l.getFullYear(),s.month||0,s.day||1,s.hour||0,s.minute||0,s.second||0,s.millisecond||0))):u=new Date(s.year||l.getFullYear(),s.month||0,s.day||1,s.hour||0,s.minute||0,s.second||0,s.millisecond||0),u},re.exports?re.exports=e:t.fecha=e}(o);var ie=mt,ae=D,oe=6,se=[1,2,4,6,8,12],le=6e4,ue=36e5,ce=864e5;function he(t){return new Date(t).getFullYear()}function fe(t){return new Date(t,0,1).getTime()}function pe(t){return new Date(t).getMonth()}function de(t,e){var n=he(t),r=he(e),i=pe(t),a;return 12*(r-n)+(pe(e)-i)%12}function ge(t,e){return new Date(t,e,1).getTime()}function ve(t,e){return Math.ceil((e-t)/ce)}function me(t,e){return Math.ceil((e-t)/36e5)}function ye(t,e){return Math.ceil((e-t)/6e4)}var xe=function(t){var e=t.minInterval,n=[],r=t.min,i=t.max,a=t.interval,o;if(i===r&&(i=r+ce),ae(a)){var s,l=ce,u=365*l;a=parseInt((i-r)/(t.maxCount||6),10),e&&e>a&&(a=e);var c=a/u,h=he(r);if(c>.51){for(var f=Math.ceil(c),p=he(i),d=h;d<=p+f;d+=f)n.push(fe(d));a=null}else if(c>.0834){for(var g=Math.ceil(c/.0834),v=pe(r),m=de(r,i),y=0;y<=m+g;y+=g)n.push(ge(h,y+v));a=null}else if(a>.5*l){var x=new Date(r),_=x.getFullYear(),b=x.getMonth(r),w=x.getDate(),S=Math.ceil(a/l),M=ve(r,i);a=S*l;for(var C=0;C<M+S;C+=S)n.push(new Date(_,b,w+C).getTime())}else if(a>36e5){var A=new Date(r),P=A.getFullYear(),k=A.getMonth(r),T=A.getDate(),I=A.getHours(),E=ie.snapTo(se,Math.ceil(a/36e5)),O=me(r,i);a=36e5*E;for(var L=0;L<=O+E;L+=E)n.push(new Date(P,k,T,I+L).getTime())}else if(a>6e4){var D=ye(r,i),F=Math.ceil(a/6e4);a=6e4*F;for(var B=0;B<=D+F;B+=F)n.push(r+6e4*B)}else{a<1e3&&(a=1e3),r=1e3*Math.floor(r/1e3);var R=Math.ceil((i-r)/1e3),N=Math.ceil(a/1e3);a=1e3*N;for(var j=0;j<R+N;j+=N)n.push(r+1e3*j)}}if(!n.length){r=1e3*Math.floor(r/1e3),o=((i=1e3*Math.ceil(i/1e3))-r)/a;for(var z=0;z<=o;z++)n.push(ie.fixedBase(a*z+r,a))}return{max:i,min:r,interval:a,ticks:n,count:n.length}},_e=Z,be,we=function t(e){return _e(e,"Date")},Se=qt,Me=we,Ce={toTimeStamp:function t(e){return Se(e)&&(e=e.indexOf("T")>0?new Date(e).getTime():new Date(e.replace(/-/gi,"/")).getTime()),Me(e)&&(e=e.getTime()),e}};function Ae(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var Pe=ne.exports,ke=nt,Te=D,Ie=qt,Ee=lt,Oe,Le=xe,De=Ce,Fe=function(t){function e(){return t.apply(this,arguments)||this}Ae(e,t);var n=e.prototype;return n._initDefaultCfg=function e(){t.prototype._initDefaultCfg.call(this),this.type="time",this.mask="YYYY-MM-DD"},n.init=function e(){var n=this,r=n.values;if(r&&r.length){var i=[],a=1/0,o=a,s=0;ke(r,(function(t){var e=n._toTimeStamp(t);if(isNaN(e))throw new TypeError("Invalid Time: "+t);a>e?(o=a,a=e):o>e&&(o=e),s<e&&(s=e),i.push(e)})),r.length>1&&(n.minTickInterval=o-a),(Te(n.min)||n._toTimeStamp(n.min)>a)&&(n.min=a),(Te(n.max)||n._toTimeStamp(n.max)<s)&&(n.max=s)}t.prototype.init.call(this)},n.calculateTicks=function t(){var e=this,n=e.min,r=e.max,i=e.tickCount,a=e.tickInterval,o;return Le({min:n,max:r,minCount:i,maxCount:i,interval:a,minInterval:e.minTickInterval}).ticks},n.getText=function t(e){var n=this.formatter;return e=this.translate(e),e=n?n(e):Pe.format(e,this.mask)},n.scale=function e(n){return Ie(n)&&(n=this.translate(n)),t.prototype.scale.call(this,n)},n.translate=function t(e){return this._toTimeStamp(e)},n._toTimeStamp=function t(e){return De.toTimeStamp(e)},e}(Lt);Ee.Time=Fe;var Be=Fe;function Re(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var Ne=lt,je,ze=ne.exports,Ye=Vt,Ge=Ce,Xe=nt,Ve=ht,He=W,We=qt,qe=function(t){function e(){return t.apply(this,arguments)||this}Re(e,t);var n=e.prototype;return n._initDefaultCfg=function e(){t.prototype._initDefaultCfg.call(this),this.type="timeCat",this.sortable=!0,this.tickCount=5,this.mask="YYYY-MM-DD"},n.init=function t(){var e=this,n=this.values;Xe(n,(function(t,r){n[r]=e._toTimeStamp(t)})),this.sortable&&n.sort((function(t,e){return t-e})),e.ticks||(e.ticks=this.calculateTicks())},n.calculateTicks=function t(){var e=this,n=e.tickCount,r,i;n?r=Ye({maxCount:n,data:e.values,isRounding:e.isRounding}).ticks:r=e.values;return r},n.translate=function t(e){e=this._toTimeStamp(e);var n=this.values.indexOf(e);return-1===n&&(n=Ve(e)&&e<this.values.length?e:NaN),n},n.scale=function t(e){var n=this.rangeMin(),r=this.rangeMax(),i=this.translate(e),a;return n+(a=1===this.values.length||isNaN(i)?i:i>-1?i/(this.values.length-1):0)*(r-n)},n.getText=function t(e){var n="",r=this.translate(e);n=r>-1?this.values[r]:e;var i=this.formatter;return n=parseInt(n,10),n=i?i(n):ze.format(n,this.mask)},n.getTicks=function t(){var e=this,n=this.ticks,r=[];return Xe(n,(function(t){var n;n=He(t)?t:{text:We(t)?t:e.getText(t),value:e.scale(t),tickValue:t},r.push(n)})),r},n._toTimeStamp=function t(e){return Ge.toTimeStamp(e)},e}(ee);Ne.TimeCat=qe;var Ue=qe;function Ze(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var Qe=nt,$e=lt,Je;function Ke(t,e){return 1===t?1:Math.log(e)/Math.log(t)}var tn=function(t){function e(){return t.apply(this,arguments)||this}Ze(e,t);var n=e.prototype;return n._initDefaultCfg=function e(){t.prototype._initDefaultCfg.call(this),this.type="log",this.tickCount=10,this.base=2,this._minTick=null},n.calculateTicks=function t(){var e=this,n=e.base,r;if(e.min<0)throw new Error("The minimum value must be greater than zero!");var i=Ke(n,e.max);if(e.min>0)r=Math.floor(Ke(n,e.min));else{var a=e.values,o=e.max;Qe(a,(function(t){t>0&&t<o&&(o=t)})),o===e.max&&(o=e.max/n),o>1&&(o=1),r=Math.floor(Ke(n,o)),e._minTick=r,e.positiveMin=o}for(var s=i-r,l=e.tickCount,u=Math.ceil(s/l),c=[],h=r;h<i+u;h+=u)c.push(Math.pow(n,h));return 0===e.min&&c.unshift(0),c},n._getScalePercent=function t(e){var n=this.max,r=this.min;if(n===r)return 0;if(e<=0)return 0;var i=this.base,a=this.positiveMin,o;return a&&(r=1*a/i),o=e<a?e/a/(Ke(i,n)-Ke(i,r)):(Ke(i,e)-Ke(i,r))/(Ke(i,n)-Ke(i,r))},n.scale=function t(e){var n=this._getScalePercent(e),r=this.rangeMin(),i;return r+n*(this.rangeMax()-r)},n.invert=function t(e){var n=this.base,r=Ke(n,this.max),i=this.rangeMin(),a=this.rangeMax()-i,o,s=this.positiveMin;if(s){if(0===e)return 0;var l=1/(r-(o=Ke(n,s/n)))*a;if(e<l)return e/l*s}else o=Ke(n,this.min);var u,c=(e-i)/a*(r-o)+o;return Math.pow(n,c)},e}(Lt);$e.Log=tn;var en=tn;function nn(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var rn=lt,an;function on(t,e){var n=Math.E,r;return Math.pow(n,Math.log(e)/t)}var sn=function(t){function e(){return t.apply(this,arguments)||this}nn(e,t);var n=e.prototype;return n._initDefaultCfg=function e(){t.prototype._initDefaultCfg.call(this),this.type="pow",this.tickCount=10,this.exponent=2},n.calculateTicks=function t(){var e=this,n=e.exponent,r,i=Math.ceil(on(n,e.max));if((r=e.min>=0?Math.floor(on(n,e.min)):0)>i){var a=i;i=r,r=a}for(var o=i-r,s=e.tickCount,l=Math.ceil(o/s),u=[],c=r;c<i+l;c+=l)u.push(Math.pow(c,n));return u},n._getScalePercent=function t(e){var n=this.max,r=this.min;if(n===r)return 0;var i=this.exponent,a;return(on(i,e)-on(i,r))/(on(i,n)-on(i,r))},n.scale=function t(e){var n=this._getScalePercent(e),r=this.rangeMin(),i;return r+n*(this.rangeMax()-r)},n.invert=function t(e){var n=(e-this.rangeMin())/(this.rangeMax()-this.rangeMin()),r=this.exponent,i=on(r,this.max),a=on(r,this.min),o=n*(i-a)+a;return Math.pow(o,r)},e}(Lt);rn.Pow=sn;var ln=sn,un=z,cn=lt;cn.Linear=Lt,cn.Identity=Nt,cn.Cat=ee,cn.Time=Be,cn.TimeCat=Ue,cn.Log=en,cn.Pow=ln;var hn=function t(e){if(cn.hasOwnProperty(e)){var n=un(e);cn[n]=function(t){return new cn[e](t)}}};for(var fn in cn)hn(fn);var pn=["cat","timeCat"];cn.isCategory=function(t){return pn.indexOf(t)>=0};var dn=cn,gn=globalThis&&globalThis.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r=0,i=e.length,a;r<i;r++)!a&&r in e||(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))},vn=function(){function t(t,e,n){this.name=t,this.version=e,this.os=n,this.type="browser"}return t}(),mn=function(){function t(t){this.version=t,this.type="node",this.name="node",this.os=process.platform}return t}(),yn=function(){function t(t,e,n,r){this.name=t,this.version=e,this.os=n,this.bot=r,this.type="bot-device"}return t}(),xn=function(){function t(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return t}(),_n=function(){function t(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return t}(),bn,wn=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,Sn=3,Mn=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],Cn=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function An(t){return t?Tn(t):"undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product?new _n:"undefined"!=typeof navigator?Tn(navigator.userAgent):En()}function Pn(t){return""!==t&&Mn.reduce((function(e,n){var r=n[0],i=n[1];if(e)return e;var a=i.exec(t);return!!a&&[r,a]}),!1)}function kn(t){var e=Pn(t);return e?e[0]:null}function Tn(t){var e=Pn(t);if(!e)return null;var n=e[0],r=e[1];if("searchbot"===n)return new xn;var i=r[1]&&r[1].split(".").join("_").split("_").slice(0,3);i?i.length<3&&(i=gn(gn([],i,!0),On(3-i.length),!0)):i=[];var a=i.join("."),o=In(t),s=wn.exec(t);return s&&s[1]?new yn(n,a,o,s[1]):new vn(n,a,o)}function In(t){for(var e=0,n=Cn.length;e<n;e++){var r=Cn[e],i=r[0],a,o;if(r[1].exec(t))return i}return null}function En(){var t;return"undefined"!=typeof process&&process.version?new mn(process.version.slice(1)):null}function On(t){for(var e=[],n=0;n<t;n++)e.push("0");return e}var Ln,Dn=s(Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",BrowserInfo:vn,NodeInfo:mn,SearchBotDeviceInfo:yn,BotInfo:xn,ReactNativeInfo:_n,detect:An,browserName:kn,parseUserAgent:Tn,detectOS:In,getNodeVersion:En})),Fn=Z,Bn,Rn=function t(e){return Fn(e,"Function")},Nn=Z,jn,zn=function t(e){return Nn(e,"Boolean")},Yn,Gn=function t(e){return null!==e&&"function"!=typeof e&&isFinite(e.length)},Xn={}.toString,Vn,Hn=function t(e){return Xn.call(e).replace(/^\[object /,"").replace(/\]$/,"")},Wn=Object.prototype,qn,Un=function t(e){var n=e&&e.constructor,r;return e===("function"==typeof n&&n.prototype||Wn)},Zn=D,Qn=Gn,$n=Hn,Jn=Un,Kn=Object.prototype.hasOwnProperty;function tr(t){if(Zn(t))return!0;if(Qn(t))return!t.length;var e=$n(t);if("Map"===e||"Set"===e)return!t.size;if(Jn(t))return!Object.keys(t).length;for(var n in t)if(Kn.call(t,n))return!1;return!0}var er=tr,nr,rr,ir=(rr={},function(t){return rr[t=t||"g"]?rr[t]+=1:rr[t]=1,t+rr[t]}),ar="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},or=J,sr=function t(e){if("object"!==(void 0===e?"undefined":ar(e))||null===e)return e;var n=void 0;if(or(e)){n=[];for(var r=0,i=e.length;r<i;r++)"object"===ar(e[r])&&null!=e[r]?n[r]=t(e[r]):n[r]=e[r]}else for(var a in n={},e)"object"===ar(e[a])&&null!=e[a]?n[a]=t(e[a]):n[a]=e[a];return n},lr=sr,ur="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cr,hr=function t(e){return"object"===(void 0===e?"undefined":ur(e))&&null!==e},fr=hr,pr=Z,dr,gr=function t(e){if(!fr(e)||!pr(e,"Object"))return!1;if(null===Object.getPrototypeOf(e))return!0;for(var n=e;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(e)===n},vr=gr,mr=J,yr=5;function xr(t,e,n,r){for(var i in n=n||0,r=r||5,e)if(e.hasOwnProperty(i)){var a=e[i];null!==a&&vr(a)?(vr(t[i])||(t[i]={}),n<r?xr(t[i],a,n+1,r):t[i]=e[i]):mr(a)?(t[i]=[],t[i]=t[i].concat(a)):void 0!==a&&(t[i]=a)}}var _r=function t(){for(var e=new Array(arguments.length),n=e.length,r=0;r<n;r++)e[r]=arguments[r];for(var i=e[0],a=1;a<n;a++)xr(i,e[a]);return i},br=_r,wr=R,Sr,Mr=function t(e){var n=wr(e);return n.charAt(0).toUpperCase()+n.substring(1)},Cr=hr,Ar=Gn,Pr=qt,kr=function t(e,n){if(e===n)return!0;if(!e||!n)return!1;if(Pr(e)||Pr(n))return!1;if(Ar(e)||Ar(n)){if(e.length!==n.length)return!1;for(var r=!0,i=0;i<e.length&&(r=t(e[i],n[i]));i++);return r}if(Cr(e)||Cr(n)){var a=Object.keys(e),o=Object.keys(n);if(a.length!==o.length)return!1;for(var s=!0,l=0;l<a.length&&(s=t(e[a[l]],n[a[l]]));l++);return s}return!1},Tr=kr,Ir=Gn;function Er(t){return Ir(t)?Array.prototype.slice.call(t):[]}var Or=Er,Lr=Rn,Dr=X,Fr,Br=function t(e,n,r,i){Lr(n)||(r=n,n=e,e=function t(){});var a=Object.create?function(t,e){return Object.create(t,{constructor:{value:e}})}:function(t,e){function n(){}n.prototype=t;var r=new n;return r.constructor=e,r},o=a(n.prototype,e);return e.prototype=Dr(o,e.prototype),e.superclass=a(n.prototype,n),Dr(o,r),Dr(e,i),e},Rr=Rn,Nr=Or,jr=X,zr=function t(e){for(var n=Nr(arguments),r=1;r<n.length;r++){var i=n[r];Rr(i)&&(i=i.prototype),jr(e.prototype,i)}},Yr=zr,Gr=Array.prototype,Xr=Gr.splice,Vr=Gr.indexOf,Hr=Gr.slice,Wr=function t(e){for(var n=Hr.call(arguments,1),r=0;r<n.length;r++)for(var i=n[r],a=-1;(a=Vr.call(e,i))>-1;)Xr.call(e,a,1);return e},qr=Wr,Ur=1e-5,Zr=function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e-5;return Math.abs(e-n)<r},Qr=Math.PI/180,$r,Jr=function t(e){return Qr*e},Kr=180/Math.PI,ti,ei=function t(e){return Kr*e},ni,ri=function t(e,n){return(e%n+n)%n},ii,ai=function t(e,n,r){return e<n?n:e>r?r:e},oi=document.createElement("table"),si=document.createElement("tr"),li=/^\s*<(\w+|!)[^>]*>/,ui={tr:document.createElement("tbody"),tbody:oi,thead:oi,tfoot:oi,td:si,th:si,"*":document.createElement("div")},ci=function t(e){var n=li.test(e)&&RegExp.$1;n in ui||(n="*");var r=ui[n];e=e.replace(/(^\s*)|(\s*$)/g,""),r.innerHTML=""+e;var i=r.childNodes[0];return r.removeChild(i),i},hi=function t(e,n){if(e)for(var r in n)n.hasOwnProperty(r)&&(e.style[r]=n[r]);return e},fi=function t(e){var n;return(window.requestAnimationFrame||window.webkitRequestAnimationFrame||function(t){return setTimeout(t,16)})(e)},pi={},di={};Object.defineProperty(di,"__esModule",{value:!0}),di.setMatrixArrayType=vi,di.toRadian=yi,di.equals=xi;var gi=di.EPSILON=1e-6;function vi(t){di.ARRAY_TYPE=t}di.ARRAY_TYPE="undefined"!=typeof Float32Array?Float32Array:Array,di.RANDOM=Math.random;var mi=Math.PI/180;function yi(t){return t*mi}function xi(t,e){return Math.abs(t-e)<=gi*Math.max(1,Math.abs(t),Math.abs(e))}Object.defineProperty(pi,"__esModule",{value:!0}),pi.sub=pi.mul=void 0,pi.create=Si,pi.fromMat4=Mi,pi.clone=Ci,pi.copy=Ai,pi.fromValues=Pi,pi.set=ki,pi.identity=Ti,pi.transpose=Ii,pi.invert=Ei,pi.adjoint=Oi,pi.determinant=Li,pi.multiply=Di,pi.translate=Fi,pi.rotate=Bi,pi.scale=Ri,pi.fromTranslation=Ni,pi.fromRotation=ji,pi.fromScaling=zi,pi.fromMat2d=Yi,pi.fromQuat=Gi,pi.normalFromMat4=Xi,pi.projection=Vi,pi.str=Hi,pi.frob=Wi,pi.add=qi,pi.subtract=Ui,pi.multiplyScalar=Zi,pi.multiplyScalarAndAdd=Qi,pi.exactEquals=$i,pi.equals=Ji;var _i,bi=wi(di);function wi(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function Si(){var t=new bi.ARRAY_TYPE(9);return bi.ARRAY_TYPE!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}function Mi(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t}function Ci(t){var e=new bi.ARRAY_TYPE(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function Ai(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function Pi(t,e,n,r,i,a,o,s,l){var u=new bi.ARRAY_TYPE(9);return u[0]=t,u[1]=e,u[2]=n,u[3]=r,u[4]=i,u[5]=a,u[6]=o,u[7]=s,u[8]=l,u}function ki(t,e,n,r,i,a,o,s,l,u){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=a,t[5]=o,t[6]=s,t[7]=l,t[8]=u,t}function Ti(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function Ii(t,e){if(t===e){var n=e[1],r=e[2],i=e[5];t[1]=e[3],t[2]=e[6],t[3]=n,t[5]=e[7],t[6]=r,t[7]=i}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t}function Ei(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],l=e[6],u=e[7],c=e[8],h=c*o-s*u,f=-c*a+s*l,p=u*a-o*l,d=n*h+r*f+i*p;return d?(d=1/d,t[0]=h*d,t[1]=(-c*r+i*u)*d,t[2]=(s*r-i*o)*d,t[3]=f*d,t[4]=(c*n-i*l)*d,t[5]=(-s*n+i*a)*d,t[6]=p*d,t[7]=(-u*n+r*l)*d,t[8]=(o*n-r*a)*d,t):null}function Oi(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],l=e[6],u=e[7],c=e[8];return t[0]=o*c-s*u,t[1]=i*u-r*c,t[2]=r*s-i*o,t[3]=s*l-a*c,t[4]=n*c-i*l,t[5]=i*a-n*s,t[6]=a*u-o*l,t[7]=r*l-n*u,t[8]=n*o-r*a,t}function Li(t){var e=t[0],n=t[1],r=t[2],i=t[3],a=t[4],o=t[5],s=t[6],l=t[7],u=t[8];return e*(u*a-o*l)+n*(-u*i+o*s)+r*(l*i-a*s)}function Di(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=e[4],l=e[5],u=e[6],c=e[7],h=e[8],f=n[0],p=n[1],d=n[2],g=n[3],v=n[4],m=n[5],y=n[6],x=n[7],_=n[8];return t[0]=f*r+p*o+d*u,t[1]=f*i+p*s+d*c,t[2]=f*a+p*l+d*h,t[3]=g*r+v*o+m*u,t[4]=g*i+v*s+m*c,t[5]=g*a+v*l+m*h,t[6]=y*r+x*o+_*u,t[7]=y*i+x*s+_*c,t[8]=y*a+x*l+_*h,t}function Fi(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=e[4],l=e[5],u=e[6],c=e[7],h=e[8],f=n[0],p=n[1];return t[0]=r,t[1]=i,t[2]=a,t[3]=o,t[4]=s,t[5]=l,t[6]=f*r+p*o+u,t[7]=f*i+p*s+c,t[8]=f*a+p*l+h,t}function Bi(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=e[4],l=e[5],u=e[6],c=e[7],h=e[8],f=Math.sin(n),p=Math.cos(n);return t[0]=p*r+f*o,t[1]=p*i+f*s,t[2]=p*a+f*l,t[3]=p*o-f*r,t[4]=p*s-f*i,t[5]=p*l-f*a,t[6]=u,t[7]=c,t[8]=h,t}function Ri(t,e,n){var r=n[0],i=n[1];return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=i*e[3],t[4]=i*e[4],t[5]=i*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function Ni(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t}function ji(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=-n,t[4]=r,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function zi(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function Yi(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t}function Gi(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=n+n,s=r+r,l=i+i,u=n*o,c=r*o,h=r*s,f=i*o,p=i*s,d=i*l,g=a*o,v=a*s,m=a*l;return t[0]=1-h-d,t[3]=c-m,t[6]=f+v,t[1]=c+m,t[4]=1-u-d,t[7]=p-g,t[2]=f-v,t[5]=p+g,t[8]=1-u-h,t}function Xi(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],l=e[6],u=e[7],c=e[8],h=e[9],f=e[10],p=e[11],d=e[12],g=e[13],v=e[14],m=e[15],y=n*s-r*o,x=n*l-i*o,_=n*u-a*o,b=r*l-i*s,w=r*u-a*s,S=i*u-a*l,M=c*g-h*d,C=c*v-f*d,A=c*m-p*d,P=h*v-f*g,k=h*m-p*g,T=f*m-p*v,I=y*T-x*k+_*P+b*A-w*C+S*M;return I?(I=1/I,t[0]=(s*T-l*k+u*P)*I,t[1]=(l*A-o*T-u*C)*I,t[2]=(o*k-s*A+u*M)*I,t[3]=(i*k-r*T-a*P)*I,t[4]=(n*T-i*A+a*C)*I,t[5]=(r*A-n*k-a*M)*I,t[6]=(g*S-v*w+m*b)*I,t[7]=(v*_-d*S-m*x)*I,t[8]=(d*w-g*_+m*y)*I,t):null}function Vi(t,e,n){return t[0]=2/e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/n,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t}function Hi(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"}function Wi(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2))}function qi(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t}function Ui(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t}function Zi(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t}function Qi(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t}function $i(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]}function Ji(t,e){var n=t[0],r=t[1],i=t[2],a=t[3],o=t[4],s=t[5],l=t[6],u=t[7],c=t[8],h=e[0],f=e[1],p=e[2],d=e[3],g=e[4],v=e[5],m=e[6],y=e[7],x=e[8];return Math.abs(n-h)<=bi.EPSILON*Math.max(1,Math.abs(n),Math.abs(h))&&Math.abs(r-f)<=bi.EPSILON*Math.max(1,Math.abs(r),Math.abs(f))&&Math.abs(i-p)<=bi.EPSILON*Math.max(1,Math.abs(i),Math.abs(p))&&Math.abs(a-d)<=bi.EPSILON*Math.max(1,Math.abs(a),Math.abs(d))&&Math.abs(o-g)<=bi.EPSILON*Math.max(1,Math.abs(o),Math.abs(g))&&Math.abs(s-v)<=bi.EPSILON*Math.max(1,Math.abs(s),Math.abs(v))&&Math.abs(l-m)<=bi.EPSILON*Math.max(1,Math.abs(l),Math.abs(m))&&Math.abs(u-y)<=bi.EPSILON*Math.max(1,Math.abs(u),Math.abs(y))&&Math.abs(c-x)<=bi.EPSILON*Math.max(1,Math.abs(c),Math.abs(x))}pi.mul=Di,pi.sub=Ui;var Ki=pi;Ki.translate=function(t,e,n){var r=new Array(9);return Ki.fromTranslation(r,n),Ki.multiply(t,r,e)},Ki.rotate=function(t,e,n){var r=new Array(9);return Ki.fromRotation(r,n),Ki.multiply(t,r,e)},Ki.scale=function(t,e,n){var r=new Array(9);return Ki.fromScaling(r,n),Ki.multiply(t,r,e)};var ta=Ki,ea={};Object.defineProperty(ea,"__esModule",{value:!0}),ea.forEach=ea.sqrLen=ea.sqrDist=ea.dist=ea.div=ea.mul=ea.sub=ea.len=void 0,ea.create=oa,ea.clone=sa,ea.fromValues=la,ea.copy=ua,ea.set=ca,ea.add=ha,ea.subtract=fa,ea.multiply=pa,ea.divide=da,ea.ceil=ga,ea.floor=va,ea.min=ma,ea.max=ya,ea.round=xa,ea.scale=_a,ea.scaleAndAdd=ba,ea.distance=wa,ea.squaredDistance=Sa,ea.length=Ma,ea.squaredLength=Ca,ea.negate=Aa,ea.inverse=Pa,ea.normalize=ka,ea.dot=Ta,ea.cross=Ia,ea.lerp=Ea,ea.random=Oa,ea.transformMat2=La,ea.transformMat2d=Da,ea.transformMat3=Fa,ea.transformMat4=Ba,ea.rotate=Ra,ea.angle=Na,ea.str=ja,ea.exactEquals=za,ea.equals=Ya;var na,ra=aa(di),ia;function aa(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function oa(){var t=new ra.ARRAY_TYPE(2);return ra.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0),t}function sa(t){var e=new ra.ARRAY_TYPE(2);return e[0]=t[0],e[1]=t[1],e}function la(t,e){var n=new ra.ARRAY_TYPE(2);return n[0]=t,n[1]=e,n}function ua(t,e){return t[0]=e[0],t[1]=e[1],t}function ca(t,e,n){return t[0]=e,t[1]=n,t}function ha(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t}function fa(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t}function pa(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t}function da(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t}function ga(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t}function va(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t}function ma(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t}function ya(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t}function xa(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t}function _a(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t}function ba(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t}function wa(t,e){var n=e[0]-t[0],r=e[1]-t[1];return Math.sqrt(n*n+r*r)}function Sa(t,e){var n=e[0]-t[0],r=e[1]-t[1];return n*n+r*r}function Ma(t){var e=t[0],n=t[1];return Math.sqrt(e*e+n*n)}function Ca(t){var e=t[0],n=t[1];return e*e+n*n}function Aa(t,e){return t[0]=-e[0],t[1]=-e[1],t}function Pa(t,e){return t[0]=1/e[0],t[1]=1/e[1],t}function ka(t,e){var n=e[0],r=e[1],i=n*n+r*r;return i>0&&(i=1/Math.sqrt(i),t[0]=e[0]*i,t[1]=e[1]*i),t}function Ta(t,e){return t[0]*e[0]+t[1]*e[1]}function Ia(t,e,n){var r=e[0]*n[1]-e[1]*n[0];return t[0]=t[1]=0,t[2]=r,t}function Ea(t,e,n,r){var i=e[0],a=e[1];return t[0]=i+r*(n[0]-i),t[1]=a+r*(n[1]-a),t}function Oa(t,e){e=e||1;var n=2*ra.RANDOM()*Math.PI;return t[0]=Math.cos(n)*e,t[1]=Math.sin(n)*e,t}function La(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i,t[1]=n[1]*r+n[3]*i,t}function Da(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i+n[4],t[1]=n[1]*r+n[3]*i+n[5],t}function Fa(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[3]*i+n[6],t[1]=n[1]*r+n[4]*i+n[7],t}function Ba(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[4]*i+n[12],t[1]=n[1]*r+n[5]*i+n[13],t}function Ra(t,e,n,r){var i=e[0]-n[0],a=e[1]-n[1],o=Math.sin(r),s=Math.cos(r);return t[0]=i*s-a*o+n[0],t[1]=i*o+a*s+n[1],t}function Na(t,e){var n=t[0],r=t[1],i=e[0],a=e[1],o=n*n+r*r;o>0&&(o=1/Math.sqrt(o));var s=i*i+a*a;s>0&&(s=1/Math.sqrt(s));var l=(n*i+r*a)*o*s;return l>1?0:l<-1?Math.PI:Math.acos(l)}function ja(t){return"vec2("+t[0]+", "+t[1]+")"}function za(t,e){return t[0]===e[0]&&t[1]===e[1]}function Ya(t,e){var n=t[0],r=t[1],i=e[0],a=e[1];return Math.abs(n-i)<=ra.EPSILON*Math.max(1,Math.abs(n),Math.abs(i))&&Math.abs(r-a)<=ra.EPSILON*Math.max(1,Math.abs(r),Math.abs(a))}ea.len=Ma,ea.sub=fa,ea.mul=pa,ea.div=da,ea.dist=wa,ea.sqrDist=Sa,ea.sqrLen=Ca,ea.forEach=(ia=oa(),function(t,e,n,r,i,a){var o=void 0,s=void 0;for(e||(e=2),n||(n=0),s=r?Math.min(r*e+n,t.length):t.length,o=n;o<s;o+=e)ia[0]=t[o],ia[1]=t[o+1],i(ia,ia,a),t[o]=ia[0],t[o+1]=ia[1];return t});var Ga=ea,Xa=ai;Ga.angle=function(t,e){var n=Ga.dot(t,e)/(Ga.length(t)*Ga.length(e));return Math.acos(Xa(n,-1,1))},Ga.direction=function(t,e){return t[0]*e[1]-e[0]*t[1]},Ga.angleTo=function(t,e,n){var r=Ga.angle(t,e),i=Ga.direction(t,e)>=0;return n?i?2*Math.PI-r:r:i?r:2*Math.PI-r},Ga.vertical=function(t,e,n){return n?(t[0]=e[1],t[1]=-1*e[0]):(t[0]=-1*e[1],t[1]=e[0]),t};var Va=Ga,Ha={};Object.defineProperty(Ha,"__esModule",{value:!0}),Ha.forEach=Ha.sqrLen=Ha.len=Ha.sqrDist=Ha.dist=Ha.div=Ha.mul=Ha.sub=void 0,Ha.create=Za,Ha.clone=Qa,Ha.length=$a,Ha.fromValues=Ja,Ha.copy=Ka,Ha.set=to,Ha.add=eo,Ha.subtract=no,Ha.multiply=ro,Ha.divide=io,Ha.ceil=ao,Ha.floor=oo,Ha.min=so,Ha.max=lo,Ha.round=uo,Ha.scale=co,Ha.scaleAndAdd=ho,Ha.distance=fo,Ha.squaredDistance=po,Ha.squaredLength=go,Ha.negate=vo,Ha.inverse=mo,Ha.normalize=yo,Ha.dot=xo,Ha.cross=_o,Ha.lerp=bo,Ha.hermite=wo,Ha.bezier=So,Ha.random=Mo,Ha.transformMat4=Co,Ha.transformMat3=Ao,Ha.transformQuat=Po,Ha.rotateX=ko,Ha.rotateY=To,Ha.rotateZ=Io,Ha.angle=Eo,Ha.str=Oo,Ha.exactEquals=Lo,Ha.equals=Do;var Wa,qa=Ua(di);function Ua(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function Za(){var t=new qa.ARRAY_TYPE(3);return qa.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function Qa(t){var e=new qa.ARRAY_TYPE(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function $a(t){var e=t[0],n=t[1],r=t[2];return Math.sqrt(e*e+n*n+r*r)}function Ja(t,e,n){var r=new qa.ARRAY_TYPE(3);return r[0]=t,r[1]=e,r[2]=n,r}function Ka(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function to(t,e,n,r){return t[0]=e,t[1]=n,t[2]=r,t}function eo(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t}function no(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t}function ro(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t}function io(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t}function ao(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t}function oo(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t}function so(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t}function lo(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t}function uo(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t}function co(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t}function ho(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t}function fo(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return Math.sqrt(n*n+r*r+i*i)}function po(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return n*n+r*r+i*i}function go(t){var e=t[0],n=t[1],r=t[2];return e*e+n*n+r*r}function vo(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}function mo(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t}function yo(t,e){var n=e[0],r=e[1],i=e[2],a=n*n+r*r+i*i;return a>0&&(a=1/Math.sqrt(a),t[0]=e[0]*a,t[1]=e[1]*a,t[2]=e[2]*a),t}function xo(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function _o(t,e,n){var r=e[0],i=e[1],a=e[2],o=n[0],s=n[1],l=n[2];return t[0]=i*l-a*s,t[1]=a*o-r*l,t[2]=r*s-i*o,t}function bo(t,e,n,r){var i=e[0],a=e[1],o=e[2];return t[0]=i+r*(n[0]-i),t[1]=a+r*(n[1]-a),t[2]=o+r*(n[2]-o),t}function wo(t,e,n,r,i,a){var o=a*a,s=o*(2*a-3)+1,l=o*(a-2)+a,u=o*(a-1),c=o*(3-2*a);return t[0]=e[0]*s+n[0]*l+r[0]*u+i[0]*c,t[1]=e[1]*s+n[1]*l+r[1]*u+i[1]*c,t[2]=e[2]*s+n[2]*l+r[2]*u+i[2]*c,t}function So(t,e,n,r,i,a){var o=1-a,s=o*o,l=a*a,u=s*o,c=3*a*s,h=3*l*o,f=l*a;return t[0]=e[0]*u+n[0]*c+r[0]*h+i[0]*f,t[1]=e[1]*u+n[1]*c+r[1]*h+i[1]*f,t[2]=e[2]*u+n[2]*c+r[2]*h+i[2]*f,t}function Mo(t,e){e=e||1;var n=2*qa.RANDOM()*Math.PI,r=2*qa.RANDOM()-1,i=Math.sqrt(1-r*r)*e;return t[0]=Math.cos(n)*i,t[1]=Math.sin(n)*i,t[2]=r*e,t}function Co(t,e,n){var r=e[0],i=e[1],a=e[2],o=n[3]*r+n[7]*i+n[11]*a+n[15];return o=o||1,t[0]=(n[0]*r+n[4]*i+n[8]*a+n[12])/o,t[1]=(n[1]*r+n[5]*i+n[9]*a+n[13])/o,t[2]=(n[2]*r+n[6]*i+n[10]*a+n[14])/o,t}function Ao(t,e,n){var r=e[0],i=e[1],a=e[2];return t[0]=r*n[0]+i*n[3]+a*n[6],t[1]=r*n[1]+i*n[4]+a*n[7],t[2]=r*n[2]+i*n[5]+a*n[8],t}function Po(t,e,n){var r=n[0],i=n[1],a=n[2],o=n[3],s=e[0],l=e[1],u=e[2],c=i*u-a*l,h=a*s-r*u,f=r*l-i*s,p=i*f-a*h,d=a*c-r*f,g=r*h-i*c,v=2*o;return c*=v,h*=v,f*=v,p*=2,d*=2,g*=2,t[0]=s+c+p,t[1]=l+h+d,t[2]=u+f+g,t}function ko(t,e,n,r){var i=[],a=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],a[0]=i[0],a[1]=i[1]*Math.cos(r)-i[2]*Math.sin(r),a[2]=i[1]*Math.sin(r)+i[2]*Math.cos(r),t[0]=a[0]+n[0],t[1]=a[1]+n[1],t[2]=a[2]+n[2],t}function To(t,e,n,r){var i=[],a=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],a[0]=i[2]*Math.sin(r)+i[0]*Math.cos(r),a[1]=i[1],a[2]=i[2]*Math.cos(r)-i[0]*Math.sin(r),t[0]=a[0]+n[0],t[1]=a[1]+n[1],t[2]=a[2]+n[2],t}function Io(t,e,n,r){var i=[],a=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],a[0]=i[0]*Math.cos(r)-i[1]*Math.sin(r),a[1]=i[0]*Math.sin(r)+i[1]*Math.cos(r),a[2]=i[2],t[0]=a[0]+n[0],t[1]=a[1]+n[1],t[2]=a[2]+n[2],t}function Eo(t,e){var n=Ja(t[0],t[1],t[2]),r=Ja(e[0],e[1],e[2]);yo(n,n),yo(r,r);var i=xo(n,r);return i>1?0:i<-1?Math.PI:Math.acos(i)}function Oo(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"}function Lo(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]}function Do(t,e){var n=t[0],r=t[1],i=t[2],a=e[0],o=e[1],s=e[2];return Math.abs(n-a)<=qa.EPSILON*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(r-o)<=qa.EPSILON*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(i-s)<=qa.EPSILON*Math.max(1,Math.abs(i),Math.abs(s))}Ha.sub=no,Ha.mul=ro,Ha.div=io,Ha.dist=fo,Ha.sqrDist=po,Ha.len=$a,Ha.sqrLen=go,Ha.forEach=function(){var t=Za();return function(e,n,r,i,a,o){var s=void 0,l=void 0;for(n||(n=3),r||(r=0),l=i?Math.min(i*n+r,e.length):e.length,s=r;s<l;s+=n)t[0]=e[s],t[1]=e[s+1],t[2]=e[s+2],a(t,t,o),e[s]=t[0],e[s+1]=t[1],e[s+2]=t[2];return e}}();var Fo,Bo=Ha,Ro=lr,No=nt,jo=ta,zo=function t(e,n){return e=Ro(e),No(n,(function(t){switch(t[0]){case"t":jo.translate(e,e,[t[1],t[2]]);break;case"s":jo.scale(e,e,[t[1],t[2]]);break;case"r":jo.rotate(e,e,t[1]);break;case"m":jo.multiply(e,e,t[1]);break;default:return!1}})),e},Yo={isFunction:Rn,isObject:W,isBoolean:zn,isNil:D,isString:qt,isArray:J,isNumber:ht,isEmpty:er,uniqueId:ir,clone:lr,deepMix:br,assign:X,merge:br,upperFirst:Mr,each:nt,isEqual:Tr,toArray:Or,extend:Br,augment:Yr,remove:qr,isNumberEqual:Zr,toRadian:Jr,toDegree:ei,mod:ri,clamp:ai,createDom:ci,modifyCSS:hi,requestAnimationFrame:fi,getRatio:function t(){return window.devicePixelRatio?window.devicePixelRatio:2},mat3:ta,vec2:Va,vec3:Bo,transform:zo},Go=Yo,Xo={};Go.merge(Xo,Go,{isColorProp:function t(e){return["fill","stroke","fillStyle","strokeStyle"].includes(e)},isGradientColor:function t(e){return/^[r,R,L,l]{1}[\s]*\(/.test(e)},mixin:function t(e,n){var r=e.CFG?"CFG":"ATTRS";if(e&&n){e._mixins=n,e[r]=e[r]||{};var i={};Xo.each(n,(function(t){Xo.augment(e,t);var n=t[r];n&&Xo.merge(i,n)})),e[r]=Xo.merge(i,e[r])}}});var Vo=Xo,Ho=Vo,Wo=function t(e,n,r,i){this.type=e,this.target=null,this.currentTarget=null,this.bubbles=r,this.cancelable=i,this.timeStamp=(new Date).getTime(),this.defaultPrevented=!1,this.propagationStopped=!1,this.removed=!1,this.event=n};Ho.augment(Wo,{preventDefault:function t(){this.defaultPrevented=this.cancelable&&!0},stopPropagation:function t(){this.propagationStopped=!0},remove:function t(){this.remove=!0},clone:function t(){return Ho.clone(this)},toString:function t(){return"[Event (type="+this.type+")]"}});var qo=Wo,Uo=Vo,Zo=qo,Qo=["mousedown","mouseup","dblclick","mouseenter","mouseout","mouseover","mousemove","mouseleave"],$o=function t(){var e;return(new Date).getTime()},Jo=40,Ko=0,ts=null,es=null,ns={},rs=null,is=0,as={registerEvent:function t(){var e=this,n=this.get("el");Uo.each(Qo,(function(t){n.addEventListener(t,(function(n){e._triggerEvent(t,n)}),!1)})),n.addEventListener("touchstart",(function(t){Uo.isEmpty(t.touches)||e._triggerEvent("touchstart",t.touches[0])}),!1),n.addEventListener("touchmove",(function(t){Uo.isEmpty(t.touches)||e._triggerEvent("touchmove",t.touches[0])}),!1),n.addEventListener("touchend",(function(t){Uo.isEmpty(t.changedTouches)||e._triggerEvent("touchend",t.changedTouches[0])}),!1),n.addEventListener("contextmenu",(function(t){e._triggerEvent("contextmenu",t),t.preventDefault()}),!1)},_getEmitter:function t(e,n){if(e){if(!Uo.isEmpty(e._getEvents()))return e;var r=e.get("parent");if(r&&!n.propagationStopped)return this._getEmitter(r,n)}},_getEventObj:function t(e,n,r,i){var a=new Zo(e,n,!0,!0);return a.x=r.x,a.y=r.y,a.clientX=n.clientX,a.clientY=n.clientY,a.currentTarget=i,a.target=i,a},_triggerEvent:function t(e,n){var r=this,i=r.getPointByEvent(n),a=r.getShape(i.x,i.y,n),o=r.get("el");if(rs&&"svg"===r.getRenderer()&&(a=r.getShape(i.x,i.y)),"mousemove"===e){if(ts&&ts!==a&&(r._emitEvent("mouseout",n,i,ts),r._emitEvent("mouseleave",n,i,ts),rs&&r._emitEvent("dragleave",n,i,ts),a&&!a.destroyed||(o.style.cursor="default")),rs&&(r._emitEvent("drag",n,i,rs),r._emitEvent("mousemove",n,i,a)),a){if(!rs)if(es===a){var s,l=$o()-is,u=ns.x-n.clientX,c=ns.y-n.clientY,h;l>120||u*u+c*c>40?(rs=a,es=null,this._emitEvent("dragstart",n,i,a)):r._emitEvent("mousemove",n,i,a)}else r._emitEvent("mousemove",n,i,a);ts!==a&&(r._emitEvent("mouseenter",n,i,a),r._emitEvent("mouseover",n,i,a),rs&&r._emitEvent("dragenter",n,i,a))}else{var f=r._getEventObj("mousemove",n,i,r);r.emit("mousemove",f)}ts=a}else if(this._emitEvent(e,n,i,a||this),rs||"mousedown"!==e||0!==n.button||(es=a,ns={x:n.clientX,y:n.clientY},is=$o()),"mouseup"===e&&0===n.button){var p=ns.x-n.clientX,d=ns.y-n.clientY,g=p*p+d*d,v=$o(),m;(g<40||v-is<200)&&(is=0,this._emitEvent("click",n,i,es||this)),rs&&(rs._cfg.capture=!0,this._emitEvent("dragend",n,i,rs),rs=null,this._emitEvent("drop",n,i,a||this)),es=null}a&&!a.get("destroyed")&&(o.style.cursor=a.attr("cursor")||"default")},_emitEvent:function t(e,n,r,i){var a=this._getEventObj(e,n,r,i),o=this._getEmitter(i,n);return o&&!o.get("destroyed")&&o.emit(e,a),o}},os=Vo,ss={canFill:!1,canStroke:!1,initAttrs:function t(e){return this._attrs={opacity:1,fillOpacity:1,strokeOpacity:1,matrix:[1,0,0,0,1,0,0,0,1]},this.attr(os.assign(this.getDefaultAttrs(),e)),this},getDefaultAttrs:function t(){return{}},attr:function t(e,n){var r=this;if(0===arguments.length)return r._attrs;if(os.isObject(e)){for(var i in e)this._setAttr(i,e[i]);return r.clearBBox(),this._cfg.hasUpdate=!0,r}return 2===arguments.length?(this._setAttr(e,n),r.clearBBox(),this._cfg.hasUpdate=!0,r):r._attrs[e]},_setAttr:function t(e,n){var r=this,i=this._attrs;i[e]=n,"fill"!==e&&"stroke"!==e?"opacity"!==e?"clip"===e&&n?r._setClip(n):"path"===e&&r._afterSetAttrPath?r._afterSetAttrPath(n):"transform"!==e?"rotate"===e&&r.rotateAtStart(n):r.transform(n):i.globalAlpha=n:i[e+"Style"]=n},clearBBox:function t(){this.setSilent("box",null)},hasFill:function t(){return this.canFill&&this._attrs.fillStyle},hasStroke:function t(){return this.canStroke&&this._attrs.strokeStyle},_setClip:function t(e){e._cfg.renderer=this._cfg.renderer,e._cfg.canvas=this._cfg.canvas,e._cfg.parent=this._cfg.parent,e.hasFill=function(){return!0}}},ls=Vo;function us(t){return 1===t[0]&&0===t[1]&&0===t[3]&&1===t[4]&&0===t[6]&&0===t[7]}function cs(t){return 0===t[1]&&0===t[3]&&0===t[6]&&0===t[7]}function hs(t,e){us(e)||(cs(e)?(t[0]*=e[0],t[4]*=e[4]):ls.mat3.multiply(t,t,e))}var fs={initTransform:function t(){},resetMatrix:function t(){this.attr("matrix",[1,0,0,0,1,0,0,0,1])},translate:function t(e,n){var r=this._attrs.matrix;return ls.mat3.translate(r,r,[e,n]),this.clearTotalMatrix(),this.attr("matrix",r),this},rotate:function t(e){var n=this._attrs.matrix;return ls.mat3.rotate(n,n,e),this.clearTotalMatrix(),this.attr("matrix",n),this},scale:function t(e,n){var r=this._attrs.matrix;return ls.mat3.scale(r,r,[e,n]),this.clearTotalMatrix(),this.attr("matrix",r),this},rotateAtStart:function t(e){var n=this._attrs.x||this._cfg.attrs.x,r=this._attrs.y||this._cfg.attrs.y;return Math.abs(e)>2*Math.PI&&(e=e/180*Math.PI),this.transform([["t",-n,-r],["r",e],["t",n,r]])},move:function t(e,n){var r=this.get("x")||0,i=this.get("y")||0;return this.translate(e-r,n-i),this.set("x",e),this.set("y",n),this},transform:function t(e){var n=this,r=this._attrs.matrix;return ls.each(e,(function(t){switch(t[0]){case"t":n.translate(t[1],t[2]);break;case"s":n.scale(t[1],t[2]);break;case"r":n.rotate(t[1]);break;case"m":n.attr("matrix",ls.mat3.multiply([],r,t[1])),n.clearTotalMatrix()}})),n},setTransform:function t(e){return this.attr("matrix",[1,0,0,0,1,0,0,0,1]),this.transform(e)},getMatrix:function t(){return this.attr("matrix")},setMatrix:function t(e){return this.attr("matrix",e),this.clearTotalMatrix(),this},apply:function t(e,n){var r;return r=n?this._getMatrixByRoot(n):this.attr("matrix"),ls.vec3.transformMat3(e,e,r),this},_getMatrixByRoot:function t(e){var n=this;e=e||n;for(var r=n,i=[];r!==e;)i.unshift(r),r=r.get("parent");i.unshift(r);var a=[1,0,0,0,1,0,0,0,1];return ls.each(i,(function(t){ls.mat3.multiply(a,t.attr("matrix"),a)})),a},getTotalMatrix:function t(){var e=this._cfg.totalMatrix;if(!e){e=[1,0,0,0,1,0,0,0,1];var n=this._cfg.parent,r;if(n)hs(e,n.getTotalMatrix());hs(e,this.attr("matrix")),this._cfg.totalMatrix=e}return e},clearTotalMatrix:function t(){},invert:function t(e){var n=this.getTotalMatrix();if(cs(n))e[0]/=n[0],e[1]/=n[4];else{var r=ls.mat3.invert([],n);r&&ls.vec3.transformMat3(e,e,r)}return this},resetTransform:function t(e){var n=this.attr("matrix");us(n)||e.transform(n[0],n[1],n[3],n[4],n[6],n[7])}};function ps(){return ps=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ps.apply(this,arguments)}var ds=Vo,gs={delay:"delay",repeat:"repeat",rotate:"rotate"};function vs(t,e){var n={},r=e._attrs;for(var i in t.attrs)n[i]=r[i];return n}function ms(t,e){var n={matrix:null,attrs:{}},r=e._attrs;for(var i in t)"transform"===i?n.matrix=ds.transform(e.getMatrix(),t[i]):"matrix"===i?n.matrix=t[i]:ds.isColorProp(i)&&ds.isGradientColor(t[i])?n.attrs[i]=t[i]:gs[i]||r[i]===t[i]||("rotate"===i&&(e._attrs.rotate=e._attrs.rotate||0),n.attrs[i]=t[i]);return n}function ys(t,e){if(e.onFrame)return t;var n=e.delay,r=Object.prototype.hasOwnProperty;return ds.each(e.toAttrs,(function(e,i){ds.each(t,(function(t){n<t.startTime+t.duration&&r.call(t.toAttrs,i)&&(delete t.toAttrs[i],delete t.fromAttrs[i])}))})),e.toMatrix&&ds.each(t,(function(t){n<t.startTime+t.duration&&t.toMatrix&&delete t.toMatrix})),t}var xs={animate:function t(e,n,r,i,a){void 0===a&&(a=0);var o=this;o.set("animating",!0);var s=o.get("timeline");s||(s=o.get("canvas").get("timeline"),o.setSilent("timeline",s));var l=o.get("animators")||[];s._timer||s.initTimer(),ds.isNumber(i)&&(a=i,i=null),ds.isFunction(r)?(i=r,r="easeLinear"):r=r||"easeLinear";var u={repeat:e.repeat,duration:n,easing:r,callback:i,delay:a,startTime:s.getTime(),id:ds.uniqueId()};if(e.onFrame)u.onFrame=e.onFrame;else{var c=ms(e,o);u=ps({fromAttrs:vs(c,o),toAttrs:c.attrs,fromMatrix:ds.clone(o.getMatrix()),toMatrix:c.matrix},u)}l.length>0?l=ys(l,u):s.addAnimator(o),l.push(u),o.setSilent("animators",l),o.setSilent("pause",{isPaused:!1})},stopAnimate:function t(){var e=this,n=this.get("animators");ds.each(n,(function(t){e.attr(t.toAttrs||t.onFrame(1)),t.toMatrix&&e.attr("matrix",t.toMatrix),t.callback&&t.callback()})),this.setSilent("animating",!1),this.setSilent("animators",[])},pauseAnimate:function t(){var e=this,n=e.get("timeline");return e.setSilent("pause",{isPaused:!0,pauseTime:n.getTime()}),e},resumeAnimate:function t(){var e=this,n,r=e.get("timeline").getTime(),i=e.get("animators"),a=e.get("pause").pauseTime;return ds.each(i,(function(t){t.startTime=t.startTime+(r-a),t._paused=!1,t._pauseTime=null})),e.setSilent("pause",{isPaused:!1}),e.setSilent("animators",i),e}},_s=Yo,bs=Array.prototype.slice;function ws(t,e){for(var n=t.length;n--;)if(t[n].callback===e)return n;return-1}var Ss=function t(){};_s.augment(Ss,{on:function t(e,n,r){var i=this;if(!_s.isFunction(n))throw new TypeError("listener should be a function");return i._cfg._events||(i._cfg._events={}),i._cfg._events[e]||(i._cfg._events[e]=[]),i._cfg._events[e].push({callback:n,one:r}),this},one:function t(e,n){return this.on(e,n,!0),this},emit:function t(e){if(!this.get("destroyed")&&this._cfg._events&&!_s.isEmpty(this._cfg._events)){var n=this._cfg._events[e];if(!_s.isEmpty(n))for(var r=arguments,i=bs.call(r,1),a=n.length,o=0;o<a;)n[o]&&(n[o].callback.apply(this,i),n[o]&&n[o].one?(n.splice(o,1),a--):o++)}},trigger:function t(){this.emit.apply(this,arguments)},off:function t(e,n){var r=this._cfg._events;if(r&&!_s.isEmpty(r)){if(0===arguments.length)return this._cfg._events={},this;if(r[e]){var i=ws(r[e],n);i>=0&&r[e].splice(i,1),0===r[e].length&&delete r[e]}}},removeEvent:function t(e){return void 0===e?this._cfg._events={}:delete this._cfg._events[e],this},_getEvents:function t(){return this._cfg._events||{}}});var Ms=Ss,Cs,As=qo,Ps=Ms,ks=["click","mousedown","mouseup","dblclick","contextmenu","mouseout","mouseover","mousemove","dragstart","drag","dragend","dragenter","dragleave","drop"],Ts=function t(){};Vo.augment(Ts,Ps,{emit:function t(e,n){var r=arguments;if(Ps.prototype.emit.apply(this,r),!(r.length>=2&&r[1]instanceof As&&r[1].propagationStopped)&&ks.indexOf(e)>=0&&n.target===this)for(var i=this._cfg.parent;i&&!i.get("destroyed");)i.emit.apply(i,r),i=i._cfg.parent}});var Is,Es=Vo,Os=ss,Ls=fs,Ds=xs,Fs=Ts,Bs=function t(e){this._cfg={zIndex:0,capture:!0,visible:!0,destroyed:!1},Es.assign(this._cfg,this.getDefaultCfg(),e),this.initAttrs(this._cfg.attrs),this._cfg.attrs={},this.initTransform(),this.init()};Bs.CFG={id:null,zIndex:0,canvas:null,parent:null,capture:!0,context:null,visible:!0,destroyed:!1},Es.augment(Bs,Os,Ls,Fs,Ds,{init:function t(){this.setSilent("animable",!0),this.setSilent("animating",!1)},getParent:function t(){return this._cfg.parent},getDefaultCfg:function t(){return{}},set:function t(e,n){return"zIndex"===e&&this._beforeSetZIndex&&this._beforeSetZIndex(n),"loading"===e&&this._beforeSetLoading&&this._beforeSetLoading(n),this._cfg[e]=n,this},setSilent:function t(e,n){this._cfg[e]=n},get:function t(e){return this._cfg[e]},show:function t(){return this._cfg.visible=!0,this},hide:function t(){return this._cfg.visible=!1,this},remove:function t(e,n){var r=this._cfg,i=r.parent,a=r.el;return i&&Es.remove(i.get("children"),this),a&&(n?i&&i._cfg.tobeRemoved.push(a):a.parentNode.removeChild(a)),(e||void 0===e)&&this.destroy(),this},destroy:function t(){var e;this.get("destroyed")||(this._attrs=null,this.removeEvent(),this._cfg={destroyed:!0})},toFront:function t(){var e=this._cfg,n=e.parent;if(n){var r=n._cfg.children,i=e.el,a=r.indexOf(this);r.splice(a,1),r.push(this),i&&(i.parentNode.removeChild(i),e.el=null)}},toBack:function t(){var e=this._cfg,n=e.parent;if(n){var r=n._cfg.children,i=e.el,a=r.indexOf(this);if(r.splice(a,1),r.unshift(this),i){var o=i.parentNode;o.removeChild(i),o.insertBefore(i,o.firstChild)}}},_beforeSetZIndex:function t(e){var n=this._cfg.parent;this._cfg.zIndex=e,Es.isNil(n)||n.sort();var r=this._cfg.el;if(r){var i=n._cfg.children,a=i.indexOf(this),o=r.parentNode;o.removeChild(r),a===i.length-1?o.appendChild(r):o.insertBefore(r,o.childNodes[a])}return e},_setAttrs:function t(e){return this.attr(e),e},setZIndex:function t(e){return this._cfg.zIndex=e,this._beforeSetZIndex(e)},clone:function t(){return Es.clone(this)},getBBox:function t(){}});var Rs=Bs,Ns=Vo.vec2,js={at:function t(e,n,r){return(n-e)*r+e},pointDistance:function t(e,n,r,i,a,o){var s=[r-e,i-n];if(Ns.exactEquals(s,[0,0]))return NaN;var l=[-s[1],s[0]];Ns.normalize(l,l);var u=[a-e,o-n];return Math.abs(Ns.dot(u,l))},box:function t(e,n,r,i,a){var o=a/2,s=Math.min(e,r),l=Math.max(e,r),u,c;return{minX:s-o,minY:Math.min(n,i)-o,maxX:l+o,maxY:Math.max(n,i)+o}},len:function t(e,n,r,i){return Math.sqrt((r-e)*(r-e)+(i-n)*(i-n))}},zs=Vo,Ys=zs.vec2;function Gs(t,e,n,r){var i=1-r;return i*(i*t+2*r*e)+r*r*n}function Xs(t,e,n,r,i,a,o,s,l){var u,c=.005,h=1/0,f,p,d,g,v,m,y=1e-4,x=[o,s];for(g=0;g<1;g+=.05)p=[Gs(t,n,i,g),Gs(e,r,a,g)],(f=Ys.squaredDistance(x,p))<h&&(u=g,h=f);for(h=1/0,m=0;m<32&&!(c<y);m++){var _=u-c,b=u+c;p=[Gs(t,n,i,_),Gs(e,r,a,_)],f=Ys.squaredDistance(x,p),_>=0&&f<h?(u=_,h=f):(d=[Gs(t,n,i,b),Gs(e,r,a,b)],v=Ys.squaredDistance(x,d),b<=1&&v<h?(u=b,h=v):c*=.5)}return l&&(l.x=Gs(t,n,i,u),l.y=Gs(e,r,a,u)),Math.sqrt(h)}function Vs(t,e,n){var r=t+n-2*e;if(zs.isNumberEqual(r,0))return[.5];var i=(t-e)/r;return i<=1&&i>=0?[i]:[]}var Hs={at:Gs,projectPoint:function t(e,n,r,i,a,o,s,l){var u={};return Xs(e,n,r,i,a,o,s,l,u),u},pointDistance:Xs,extrema:Vs},Ws=Vo,qs=Ws.vec2;function Us(t,e,n,r,i){var a=1-i;return a*a*(a*r+3*i*n)+i*i*(i*t+3*a*e)}function Zs(t,e,n,r,i){var a=1-i;return 3*(((e-t)*a+2*(n-e)*i)*a+(r-n)*i*i)}function Qs(t,e,n,r,i,a,o,s,l,u,c){var h,f=.005,p=1/0,d,g,v,m,y,x,_,b=1e-4,w=[l,u];for(d=0;d<1;d+=.05)g=[Us(t,n,i,o,d),Us(e,r,a,s,d)],(v=qs.squaredDistance(w,g))<p&&(h=d,p=v);p=1/0;for(var S=0;S<32&&!(f<b);S++)_=h+f,g=[Us(t,n,i,o,x=h-f),Us(e,r,a,s,x)],v=qs.squaredDistance(w,g),x>=0&&v<p?(h=x,p=v):(y=[Us(t,n,i,o,_),Us(e,r,a,s,_)],m=qs.squaredDistance(w,y),_<=1&&m<p?(h=_,p=m):f*=.5);return c&&(c.x=Us(t,n,i,o,h),c.y=Us(e,r,a,s,h)),Math.sqrt(p)}function $s(t,e,n,r){var i=3*t-9*e+9*n-3*r,a=6*e-12*n+6*r,o=3*n-3*r,s=[],l,u,c;if(Ws.isNumberEqual(i,0))Ws.isNumberEqual(a,0)||(l=-o/a)>=0&&l<=1&&s.push(l);else{var h=a*a-4*i*o;Ws.isNumberEqual(h,0)?s.push(-a/(2*i)):h>0&&(u=(-a-(c=Math.sqrt(h)))/(2*i),(l=(-a+c)/(2*i))>=0&&l<=1&&s.push(l),u>=0&&u<=1&&s.push(u))}return s}function Js(t,e,n,r,i){var a,o;return t*(t*(-3*e+9*n-9*r+3*i)+6*e-12*n+6*r)-3*e+3*n}function Ks(t,e,n,r,i,a,o,s,l){Ws.isNil(l)&&(l=1);for(var u=(l=l>1?1:l<0?0:l)/2,c=12,h=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],f=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],p=0,d=0;d<c;d++){var g=u*h[d]+u,v=Js(g,t,n,i,o),m=Js(g,e,r,a,s),y=v*v+m*m;p+=f[d]*Math.sqrt(y)}return u*p}var tl={at:Us,derivativeAt:Zs,projectPoint:function t(e,n,r,i,a,o,s,l,u,c){var h={};return Qs(e,n,r,i,a,o,s,l,u,c,h),h},pointDistance:Qs,extrema:$s,len:Ks},el=Vo;function nl(t,e,n,r){return{x:Math.cos(r)*n+t,y:Math.sin(r)*n+e}}function rl(t,e,n,r){var i,a;return r?t<e?(i=e-t,a=2*Math.PI-n+t):t>n&&(i=2*Math.PI-t+e,a=t-n):(i=t-e,a=n-t),i>a?n:e}function il(t,e,n,r){var i=0;return n-e>=2*Math.PI&&(i=2*Math.PI),e=el.mod(e,2*Math.PI),n=el.mod(n,2*Math.PI)+i,t=el.mod(t,2*Math.PI),r?e>=n?t>n&&t<e?t:rl(t,n,e,!0):t<e||t>n?t:rl(t,e,n):e<=n?e<t&&t<n?t:rl(t,e,n,!0):t>e||t<n?t:rl(t,n,e)}function al(t,e,n,r,i,a,o,s,l){var u=[o,s],c=[t,e],h=[1,0],f=el.vec2.subtract([],u,c),p=el.vec2.angleTo(h,f);p=il(p,r,i,a);var d=[n*Math.cos(p)+t,n*Math.sin(p)+e],g;return l&&(l.x=d[0],l.y=d[1]),el.vec2.distance(d,u)}function ol(t,e,n,r,i,a){var o=0,s=Math.PI/2,l=Math.PI,u=3*Math.PI/2,c=[],h=il(0,r,i,a);0===h&&c.push(nl(t,e,n,0)),(h=il(s,r,i,a))===s&&c.push(nl(t,e,n,s)),(h=il(l,r,i,a))===l&&c.push(nl(t,e,n,l)),(h=il(u,r,i,a))===u&&c.push(nl(t,e,n,u)),c.push(nl(t,e,n,r)),c.push(nl(t,e,n,i));var f=1/0,p=-1/0,d=1/0,g=-1/0;return el.each(c,(function(t){f>t.x&&(f=t.x),p<t.x&&(p=t.x),d>t.y&&(d=t.y),g<t.y&&(g=t.y)})),{minX:f,minY:d,maxX:p,maxY:g}}var sl={nearAngle:il,projectPoint:function t(e,n,r,i,a,o,s,l){var u={};return al(e,n,r,i,a,o,s,l,u),u},pointDistance:al,box:ol},ll=js,ul=Hs,cl=tl,hl=sl,fl={line:function t(e,n,r,i,a,o,s){var l=ll.box(e,n,r,i,a);if(!this.box(l.minX,l.maxX,l.minY,l.maxY,o,s))return!1;var u=ll.pointDistance(e,n,r,i,o,s);return!isNaN(u)&&u<=a/2},polyline:function t(e,n,r,i){var a=e.length-1;if(a<1)return!1;for(var o=0;o<a;o++){var s=e[o][0],l=e[o][1],u=e[o+1][0],c=e[o+1][1];if(this.line(s,l,u,c,n,r,i))return!0}return!1},cubicline:function t(e,n,r,i,a,o,s,l,u,c,h){return cl.pointDistance(e,n,r,i,a,o,s,l,c,h)<=u/2},quadraticline:function t(e,n,r,i,a,o,s,l,u){return ul.pointDistance(e,n,r,i,a,o,l,u)<=s/2},arcline:function t(e,n,r,i,a,o,s,l,u){return hl.pointDistance(e,n,r,i,a,o,l,u)<=s/2},rect:function t(e,n,r,i,a,o){return e<=a&&a<=e+r&&n<=o&&o<=n+i},circle:function t(e,n,r,i,a){return Math.pow(i-e,2)+Math.pow(a-n,2)<=Math.pow(r,2)},box:function t(e,n,r,i,a,o){return e<=a&&a<=n&&r<=o&&o<=i}},pl={xAt:function t(e,n,r,i,a){return n*Math.cos(e)*Math.cos(a)-r*Math.sin(e)*Math.sin(a)+i},yAt:function t(e,n,r,i,a){return n*Math.sin(e)*Math.cos(a)+r*Math.cos(e)*Math.sin(a)+i},xExtrema:function t(e,n,r){return Math.atan(-r/n*Math.tan(e))},yExtrema:function t(e,n,r){return Math.atan(r/(n*Math.tan(e)))}},dl=Vo,gl=fl,vl={arc:sl,ellipse:pl,line:js},ml,yl=dl.createDom('<canvas width="1" height="1"></canvas>').getContext("2d");function xl(t,e,n){return n.createPath(yl),yl.isPointInPath(t,e)}var _l,bl,wl,Sl,Ml,Cl,Al=function t(e,n){var r=this,i=r.get("segments"),a=r.hasFill(),o=r.hasStroke();function s(){if(!dl.isEmpty(i)){for(var t=r.getHitLineWidth(),a=0,o=i.length;a<o;a++)if(i[a].isInside(e,n,t))return!0;return!1}}return a&&o?xl(e,n,r)||s():a?xl(e,n,r):!!o&&s()},Pl,kl,Tl,Il,El,Ol,Ll={arc:function t(e,n){var r=this._attrs,i=r.x,a=r.y,o=r.r,s=r.startAngle,l=r.endAngle,u=r.clockwise,c=this.getHitLineWidth();return!!this.hasStroke()&&gl.arcline(i,a,o,s,l,u,c,e,n)},circle:function t(e,n){var r=this._attrs,i=r.x,a=r.y,o=r.r,s=this.getHitLineWidth(),l=this.hasFill(),u=this.hasStroke();return l&&u?gl.circle(i,a,o,e,n)||gl.arcline(i,a,o,0,2*Math.PI,!1,s,e,n):l?gl.circle(i,a,o,e,n):!!u&&gl.arcline(i,a,o,0,2*Math.PI,!1,s,e,n)},dom:function t(e,n){if(!this._cfg.el)return!1;var r=this._cfg.el.getBBox();return gl.box(r.x,r.x+r.width,r.y,r.y+r.height,e,n)},ellipse:function t(e,n){var r=this._attrs,i=this.hasFill(),a=this.hasStroke(),o=r.x,s=r.y,l=r.rx,u=r.ry,c=this.getHitLineWidth(),h=l>u?l:u,f=l>u?1:l/u,p=l>u?u/l:1,d=[e,n,1],g=[1,0,0,0,1,0,0,0,1];dl.mat3.scale(g,g,[f,p]),dl.mat3.translate(g,g,[o,s]);var v=dl.mat3.invert([],g);return dl.vec3.transformMat3(d,d,v),i&&a?gl.circle(0,0,h,d[0],d[1])||gl.arcline(0,0,h,0,2*Math.PI,!1,c,d[0],d[1]):i?gl.circle(0,0,h,d[0],d[1]):!!a&&gl.arcline(0,0,h,0,2*Math.PI,!1,c,d[0],d[1])},fan:function t(e,n){var r=this,i=r.hasFill(),a=r.hasStroke(),o=r._attrs,s=o.x,l=o.y,u=o.rs,c=o.re,h=o.startAngle,f=o.endAngle,p=o.clockwise,d=[1,0],g=[e-s,n-l],v=dl.vec2.angleTo(d,g);function m(){var t=vl.arc.nearAngle(v,h,f,p);if(dl.isNumberEqual(v,t)){var e=dl.vec2.squaredLength(g);if(u*u<=e&&e<=c*c)return!0}return!1}function y(){var t=r.getHitLineWidth(),i={x:Math.cos(h)*u+s,y:Math.sin(h)*u+l},a={x:Math.cos(h)*c+s,y:Math.sin(h)*c+l},o={x:Math.cos(f)*u+s,y:Math.sin(f)*u+l},d={x:Math.cos(f)*c+s,y:Math.sin(f)*c+l};return!!gl.line(i.x,i.y,a.x,a.y,t,e,n)||(!!gl.line(o.x,o.y,d.x,d.y,t,e,n)||(!!gl.arcline(s,l,u,h,f,p,t,e,n)||!!gl.arcline(s,l,c,h,f,p,t,e,n)))}return i&&a?m()||y():i?m():!!a&&y()},image:function t(e,n){var r=this._attrs;if(this.get("toDraw")||!r.img)return!1;this._cfg.attrs&&this._cfg.attrs.img===r.img||this._setAttrImg();var i=r.x,a=r.y,o=r.width,s=r.height;return gl.rect(i,a,o,s,e,n)},line:function t(e,n){var r=this._attrs,i=r.x1,a=r.y1,o=r.x2,s=r.y2,l=this.getHitLineWidth();return!!this.hasStroke()&&gl.line(i,a,o,s,l,e,n)},path:Al,marker:function t(e,n){var r=this._attrs,i=r.x,a=r.y,o=r.radius||r.r,s=this.getHitLineWidth();return gl.circle(i,a,o+s/2,e,n)},polygon:function t(e,n){var r=this,i=r.hasFill(),a=r.hasStroke();function o(){var t,i=r._attrs.points;if(i.length<2)return!1;var a=r.getHitLineWidth(),o=i.slice(0);return i.length>=3&&o.push(i[0]),gl.polyline(o,a,e,n)}return i&&a?xl(e,n,r)||o():i?xl(e,n,r):!!a&&o()},polyline:function t(e,n){var r=this,i=r._attrs;if(r.hasStroke()){var a=i.points;if(a.length<2)return!1;var o=i.lineWidth;return gl.polyline(a,o,e,n)}return!1},rect:function t(e,n){var r=this,i=r.hasFill(),a=r.hasStroke();function o(){var t=r._attrs,i=t.x,a=t.y,o=t.width,s=t.height,l=t.radius,u=r.getHitLineWidth();if(0===l){var c=u/2;return gl.line(i-c,a,i+o+c,a,u,e,n)||gl.line(i+o,a-c,i+o,a+s+c,u,e,n)||gl.line(i+o+c,a+s,i-c,a+s,u,e,n)||gl.line(i,a+s+c,i,a-c,u,e,n)}return gl.line(i+l,a,i+o-l,a,u,e,n)||gl.line(i+o,a+l,i+o,a+s-l,u,e,n)||gl.line(i+o-l,a+s,i+l,a+s,u,e,n)||gl.line(i,a+s-l,i,a+l,u,e,n)||gl.arcline(i+o-l,a+l,l,1.5*Math.PI,2*Math.PI,!1,u,e,n)||gl.arcline(i+o-l,a+s-l,l,0,.5*Math.PI,!1,u,e,n)||gl.arcline(i+l,a+s-l,l,.5*Math.PI,Math.PI,!1,u,e,n)||gl.arcline(i+l,a+l,l,Math.PI,1.5*Math.PI,!1,u,e,n)}return i&&a?xl(e,n,r)||o():i?xl(e,n,r):!!a&&o()},text:function t(e,n){var r=this,i=r.getBBox();if(r.hasFill()||r.hasStroke())return gl.box(i.minX,i.maxX,i.minY,i.maxY,e,n)}},Dl,Fl=Vo,Bl={isPointInPath:function t(e,n){var r=Ll[this.type];return!!r&&r.call(this,e,n)}},Rl=Rs,Nl=fl,jl=["zIndex","capture","visible"],zl=function t(e){t.superclass.constructor.call(this,e)};zl.ATTRS={},Fl.extend(zl,Rl);var Yl={matrix:"matrix",path:"path",points:"points",lineDash:"lineDash"};function Gl(t){for(var e=[],n=0;n<t.length;n++)Fl.isArray(t[n])?e.push([].concat(t[n])):e.push(t[n]);return e}Fl.augment(zl,Bl,{isShape:!0,drawInner:function t(e){var n=this,r=n._attrs;n.createPath(e);var i=e.globalAlpha,a;if(n.hasFill()){var o=r.fillOpacity;Fl.isNil(o)||1===o?e.fill():(e.globalAlpha=o,e.fill(),e.globalAlpha=i)}if(n.hasStroke()&&n._attrs.lineWidth>0){var s=r.strokeOpacity;Fl.isNil(s)||1===s||(e.globalAlpha=s),e.stroke()}n.afterPath(e)},afterPath:function t(){},isHitBox:function t(){return!0},isHit:function t(e,n){var r=this,i=[e,n,1];if(r.invert(i),r.isHitBox()){var a=r.getBBox();if(a&&!Nl.box(a.minX,a.maxX,a.minY,a.maxY,i[0],i[1]))return!1}var o=r._attrs.clip;return o?(o.invert(i,r.get("canvas")),!!o.isPointInPath(i[0],i[1])&&r.isPointInPath(i[0],i[1])):r.isPointInPath(i[0],i[1])},calculateBox:function t(){return null},getHitLineWidth:function t(){var e=this._attrs,n=e.lineAppendWidth||0,r;return(e.lineWidth||0)+n},clearTotalMatrix:function t(){this._cfg.totalMatrix=null,this._cfg.region=null},clearBBox:function t(){this._cfg.box=null,this._cfg.region=null},getBBox:function t(){var e=this._cfg.box;return e||((e=this.calculateBox())&&(e.x=e.minX,e.y=e.minY,e.width=e.maxX-e.minX,e.height=e.maxY-e.minY),this._cfg.box=e),e},clone:function t(){var e=this,n=null,r=e._attrs,i={};return Fl.each(r,(function(t,e){Yl[e]&&Fl.isArray(r[e])?i[e]=Gl(r[e]):i[e]=r[e]})),n=new e.constructor({attrs:i}),Fl.each(jl,(function(t){n._cfg[t]=e._cfg[t]})),n}});var Xl=zl,Vl=Vo,Hl=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,Wl=/[^\s\,]+/gi,ql={parseRadius:function t(e){var n=0,r=0,i=0,a=0;return Vl.isArray(e)?1===e.length?n=r=i=a=e[0]:2===e.length?(n=i=e[0],r=a=e[1]):3===e.length?(n=e[0],r=a=e[1],i=e[2]):(n=e[0],r=e[1],i=e[2],a=e[3]):n=r=i=a=e,{r1:n,r2:r,r3:i,r4:a}},parsePath:function t(e){return e=e||[],Vl.isArray(e)?e:Vl.isString(e)?(e=e.match(Hl),Vl.each(e,(function(t,n){if((t=t.match(Wl))[0].length>1){var r=t[0].charAt(0);t.splice(1,0,t[0].substr(1)),t[0]=r}Vl.each(t,(function(e,n){isNaN(e)||(t[n]=+e)})),e[n]=t})),e):void 0}},Ul=Vo,Zl=fl,Ql=tl,$l=Hs,Jl=pl,Kl=Ul.vec3,tu=Ul.mat3,eu=["m","l","c","a","q","h","v","t","s","z"];function nu(t,e,n){return{x:n.x+t,y:n.y+e}}function ru(t,e){return{x:e.x+(e.x-t.x),y:e.y+(e.y-t.y)}}function iu(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function au(t,e){return(t[0]*e[0]+t[1]*e[1])/(iu(t)*iu(e))}function ou(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(au(t,e))}function su(t,e,n,r,i,a,o){var s=Ul.mod(Ul.toRadian(o),2*Math.PI),l=t.x,u=t.y,c=e.x,h=e.y,f=Math.cos(s)*(l-c)/2+Math.sin(s)*(u-h)/2,p=-1*Math.sin(s)*(l-c)/2+Math.cos(s)*(u-h)/2,d=f*f/(i*i)+p*p/(a*a);d>1&&(i*=Math.sqrt(d),a*=Math.sqrt(d));var g=i*i*(p*p)+a*a*(f*f),v=Math.sqrt((i*i*(a*a)-g)/g);n===r&&(v*=-1),isNaN(v)&&(v=0);var m=v*i*p/a,y=v*-a*f/i,x=(l+c)/2+Math.cos(s)*m-Math.sin(s)*y,_=(u+h)/2+Math.sin(s)*m+Math.cos(s)*y,b=ou([1,0],[(f-m)/i,(p-y)/a]),w=[(f-m)/i,(p-y)/a],S=[(-1*f-m)/i,(-1*p-y)/a],M=ou(w,S);return au(w,S)<=-1&&(M=Math.PI),au(w,S)>=1&&(M=0),0===r&&M>0&&(M-=2*Math.PI),1===r&&M<0&&(M+=2*Math.PI),[t,x,_,i,a,b,M,s,r]}var lu=function t(e,n,r){this.preSegment=n,this.isLast=r,this.init(e,n)};Ul.augment(lu,{init:function t(e,n){var r=e[0];n=n||{endPoint:{x:0,y:0}};var i=eu.indexOf(r)>=0,a=i?r.toUpperCase():r,o=e,s,l,u,c,h=n.endPoint,f=o[1],p=o[2];switch(a){default:break;case"M":c=i?nu(f,p,h):{x:f,y:p},this.command="M",this.params=[h,c],this.subStart=c,this.endPoint=c;break;case"L":c=i?nu(f,p,h):{x:f,y:p},this.command="L",this.params=[h,c],this.subStart=n.subStart,this.endPoint=c,this.endTangent=function(){return[c.x-h.x,c.y-h.y]},this.startTangent=function(){return[h.x-c.x,h.y-c.y]};break;case"H":c=i?nu(f,0,h):{x:f,y:h.y},this.command="L",this.params=[h,c],this.subStart=n.subStart,this.endPoint=c,this.endTangent=function(){return[c.x-h.x,c.y-h.y]},this.startTangent=function(){return[h.x-c.x,h.y-c.y]};break;case"V":c=i?nu(0,f,h):{x:h.x,y:f},this.command="L",this.params=[h,c],this.subStart=n.subStart,this.endPoint=c,this.endTangent=function(){return[c.x-h.x,c.y-h.y]},this.startTangent=function(){return[h.x-c.x,h.y-c.y]};break;case"Q":i?(s=nu(f,p,h),l=nu(o[3],o[4],h)):(s={x:f,y:p},l={x:o[3],y:o[4]}),this.command="Q",this.params=[h,s,l],this.subStart=n.subStart,this.endPoint=l,this.endTangent=function(){return[l.x-s.x,l.y-s.y]},this.startTangent=function(){return[h.x-s.x,h.y-s.y]};break;case"T":l=i?nu(f,p,h):{x:f,y:p},"Q"===n.command?(s=ru(n.params[1],h),this.command="Q",this.params=[h,s,l],this.subStart=n.subStart,this.endPoint=l,this.endTangent=function(){return[l.x-s.x,l.y-s.y]},this.startTangent=function(){return[h.x-s.x,h.y-s.y]}):(this.command="TL",this.params=[h,l],this.subStart=n.subStart,this.endPoint=l,this.endTangent=function(){return[l.x-h.x,l.y-h.y]},this.startTangent=function(){return[h.x-l.x,h.y-l.y]});break;case"C":i?(s=nu(f,p,h),l=nu(o[3],o[4],h),u=nu(o[5],o[6],h)):(s={x:f,y:p},l={x:o[3],y:o[4]},u={x:o[5],y:o[6]}),this.command="C",this.params=[h,s,l,u],this.subStart=n.subStart,this.endPoint=u,this.endTangent=function(){return[u.x-l.x,u.y-l.y]},this.startTangent=function(){return[h.x-s.x,h.y-s.y]};break;case"S":i?(l=nu(f,p,h),u=nu(o[3],o[4],h)):(l={x:f,y:p},u={x:o[3],y:o[4]}),"C"===n.command?(s=ru(n.params[2],h),this.command="C",this.params=[h,s,l,u],this.subStart=n.subStart,this.endPoint=u,this.endTangent=function(){return[u.x-l.x,u.y-l.y]},this.startTangent=function(){return[h.x-s.x,h.y-s.y]}):(this.command="SQ",this.params=[h,l,u],this.subStart=n.subStart,this.endPoint=u,this.endTangent=function(){return[u.x-l.x,u.y-l.y]},this.startTangent=function(){return[h.x-l.x,h.y-l.y]});break;case"A":var d=f,g=p,v=o[3],m=o[4],y=o[5];c=i?nu(o[6],o[7],h):{x:o[6],y:o[7]},this.command="A";var x=su(h,c,m,y,d,g,v);this.params=x;var _=n.subStart;this.subStart=_,this.endPoint=c;var b=x[5]%(2*Math.PI);Ul.isNumberEqual(b,2*Math.PI)&&(b=0);var w=x[6]%(2*Math.PI);Ul.isNumberEqual(w,2*Math.PI)&&(w=0);var S=.001;this.startTangent=function(){0===y&&(S*=-1);var t=x[3]*Math.cos(b-S)+x[1],e=x[4]*Math.sin(b-S)+x[2];return[t-_.x,e-_.y]},this.endTangent=function(){var t=x[6];t-2*Math.PI<1e-4&&(t=0);var e=x[3]*Math.cos(b+t+S)+x[1],n=x[4]*Math.sin(b+t-S)+x[2];return[h.x-e,h.y-n]};break;case"Z":this.command="Z",this.params=[h,n.subStart],this.subStart=n.subStart,this.endPoint=n.subStart}},isInside:function t(e,n,r){var i=this,a=i.command,o=i.params,s=i.box;if(s&&!Zl.box(s.minX,s.maxX,s.minY,s.maxY,e,n))return!1;switch(a){default:break;case"M":return!1;case"TL":case"L":case"Z":return Zl.line(o[0].x,o[0].y,o[1].x,o[1].y,r,e,n);case"SQ":case"Q":return Zl.quadraticline(o[0].x,o[0].y,o[1].x,o[1].y,o[2].x,o[2].y,r,e,n);case"C":return Zl.cubicline(o[0].x,o[0].y,o[1].x,o[1].y,o[2].x,o[2].y,o[3].x,o[3].y,r,e,n);case"A":var l=o,u=l[1],c=l[2],h=l[3],f=l[4],p=l[5],d=l[6],g=l[7],v=l[8],m=h>f?h:f,y=h>f?1:h/f,x=h>f?f/h:1;l=[e,n,1];var _=[1,0,0,0,1,0,0,0,1];return tu.translate(_,_,[-u,-c]),tu.rotate(_,_,-g),tu.scale(_,_,[1/y,1/x]),Kl.transformMat3(l,l,_),Zl.arcline(0,0,m,p,p+d,1-v,r,l[0],l[1])}return!1},draw:function t(e){var n=this.command,r=this.params,i,a,o;switch(n){default:break;case"M":e.moveTo(r[1].x,r[1].y);break;case"TL":case"L":e.lineTo(r[1].x,r[1].y);break;case"SQ":case"Q":i=r[1],a=r[2],e.quadraticCurveTo(i.x,i.y,a.x,a.y);break;case"C":i=r[1],a=r[2],o=r[3],e.bezierCurveTo(i.x,i.y,a.x,a.y,o.x,o.y);break;case"A":var s=r,l,u,c=s[1],h=s[2],f=s[3],p=s[4],d=s[5],g=s[6],v=s[7],m=s[8],y=f>p?f:p,x=f>p?1:f/p,_=f>p?p/f:1;e.translate(c,h),e.rotate(v),e.scale(x,_),e.arc(0,0,y,d,d+g,1-m),e.scale(1/x,1/_),e.rotate(-v),e.translate(-c,-h);break;case"Z":e.closePath()}},shortenDraw:function t(e,n,r){var i=this.command,a=this.params,o,s,l;switch(i){default:break;case"M":e.moveTo(a[1].x-n,a[1].y-r);break;case"TL":case"L":e.lineTo(a[1].x-n,a[1].y-r);break;case"SQ":case"Q":o=a[1],s=a[2],e.quadraticCurveTo(o.x,o.y,s.x-n,s.y-r);break;case"C":o=a[1],s=a[2],l=a[3],e.bezierCurveTo(o.x,o.y,s.x,s.y,l.x-n,l.y-r);break;case"A":var u=a,c,h,f=u[1],p=u[2],d=u[3],g=u[4],v=u[5],m=u[6],y=u[7],x=u[8],_=d>g?d:g,b=d>g?1:d/g,w=d>g?g/d:1;e.translate(f,p),e.rotate(y),e.scale(b,w),e.arc(0,0,_,v,v+m,1-x),e.scale(1/b,1/w),e.rotate(-y),e.translate(-f,-p);break;case"Z":e.closePath()}},getBBox:function t(e){var n=e/2,r=this.params,i,a,o,s;switch(this.command){default:break;case"TL":case"L":this.box={minX:Math.min(r[0].x,r[1].x)-n,maxX:Math.max(r[0].x,r[1].x)+n,minY:Math.min(r[0].y,r[1].y)-n,maxY:Math.max(r[0].y,r[1].y)+n};break;case"SQ":case"Q":for(o=0,s=(a=$l.extrema(r[0].x,r[1].x,r[2].x)).length;o<s;o++)a[o]=$l.at(r[0].x,r[1].x,r[2].x,a[o]);for(a.push(r[0].x,r[2].x),o=0,s=(i=$l.extrema(r[0].y,r[1].y,r[2].y)).length;o<s;o++)i[o]=$l.at(r[0].y,r[1].y,r[2].y,i);i.push(r[0].y,r[2].y),this.box={minX:Math.min.apply(Math,a)-n,maxX:Math.max.apply(Math,a)+n,minY:Math.min.apply(Math,i)-n,maxY:Math.max.apply(Math,i)+n};break;case"C":for(o=0,s=(a=Ql.extrema(r[0].x,r[1].x,r[2].x,r[3].x)).length;o<s;o++)a[o]=Ql.at(r[0].x,r[1].x,r[2].x,r[3].x,a[o]);for(o=0,s=(i=Ql.extrema(r[0].y,r[1].y,r[2].y,r[3].y)).length;o<s;o++)i[o]=Ql.at(r[0].y,r[1].y,r[2].y,r[3].y,i[o]);a.push(r[0].x,r[3].x),i.push(r[0].y,r[3].y),this.box={minX:Math.min.apply(Math,a)-n,maxX:Math.max.apply(Math,a)+n,minY:Math.min.apply(Math,i)-n,maxY:Math.max.apply(Math,i)+n};break;case"A":var l=r,u=l[1],c=l[2],h=l[3],f=l[4],p=l[5],d=l[6],g=l[7],v=l[8],m=p,y=p+d,x=Jl.xExtrema(g,h,f),_=1/0,b=-1/0,w=[m,y];for(o=2*-Math.PI;o<=2*Math.PI;o+=Math.PI){var S=x+o;1===v?m<S&&S<y&&w.push(S):y<S&&S<m&&w.push(S)}for(o=0,s=w.length;o<s;o++){var M=Jl.xAt(g,h,f,u,w[o]);M<_&&(_=M),M>b&&(b=M)}var C=Jl.yExtrema(g,h,f),A=1/0,P=-1/0,k=[m,y];for(o=2*-Math.PI;o<=2*Math.PI;o+=Math.PI){var T=C+o;1===v?m<T&&T<y&&k.push(T):y<T&&T<m&&k.push(T)}for(o=0,s=k.length;o<s;o++){var I=Jl.yAt(g,h,f,c,k[o]);I<A&&(A=I),I>P&&(P=I)}this.box={minX:_-n,maxX:b+n,minY:A-n,maxY:P+n}}}});var uu=lu,cu=ql,hu=uu,fu=Math.PI,pu=Math.sin,du=Math.cos,gu=Math.atan2,vu=10,mu=fu/3;function yu(t,e,n,r,i,a,o){var s,l,u,c,h,f,p;if(!e.fill){var d=e.arrowLength||10,g=e.arrowAngle?e.arrowAngle*fu/180:mu;p=gu(r-a,n-i),h=Math.abs(e.lineWidth*du(p))/2,f=Math.abs(e.lineWidth*pu(p))/2,o&&(h=-h,f=-f),s=i+d*du(p+g/2),l=a+d*pu(p+g/2),u=i+d*du(p-g/2),c=a+d*pu(p-g/2),t.beginPath(),t.moveTo(s-h,l-f),t.lineTo(i-h,a-f),t.lineTo(u-h,c-f),t.moveTo(i-h,a-f),t.lineTo(i+h,a+f),t.moveTo(i,a),t.stroke()}}function xu(t){var e=[],n=cu.parsePath(t.path),r;if(!Array.isArray(n)||0===n.length||"M"!==n[0][0]&&"m"!==n[0][0])return!1;for(var i=n.length,a=0;a<n.length;a++){var o=n[a];r=new hu(o,r,a===i-1),e.push(r)}return e}function _u(t,e,n,r,i){var a=Math.atan2(r-e,n-t);return{dx:du(a)*i,dy:pu(a)*i}}function bu(t,e,n,r,i,a,o){var s=o?e.startArrow:e.endArrow,l=s.d,u=i-n,c=a-r,h=Math.atan2(c,u),f=xu(s);if(f){l&&(i-=du(h)*l,a-=pu(h)*l),t.save(),t.beginPath(),t.translate(i,a),t.rotate(h);for(var p=0;p<f.length;p++)f[p].draw(t);t.setTransform(1,0,0,1,0,0),t.fillStyle=t.strokeStyle,t.fill(),t.restore()}}var wu={addStartArrow:function t(e,n,r,i,a,o){"object"==typeof n.startArrow?bu(e,n,r,i,a,o,!0):n.startArrow&&yu(e,n,r,i,a,o,!0)},addEndArrow:function t(e,n,r,i,a,o){"object"==typeof n.endArrow?bu(e,n,r,i,a,o,!1):n.endArrow&&yu(e,n,r,i,a,o,!1)},getShortenOffset:_u},Su=Vo,Mu=Xl,Cu=sl,Au=wu;function Pu(t,e,n){return t+e*Math.cos(n)}function ku(t,e,n){return t+e*Math.sin(n)}var Tu=function t(e){t.superclass.constructor.call(this,e)};Tu.ATTRS={x:0,y:0,r:0,startAngle:0,endAngle:0,clockwise:!1,lineWidth:1,startArrow:!1,endArrow:!1},Su.extend(Tu,Mu),Su.augment(Tu,{canStroke:!0,type:"arc",getDefaultAttrs:function t(){return{x:0,y:0,r:0,startAngle:0,endAngle:0,clockwise:!1,lineWidth:1,startArrow:!1,endArrow:!1}},calculateBox:function t(){var e=this._attrs,n=e.x,r=e.y,i=e.r,a=e.startAngle,o=e.endAngle,s=e.clockwise,l,u=this.getHitLineWidth()/2,c=Cu.box(n,r,i,a,o,s);return c.minX-=u,c.minY-=u,c.maxX+=u,c.maxY+=u,c},getStartTangent:function t(){var e=this._attrs,n=e.x,r=e.y,i=e.startAngle,a=e.r,o=e.clockwise,s=Math.PI/180;o&&(s*=-1);var l=[],u=Pu(n,a,i+s),c=ku(r,a,i+s),h=Pu(n,a,i),f=ku(r,a,i);return l.push([u,c]),l.push([h,f]),l},getEndTangent:function t(){var e=this._attrs,n=e.x,r=e.y,i=e.endAngle,a=e.r,o=e.clockwise,s=Math.PI/180,l=[];o&&(s*=-1);var u=Pu(n,a,i+s),c=ku(r,a,i+s),h=Pu(n,a,i),f=ku(r,a,i);return l.push([h,f]),l.push([u,c]),l},createPath:function t(e){var n=this._attrs,r=n.x,i=n.y,a=n.r,o=n.startAngle,s=n.endAngle,l=n.clockwise;(e=e||self.get("context")).beginPath(),e.arc(r,i,a,o,s,l)},afterPath:function t(e){var n=this._attrs;if(e=e||this.get("context"),n.startArrow){var r=this.getStartTangent();Au.addStartArrow(e,n,r[0][0],r[0][1],r[1][0],r[1][1])}if(n.endArrow){var i=this.getEndTangent();Au.addEndArrow(e,n,i[0][0],i[0][1],i[1][0],i[1][1])}}});var Iu=Tu,Eu=Vo,Ou=Xl,Lu=function t(e){t.superclass.constructor.call(this,e)};Lu.ATTRS={x:0,y:0,r:0,lineWidth:1},Eu.extend(Lu,Ou),Eu.augment(Lu,{canFill:!0,canStroke:!0,type:"circle",getDefaultAttrs:function t(){return{lineWidth:1}},calculateBox:function t(){var e=this._attrs,n=e.x,r=e.y,i=e.r,a,o=this.getHitLineWidth()/2+i;return{minX:n-o,minY:r-o,maxX:n+o,maxY:r+o}},createPath:function t(e){var n=this._attrs,r=n.x,i=n.y,a=n.r;e.beginPath(),e.arc(r,i,a,0,2*Math.PI,!1),e.closePath()}});var Du=Lu,Fu=Vo,Bu=Xl,Ru=function t(e){t.superclass.constructor.call(this,e)};Fu.extend(Ru,Bu),Fu.augment(Ru,{canFill:!0,canStroke:!0,type:"dom",calculateBox:function t(){var e,n=this._attrs,r=n.x,i=n.y,a=n.width,o=n.height,s,l=this.getHitLineWidth()/2;return{minX:r-l,minY:i-l,maxX:r+a+l,maxY:i+o+l}}});var Nu=Ru,ju=Vo,zu=Xl,Yu=function t(e){t.superclass.constructor.call(this,e)};Yu.ATTRS={x:0,y:0,rx:1,ry:1,lineWidth:1},ju.extend(Yu,zu),ju.augment(Yu,{canFill:!0,canStroke:!0,type:"ellipse",getDefaultAttrs:function t(){return{lineWidth:1}},calculateBox:function t(){var e=this._attrs,n=e.x,r=e.y,i=e.rx,a=e.ry,o=this.getHitLineWidth(),s=i+o/2,l=a+o/2;return{minX:n-s,minY:r-l,maxX:n+s,maxY:r+l}},createPath:function t(e){var n=this._attrs,r=n.x,i=n.y,a=n.rx,o=n.ry;e=e||self.get("context");var s=a>o?a:o,l=a>o?1:a/o,u=a>o?o/a:1,c=[1,0,0,0,1,0,0,0,1];ju.mat3.scale(c,c,[l,u]),ju.mat3.translate(c,c,[r,i]),e.beginPath(),e.save(),e.transform(c[0],c[1],c[3],c[4],c[6],c[7]),e.arc(0,0,s,0,2*Math.PI),e.restore(),e.closePath()}});var Gu=Yu,Xu=Vo,Vu=Xl,Hu=sl,Wu=function t(e){t.superclass.constructor.call(this,e)};Wu.ATTRS={x:0,y:0,rs:0,re:0,startAngle:0,endAngle:0,clockwise:!1,lineWidth:1},Xu.extend(Wu,Vu),Xu.augment(Wu,{canFill:!0,canStroke:!0,type:"fan",getDefaultAttrs:function t(){return{clockwise:!1,lineWidth:1,rs:0,re:0}},calculateBox:function t(){var e,n=this._attrs,r=n.x,i=n.y,a=n.rs,o=n.re,s=n.startAngle,l=n.endAngle,u=n.clockwise,c=this.getHitLineWidth(),h=Hu.box(r,i,a,s,l,u),f=Hu.box(r,i,o,s,l,u),p,d,g,v,m=c/2;return{minX:Math.min(h.minX,f.minX)-m,minY:Math.min(h.minY,f.minY)-m,maxX:Math.max(h.maxX,f.maxX)+m,maxY:Math.max(h.maxY,f.maxY)+m}},createPath:function t(e){var n=this._attrs,r=n.x,i=n.y,a=n.rs,o=n.re,s=n.startAngle,l=n.endAngle,u=n.clockwise,c={x:Math.cos(s)*a+r,y:Math.sin(s)*a+i},h={x:Math.cos(s)*o+r,y:Math.sin(s)*o+i},f={x:Math.cos(l)*a+r,y:Math.sin(l)*a+i};(e=e||self.get("context")).beginPath(),e.moveTo(c.x,c.y),e.lineTo(h.x,h.y),e.arc(r,i,o,s,l,u),e.lineTo(f.x,f.y),e.arc(r,i,a,l,s,!u),e.closePath()}});var qu=Wu,Uu=Vo,Zu=Xl,Qu=function t(e){t.superclass.constructor.call(this,e)};Qu.ATTRS={x:0,y:0,img:void 0,width:0,height:0,sx:null,sy:null,swidth:null,sheight:null},Uu.extend(Qu,Zu),Uu.augment(Qu,{type:"image",isHitBox:function t(){return!1},calculateBox:function t(){var e=this._attrs;this._cfg.attrs&&this._cfg.attrs.img===e.img||this._setAttrImg();var n=e.x,r=e.y,i,a;return{minX:n,minY:r,maxX:n+e.width,maxY:r+e.height}},_beforeSetLoading:function t(e){var n=this.get("canvas");return!1===e&&!0===this.get("toDraw")&&(this._cfg.loading=!1,n.draw()),e},_setAttrImg:function t(){var e=this,n=e._attrs,r=n.img;if(!Uu.isString(r))return r instanceof Image?(n.width||e.attr("width",r.width),n.height||e.attr("height",r.height),r):r instanceof HTMLElement&&Uu.isString(r.nodeName)&&"CANVAS"===r.nodeName.toUpperCase()?(n.width||e.attr("width",Number(r.getAttribute("width"))),n.height||e.attr("height",Number(r.getAttribute("height"))),r):r instanceof ImageData?(n.width||e.attr("width",r.width),n.height||e.attr("height",r.height),r):null;var i=new Image;i.onload=function(){if(e.get("destroyed"))return!1;e.attr("imgSrc",r),e.attr("img",i);var t=e.get("callback");t&&t.call(e),e.set("loading",!1)},i.src=r,i.crossOrigin="Anonymous",e.set("loading",!0)},drawInner:function t(e){this._cfg.hasUpdate&&this._setAttrImg(),this.get("loading")?this.set("toDraw",!0):(this._drawImage(e),this._cfg.hasUpdate=!1)},_drawImage:function t(e){var n=this._attrs,r=n.x,i=n.y,a=n.img,o=n.width,s=n.height,l=n.sx,u=n.sy,c=n.swidth,h=n.sheight;this.set("toDraw",!1);var f=a;if(f instanceof ImageData&&((f=new Image).src=a),f instanceof Image||f instanceof HTMLElement&&Uu.isString(f.nodeName)&&"CANVAS"===f.nodeName.toUpperCase()){if(Uu.isNil(l)||Uu.isNil(u)||Uu.isNil(c)||Uu.isNil(h))return void e.drawImage(f,r,i,o,s);if(!(Uu.isNil(l)||Uu.isNil(u)||Uu.isNil(c)||Uu.isNil(h)))return void e.drawImage(f,l,u,c,h,r,i,o,s)}}});var $u=Qu,Ju=Vo,Ku=Xl,tc=wu,ec=js,nc=function t(e){t.superclass.constructor.call(this,e)};nc.ATTRS={x1:0,y1:0,x2:0,y2:0,lineWidth:1,startArrow:!1,endArrow:!1},Ju.extend(nc,Ku),Ju.augment(nc,{canStroke:!0,type:"line",getDefaultAttrs:function t(){return{lineWidth:1,startArrow:!1,endArrow:!1}},calculateBox:function t(){var e=this._attrs,n=e.x1,r=e.y1,i=e.x2,a=e.y2,o=this.getHitLineWidth();return ec.box(n,r,i,a,o)},createPath:function t(e){var n=this,r=this._attrs,i=r.x1,a=r.y1,o=r.x2,s=r.y2;if(r.startArrow&&r.startArrow.d){var l=tc.getShortenOffset(i,a,o,s,r.startArrow.d);i+=l.dx,a+=l.dy}if(r.endArrow&&r.endArrow.d){var u=tc.getShortenOffset(i,a,o,s,r.endArrow.d);o-=u.dx,s-=u.dy}(e=e||n.get("context")).beginPath(),e.moveTo(i,a),e.lineTo(o,s)},afterPath:function t(e){var n=this,r=n._attrs,i=r.x1,a=r.y1,o=r.x2,s=r.y2;e=e||n.get("context"),r.startArrow&&tc.addStartArrow(e,r,o,s,i,a),r.endArrow&&tc.addEndArrow(e,r,i,a,o,s)},getPoint:function t(e){var n=this._attrs;return{x:ec.at(n.x1,n.x2,e),y:ec.at(n.y1,n.y2,e)}}});var rc=nc,ic=Vo,ac=Xl,oc=ql,sc=uu,lc=function t(e){t.superclass.constructor.call(this,e)};lc.Symbols={circle:function t(e,n,r){return[["M",e,n],["m",-r,0],["a",r,r,0,1,0,2*r,0],["a",r,r,0,1,0,2*-r,0]]},square:function t(e,n,r){return[["M",e-r,n-r],["L",e+r,n-r],["L",e+r,n+r],["L",e-r,n+r],["Z"]]},diamond:function t(e,n,r){return[["M",e-r,n],["L",e,n-r],["L",e+r,n],["L",e,n+r],["Z"]]},triangle:function t(e,n,r){var i=r*Math.sin(1/3*Math.PI);return[["M",e-r,n+i],["L",e,n-i],["L",e+r,n+i],["z"]]},"triangle-down":function t(e,n,r){var i=r*Math.sin(1/3*Math.PI);return[["M",e-r,n-i],["L",e+r,n-i],["L",e,n+i],["Z"]]}},lc.ATTRS={path:null,lineWidth:1},ic.extend(lc,ac),ic.augment(lc,{type:"marker",canFill:!0,canStroke:!0,getDefaultAttrs:function t(){return{x:0,y:0,lineWidth:1}},calculateBox:function t(){var e=this._attrs,n=e.x,r=e.y,i=e.radius||e.r,a,o=this.getHitLineWidth()/2+i;return{minX:n-o,minY:r-o,maxX:n+o,maxY:r+o}},_getPath:function t(){var e=this._attrs,n=e.x,r=e.y,i=e.radius||e.r,a=e.symbol||"circle",o;return(o=ic.isFunction(a)?a:lc.Symbols[a])?o(n,r,i):(console.warn(a+" marker is not supported."),null)},createPath:function t(e){var n=this._cfg.segments;if(!n||this._cfg.hasUpdate){var r=oc.parsePath(this._getPath()),i;e.beginPath(),n=[];for(var a=0;a<r.length;a++){var o=r[a];i=new sc(o,i,a===r.length-1),n.push(i),i.draw(e)}this._cfg.segments=n,this._cfg.hasUpdate=!1}else{e.beginPath();for(var s=0;s<n.length;s++)n[s].draw(e)}}});var uc=lc,cc=Yo,hc="\t\n\v\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029",fc=new RegExp("([a-z])["+hc+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+hc+"]*,?["+hc+"]*)+)","ig"),pc=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+hc+"]*,?["+hc+"]*","ig"),dc=function t(e){if(!e)return null;if(typeof e==typeof[])return e;var n={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},r=[];return String(e).replace(fc,(function(t,e,i){var a=[],o=e.toLowerCase();if(i.replace(pc,(function(t,e){e&&a.push(+e)})),"m"===o&&a.length>2&&(r.push([e].concat(a.splice(0,2))),o="l",e="m"===e?"l":"L"),"o"===o&&1===a.length&&r.push([e,a[0]]),"r"===o)r.push([e].concat(a));else for(;a.length>=n[o]&&(r.push([e].concat(a.splice(0,n[o]))),n[o]););})),r},gc=function t(e,n){for(var r=[],i=0,a=e.length;a-2*!n>i;i+=2){var o=[{x:+e[i-2],y:+e[i-1]},{x:+e[i],y:+e[i+1]},{x:+e[i+2],y:+e[i+3]},{x:+e[i+4],y:+e[i+5]}];n?i?a-4===i?o[3]={x:+e[0],y:+e[1]}:a-2===i&&(o[2]={x:+e[0],y:+e[1]},o[3]={x:+e[2],y:+e[3]}):o[0]={x:+e[a-2],y:+e[a-1]}:a-4===i?o[3]=o[2]:i||(o[0]={x:+e[i],y:+e[i+1]}),r.push(["C",(-o[0].x+6*o[1].x+o[2].x)/6,(-o[0].y+6*o[1].y+o[2].y)/6,(o[1].x+6*o[2].x-o[3].x)/6,(o[1].y+6*o[2].y-o[3].y)/6,o[2].x,o[2].y])}return r},vc=function t(e,n,r,i,a){var o=[];if(null===a&&null===i&&(i=r),e=+e,n=+n,r=+r,i=+i,null!==a){var s=Math.PI/180,l=e+r*Math.cos(-i*s),u=e+r*Math.cos(-a*s),c,h;o=[["M",l,n+r*Math.sin(-i*s)],["A",r,r,0,+(a-i>180),0,u,n+r*Math.sin(-a*s)]]}else o=[["M",e,n],["m",0,-i],["a",r,i,0,1,1,0,2*i],["a",r,i,0,1,1,0,-2*i],["z"]];return o},mc=function t(e){if(!(e=dc(e))||!e.length)return[["M",0,0]];var n=[],r=0,i=0,a=0,o=0,s=0,l,u;"M"===e[0][0]&&(a=r=+e[0][1],o=i=+e[0][2],s++,n[0]=["M",r,i]);for(var c=3===e.length&&"M"===e[0][0]&&"R"===e[1][0].toUpperCase()&&"Z"===e[2][0].toUpperCase(),h,f,p=s,d=e.length;p<d;p++){if(n.push(h=[]),(l=(f=e[p])[0])!==l.toUpperCase())switch(h[0]=l.toUpperCase(),h[0]){case"A":h[1]=f[1],h[2]=f[2],h[3]=f[3],h[4]=f[4],h[5]=f[5],h[6]=+f[6]+r,h[7]=+f[7]+i;break;case"V":h[1]=+f[1]+i;break;case"H":h[1]=+f[1]+r;break;case"R":for(var g=2,v=(u=[r,i].concat(f.slice(1))).length;g<v;g++)u[g]=+u[g]+r,u[++g]=+u[g]+i;n.pop(),n=n.concat(gc(u,c));break;case"O":n.pop(),(u=vc(r,i,f[1],f[2])).push(u[0]),n=n.concat(u);break;case"U":n.pop(),n=n.concat(vc(r,i,f[1],f[2],f[3])),h=["U"].concat(n[n.length-1].slice(-2));break;case"M":a=+f[1]+r,o=+f[2]+i;break;default:for(var m=1,y=f.length;m<y;m++)h[m]=+f[m]+(m%2?r:i)}else if("R"===l)u=[r,i].concat(f.slice(1)),n.pop(),n=n.concat(gc(u,c)),h=["R"].concat(f.slice(-2));else if("O"===l)n.pop(),(u=vc(r,i,f[1],f[2])).push(u[0]),n=n.concat(u);else if("U"===l)n.pop(),n=n.concat(vc(r,i,f[1],f[2],f[3])),h=["U"].concat(n[n.length-1].slice(-2));else for(var x=0,_=f.length;x<_;x++)h[x]=f[x];if("O"!==(l=l.toUpperCase()))switch(h[0]){case"Z":r=+a,i=+o;break;case"H":r=h[1];break;case"V":i=h[1];break;case"M":a=h[h.length-2],o=h[h.length-1];break;default:r=h[h.length-2],i=h[h.length-1]}}return n},yc=function t(e,n,r,i){return[e,n,r,i,r,i]},xc=function t(e,n,r,i,a,o){var s=1/3,l=2/3;return[s*e+l*r,s*n+l*i,s*a+l*r,s*o+l*i,a,o]},_c=function t(e,n,r,i,a,o,s,l,u,c){r===i&&(r+=1);var h=120*Math.PI/180,f=Math.PI/180*(+a||0),p=[],d,g,v,m,y,x=function t(e,n,r){var i,a;return{x:e*Math.cos(r)-n*Math.sin(r),y:e*Math.sin(r)+n*Math.cos(r)}};if(c)g=c[0],v=c[1],m=c[2],y=c[3];else{e=(d=x(e,n,-f)).x,n=d.y,l=(d=x(l,u,-f)).x,u=d.y,e===l&&n===u&&(l+=1,u+=1);var _=(e-l)/2,b=(n-u)/2,w=_*_/(r*r)+b*b/(i*i);w>1&&(r*=w=Math.sqrt(w),i*=w);var S=r*r,M=i*i,C=(o===s?-1:1)*Math.sqrt(Math.abs((S*M-S*b*b-M*_*_)/(S*b*b+M*_*_)));m=C*r*b/i+(e+l)/2,y=C*-i*_/r+(n+u)/2,g=Math.asin(((n-y)/i).toFixed(9)),v=Math.asin(((u-y)/i).toFixed(9)),g=e<m?Math.PI-g:g,v=l<m?Math.PI-v:v,g<0&&(g=2*Math.PI+g),v<0&&(v=2*Math.PI+v),s&&g>v&&(g-=2*Math.PI),!s&&v>g&&(v-=2*Math.PI)}var A=v-g;if(Math.abs(A)>h){var P=v,k=l,T=u;v=g+h*(s&&v>g?1:-1),p=t(l=m+r*Math.cos(v),u=y+i*Math.sin(v),r,i,a,0,s,k,T,[v,P,m,y])}A=v-g;var I=Math.cos(g),E=Math.sin(g),O=Math.cos(v),L=Math.sin(v),D=Math.tan(A/4),F=4/3*r*D,B=4/3*i*D,R=[e,n],N=[e+F*E,n-B*I],j=[l+F*L,u-B*O],z=[l,u];if(N[0]=2*R[0]-N[0],N[1]=2*R[1]-N[1],c)return[N,j,z].concat(p);for(var Y=[],G=0,X=(p=[N,j,z].concat(p).join().split(",")).length;G<X;G++)Y[G]=G%2?x(p[G-1],p[G],f).y:x(p[G],p[G+1],f).x;return Y},bc=function t(e,n){var r=mc(e),i=n&&mc(n),a={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},o={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},s=[],l=[],u="",c="",h,f=function t(e,n,r){var i,a;if(!e)return["C",n.x,n.y,n.x,n.y,n.x,n.y];switch(!(e[0]in{T:1,Q:1})&&(n.qx=n.qy=null),e[0]){case"M":n.X=e[1],n.Y=e[2];break;case"A":e=["C"].concat(_c.apply(0,[n.x,n.y].concat(e.slice(1))));break;case"S":"C"===r||"S"===r?(i=2*n.x-n.bx,a=2*n.y-n.by):(i=n.x,a=n.y),e=["C",i,a].concat(e.slice(1));break;case"T":"Q"===r||"T"===r?(n.qx=2*n.x-n.qx,n.qy=2*n.y-n.qy):(n.qx=n.x,n.qy=n.y),e=["C"].concat(xc(n.x,n.y,n.qx,n.qy,e[1],e[2]));break;case"Q":n.qx=e[1],n.qy=e[2],e=["C"].concat(xc(n.x,n.y,e[1],e[2],e[3],e[4]));break;case"L":e=["C"].concat(yc(n.x,n.y,e[1],e[2]));break;case"H":e=["C"].concat(yc(n.x,n.y,e[1],n.y));break;case"V":e=["C"].concat(yc(n.x,n.y,n.x,e[1]));break;case"Z":e=["C"].concat(yc(n.x,n.y,n.X,n.Y))}return e},p=function t(e,n){if(e[n].length>7){e[n].shift();for(var a=e[n];a.length;)s[n]="A",i&&(l[n]="A"),e.splice(n++,0,["C"].concat(a.splice(0,6)));e.splice(n,1),h=Math.max(r.length,i&&i.length||0)}},d=function t(e,n,a,o,s){e&&n&&"M"===e[s][0]&&"M"!==n[s][0]&&(n.splice(s,0,["M",o.x,o.y]),a.bx=0,a.by=0,a.x=e[s][1],a.y=e[s][2],h=Math.max(r.length,i&&i.length||0))};h=Math.max(r.length,i&&i.length||0);for(var g=0;g<h;g++){r[g]&&(u=r[g][0]),"C"!==u&&(s[g]=u,g&&(c=s[g-1])),r[g]=f(r[g],a,c),"A"!==s[g]&&"C"===u&&(s[g]="C"),p(r,g),i&&(i[g]&&(u=i[g][0]),"C"!==u&&(l[g]=u,g&&(c=l[g-1])),i[g]=f(i[g],o,c),"A"!==l[g]&&"C"===u&&(l[g]="C"),p(i,g)),d(r,i,a,o,g),d(i,r,o,a,g);var v=r[g],m=i&&i[g],y=v.length,x=i&&m.length;a.x=v[y-2],a.y=v[y-1],a.bx=parseFloat(v[y-4])||a.x,a.by=parseFloat(v[y-3])||a.y,o.bx=i&&(parseFloat(m[x-4])||o.x),o.by=i&&(parseFloat(m[x-3])||o.y),o.x=i&&m[x-2],o.y=i&&m[x-1]}return i?[r,i]:r},wc=/,?([a-z]),?/gi,Sc=function t(e){return e.join(",").replace(wc,"$1")},Mc=function t(e,n,r,i,a){var o,s;return e*(e*(-3*n+9*r-9*i+3*a)+6*n-12*r+6*i)-3*n+3*r},Cc=function t(e,n,r,i,a,o,s,l,u){null===u&&(u=1);for(var c=(u=u>1?1:u<0?0:u)/2,h=12,f=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],p=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],d=0,g=0;g<h;g++){var v=c*f[g]+c,m=Mc(v,e,r,a,s),y=Mc(v,n,i,o,l),x=m*m+y*y;d+=p[g]*Math.sqrt(x)}return c*d},Ac=function t(e,n,r,i,a,o,s,l){for(var u=[],c=[[],[]],h,f,p,d,g=0;g<2;++g)if(0===g?(f=6*e-12*r+6*a,h=-3*e+9*r-9*a+3*s,p=3*r-3*e):(f=6*n-12*i+6*o,h=-3*n+9*i-9*o+3*l,p=3*i-3*n),Math.abs(h)<1e-12){if(Math.abs(f)<1e-12)continue;(d=-p/f)>0&&d<1&&u.push(d)}else{var v=f*f-4*p*h,m=Math.sqrt(v);if(!(v<0)){var y=(-f+m)/(2*h);y>0&&y<1&&u.push(y);var x=(-f-m)/(2*h);x>0&&x<1&&u.push(x)}}for(var _=u.length,b=_,w;_--;)w=1-(d=u[_]),c[0][_]=w*w*w*e+3*w*w*d*r+3*w*d*d*a+d*d*d*s,c[1][_]=w*w*w*n+3*w*w*d*i+3*w*d*d*o+d*d*d*l;return c[0][b]=e,c[1][b]=n,c[0][b+1]=s,c[1][b+1]=l,c[0].length=c[1].length=b+2,{min:{x:Math.min.apply(0,c[0]),y:Math.min.apply(0,c[1])},max:{x:Math.max.apply(0,c[0]),y:Math.max.apply(0,c[1])}}},Pc=function t(e,n,r,i,a,o,s,l){if(!(Math.max(e,r)<Math.min(a,s)||Math.min(e,r)>Math.max(a,s)||Math.max(n,i)<Math.min(o,l)||Math.min(n,i)>Math.max(o,l))){var u,c,h=(e-r)*(o-l)-(n-i)*(a-s);if(h){var f=((e*i-n*r)*(a-s)-(e-r)*(a*l-o*s))/h,p=((e*i-n*r)*(o-l)-(n-i)*(a*l-o*s))/h,d=+f.toFixed(2),g=+p.toFixed(2);if(!(d<+Math.min(e,r).toFixed(2)||d>+Math.max(e,r).toFixed(2)||d<+Math.min(a,s).toFixed(2)||d>+Math.max(a,s).toFixed(2)||g<+Math.min(n,i).toFixed(2)||g>+Math.max(n,i).toFixed(2)||g<+Math.min(o,l).toFixed(2)||g>+Math.max(o,l).toFixed(2)))return{x:f,y:p}}}},kc=function t(e,n,r){return n>=e.x&&n<=e.x+e.width&&r>=e.y&&r<=e.y+e.height},Tc=function t(e,n,r,i,a){if(a)return[["M",+e+ +a,n],["l",r-2*a,0],["a",a,a,0,0,1,a,a],["l",0,i-2*a],["a",a,a,0,0,1,-a,a],["l",2*a-r,0],["a",a,a,0,0,1,-a,-a],["l",0,2*a-i],["a",a,a,0,0,1,a,-a],["z"]];var o=[["M",e,n],["l",r,0],["l",0,i],["l",-r,0],["z"]];return o.parsePathArray=Sc,o},Ic=function t(e,n,r,i){return null===e&&(e=n=r=i=0),null===n&&(n=e.y,r=e.width,i=e.height,e=e.x),{x:e,y:n,width:r,w:r,height:i,h:i,x2:e+r,y2:n+i,cx:e+r/2,cy:n+i/2,r1:Math.min(r,i)/2,r2:Math.max(r,i)/2,r0:Math.sqrt(r*r+i*i)/2,path:Tc(e,n,r,i),vb:[e,n,r,i].join(" ")}},Ec=function t(e,n){return e=Ic(e),n=Ic(n),kc(n,e.x,e.y)||kc(n,e.x2,e.y)||kc(n,e.x,e.y2)||kc(n,e.x2,e.y2)||kc(e,n.x,n.y)||kc(e,n.x2,n.y)||kc(e,n.x,n.y2)||kc(e,n.x2,n.y2)||(e.x<n.x2&&e.x>n.x||n.x<e.x2&&n.x>e.x)&&(e.y<n.y2&&e.y>n.y||n.y<e.y2&&n.y>e.y)},Oc=function t(e,n,r,i,a,o,s,l){cc.isArray(e)||(e=[e,n,r,i,a,o,s,l]);var u=Ac.apply(null,e);return Ic(u.min.x,u.min.y,u.max.x-u.min.x,u.max.y-u.min.y)},Lc=function t(e,n,r,i,a,o,s,l,u){var c=1-u,h=Math.pow(c,3),f=Math.pow(c,2),p=u*u,d=p*u,g,v,m=e+2*u*(r-e)+p*(a-2*r+e),y=n+2*u*(i-n)+p*(o-2*i+n),x=r+2*u*(a-r)+p*(s-2*a+r),_=i+2*u*(o-i)+p*(l-2*o+i),b,w,S,M,C;return{x:h*e+3*f*u*r+3*c*u*u*a+d*s,y:h*n+3*f*u*i+3*c*u*u*o+d*l,m:{x:m,y:y},n:{x:x,y:_},start:{x:c*e+u*r,y:c*n+u*i},end:{x:c*a+u*s,y:c*o+u*l},alpha:90-180*Math.atan2(m-x,y-_)/Math.PI}},Dc=function t(e,n,r){var i=Oc(e),a=Oc(n);if(!Ec(i,a))return r?0:[];for(var o,s,l=~~(Cc.apply(0,e)/8),u=~~(Cc.apply(0,n)/8),c=[],h=[],f={},p=r?0:[],d=0;d<l+1;d++){var g=Lc.apply(0,e.concat(d/l));c.push({x:g.x,y:g.y,t:d/l})}for(var v=0;v<u+1;v++){var m=Lc.apply(0,n.concat(v/u));h.push({x:m.x,y:m.y,t:v/u})}for(var y=0;y<l;y++)for(var x=0;x<u;x++){var _=c[y],b=c[y+1],w=h[x],S=h[x+1],M=Math.abs(b.x-_.x)<.001?"y":"x",C=Math.abs(S.x-w.x)<.001?"y":"x",A=Pc(_.x,_.y,b.x,b.y,w.x,w.y,S.x,S.y);if(A){if(f[A.x.toFixed(4)]===A.y.toFixed(4))continue;f[A.x.toFixed(4)]=A.y.toFixed(4);var P=_.t+Math.abs((A[M]-_[M])/(b[M]-_[M]))*(b.t-_.t),k=w.t+Math.abs((A[C]-w[C])/(S[C]-w[C]))*(S.t-w.t);P>=0&&P<=1&&k>=0&&k<=1&&(r?p++:p.push({x:A.x,y:A.y,t1:P,t2:k}))}}return p},Fc=function t(e,n,r){var i,a,o,s,l,u,c,h,f,p;e=bc(e),n=bc(n);for(var d=r?0:[],g=0,v=e.length;g<v;g++){var m=e[g];if("M"===m[0])i=l=m[1],a=u=m[2];else{"C"===m[0]?(f=[i,a].concat(m.slice(1)),i=f[6],a=f[7]):(f=[i,a,i,a,l,u,l,u],i=l,a=u);for(var y=0,x=n.length;y<x;y++){var _=n[y];if("M"===_[0])o=c=_[1],s=h=_[2];else{"C"===_[0]?(p=[o,s].concat(_.slice(1)),o=p[6],s=p[7]):(p=[o,s,o,s,c,h,c,h],o=c,s=h);var b=Dc(f,p,r);if(r)d+=b;else{for(var w=0,S=b.length;w<S;w++)b[w].segment1=g,b[w].segment2=y,b[w].bez1=f,b[w].bez2=p;d=d.concat(b)}}}}}return d},Bc;function Rc(t,e){var n=[],r=[];function i(t,e){if(1===t.length)n.push(t[0]),r.push(t[0]);else{for(var a=[],o=0;o<t.length-1;o++)0===o&&n.push(t[0]),o===t.length-2&&r.push(t[o+1]),a[o]=[(1-e)*t[o][0]+e*t[o+1][0],(1-e)*t[o][1]+e*t[o+1][1]];i(a,e)}}return t.length&&i(t,e),{left:n,right:r.reverse()}}function Nc(t,e,n){var r=[[t[1],t[2]]];n=n||2;var i=[],a;"A"===e[0]?(r.push(e[6]),r.push(e[7])):"C"===e[0]?(r.push([e[1],e[2]]),r.push([e[3],e[4]]),r.push([e[5],e[6]])):"S"===e[0]||"Q"===e[0]?(r.push([e[1],e[2]]),r.push([e[3],e[4]])):r.push([e[1],e[2]]);for(var o=r,s=1/n,l=0;l<n-1;l++){var u,c=Rc(o,s/(1-s*l));i.push(c.left),o=c.right}return i.push(o),i.map((function(t){var e=[];return 4===t.length&&(e.push("C"),e=e.concat(t[2])),t.length>=3&&(3===t.length&&e.push("Q"),e=e.concat(t[1])),2===t.length&&e.push("L"),e=e.concat(t[t.length-1])}))}var jc=function t(e,n,r){if(1===r)return[[].concat(e)];var i=[];if("L"===n[0]||"C"===n[0]||"Q"===n[0])i=i.concat(Nc(e,n,r));else{var a=[].concat(e);"M"===a[0]&&(a[0]="L");for(var o=0;o<=r-1;o++)i.push(a)}return i},zc=function t(e,n){if(1===e.length)return e;var r=e.length-1,i=n.length-1,a=r/i,o=[];if(1===e.length&&"M"===e[0][0]){for(var s=0;s<i-r;s++)e.push(e[0]);return e}for(var l=0;l<i;l++){var u=Math.floor(a*l);o[u]=(o[u]||0)+1}var c=o.reduce((function(t,n,i){return i===r?t.concat(e[r]):t.concat(jc(e[i],e[i+1],n))}),[]);return c.unshift(e[0]),"Z"!==n[i]&&"z"!==n[i]||c.push("Z"),c},Yc=function t(e,n){if(e.length!==n.length)return!1;var r=!0;return cc.each(e,(function(t,e){if(t!==n[e])return r=!1,!1})),r};function Gc(t,e,n){var r=null,i=n;return e<i&&(i=e,r="add"),t<i&&(i=t,r="del"),{type:r,min:i}}var Xc=function t(e,n){var r=e.length,i=n.length,a,o,s=0;if(0===r||0===i)return null;for(var l=[],u=0;u<=r;u++)l[u]=[],l[u][0]={min:u};for(var c=0;c<=i;c++)l[0][c]={min:c};for(var h=1;h<=r;h++){a=e[h-1];for(var f=1;f<=i;f++){o=n[f-1],s=Yc(a,o)?0:1;var p=l[h-1][f].min+1,d=l[h][f-1].min+1,g=l[h-1][f-1].min+s;l[h][f]=Gc(p,d,g)}}return l},Vc=function t(e,n){var r=Xc(e,n),i=e.length,a=n.length,o=[],s=1,l=1;if(r[i][a]!==i){for(var u=1;u<=i;u++){var c=r[u][u].min;l=u;for(var h=s;h<=a;h++)r[u][h].min<c&&(c=r[u][h].min,l=h);s=l,r[u][s].type&&o.push({index:u-1,type:r[u][s].type})}for(var f=o.length-1;f>=0;f--)s=o[f].index,"add"===o[f].type?e.splice(s,0,[].concat(e[s])):e.splice(s,1)}var p=a-(i=e.length);if(i<a)for(var d=0;d<p;d++)"z"===e[i-1][0]||"Z"===e[i-1][0]?e.splice(i-2,0,e[i-2]):e.push(e[i-1]),i+=1;return e};function Hc(t,e,n){for(var r=[].concat(t),i,a=1/(n+1),o=Wc(e)[0],s=1;s<=n;s++)a*=s,0===(i=Math.floor(t.length*a))?r.unshift([o[0]*a+t[i][0]*(1-a),o[1]*a+t[i][1]*(1-a)]):r.splice(i,0,[o[0]*a+t[i][0]*(1-a),o[1]*a+t[i][1]*(1-a)]);return r}function Wc(t){var e=[];switch(t[0]){case"M":case"L":case"T":e.push([t[1],t[2]]);break;case"A":e.push([t[6],t[7]]);break;case"Q":case"S":e.push([t[3],t[4]]),e.push([t[1],t[2]]);break;case"C":e.push([t[5],t[6]]),e.push([t[1],t[2]]),e.push([t[3],t[4]]);break;case"H":case"V":e.push([t[1],t[1]])}return e}var qc=function t(e,n){if(e.length<=1)return e;for(var r,i=0;i<n.length;i++)if(e[i][0]!==n[i][0])switch(r=Wc(e[i]),n[i][0]){case"M":e[i]=["M"].concat(r[0]);break;case"L":e[i]=["L"].concat(r[0]);break;case"A":e[i]=[].concat(n[i]),e[i][6]=r[0][0],e[i][7]=r[0][1];break;case"Q":if(r.length<2){if(!(i>0)){e[i]=n[i];break}r=Hc(r,e[i-1],1)}e[i]=["Q"].concat(r.reduce((function(t,e){return t.concat(e)}),[]));break;case"T":e[i]=["T"].concat(r[0]);break;case"C":if(r.length<3){if(!(i>0)){e[i]=n[i];break}r=Hc(r,e[i-1],2)}e[i]=["C"].concat(r.reduce((function(t,e){return t.concat(e)}),[]));break;case"S":if(r.length<2){if(!(i>0)){e[i]=n[i];break}r=Hc(r,e[i-1],1)}e[i]=["S"].concat(r.reduce((function(t,e){return t.concat(e)}),[]));break;default:e[i]=n[i]}return e},Uc={parsePathString:dc,parsePathArray:Sc,pathTocurve:bc,pathToAbsolute:mc,catmullRomToBezier:gc,rectPath:Tc,fillPath:zc,fillPathByDiff:Vc,formatPath:qc,intersection:function t(e,n){return Fc(e,n)}},Zc=Vo,Qc=Xl,$c=uu,Jc=ql,Kc=wu,th=Uc,eh=tl,nh=function t(e){t.superclass.constructor.call(this,e)};nh.ATTRS={path:null,lineWidth:1,startArrow:!1,endArrow:!1},Zc.extend(nh,Qc),Zc.augment(nh,{canFill:!0,canStroke:!0,type:"path",getDefaultAttrs:function t(){return{lineWidth:1,startArrow:!1,endArrow:!1}},_afterSetAttrPath:function t(e){var n=this;if(Zc.isNil(e))return n.setSilent("segments",null),void n.setSilent("box",void 0);var r=Jc.parsePath(e),i,a=[];if(Zc.isArray(r)&&0!==r.length&&("M"===r[0][0]||"m"===r[0][0])){for(var o=r.length,s=0;s<r.length;s++){var l=r[s];i=new $c(l,i,s===o-1),a.push(i)}n.setSilent("segments",a),n.setSilent("tCache",null),n.setSilent("totalLength",null),n.setSilent("box",null)}},calculateBox:function t(){var e,n=this.get("segments");if(!n)return null;var r=this.getHitLineWidth(),i=1/0,a=-1/0,o=1/0,s=-1/0;return Zc.each(n,(function(t){t.getBBox(r);var e=t.box;e&&(e.minX<i&&(i=e.minX),e.maxX>a&&(a=e.maxX),e.minY<o&&(o=e.minY),e.maxY>s&&(s=e.maxY))})),i===1/0||o===1/0?{minX:0,minY:0,maxX:0,maxY:0}:{minX:i,minY:o,maxX:a,maxY:s}},_setTcache:function t(){var e=0,n=0,r=[],i,a,o,s,l=this._cfg.curve;l&&(Zc.each(l,(function(t,n){o=l[n+1],s=t.length,o&&(e+=eh.len(t[s-2],t[s-1],o[1],o[2],o[3],o[4],o[5],o[6]))})),this._cfg.totalLength=e,0!==e?(Zc.each(l,(function(t,u){o=l[u+1],s=t.length,o&&((i=[])[0]=n/e,a=eh.len(t[s-2],t[s-1],o[1],o[2],o[3],o[4],o[5],o[6]),n+=a,i[1]=n/e,r.push(i))})),this._cfg.tCache=r):this._cfg.tCache=[])},getTotalLength:function t(){var e=this.get("totalLength");return Zc.isNil(e)?(this._calculateCurve(),this._setTcache(),this.get("totalLength")):e},_calculateCurve:function t(){var e,n,r=this._attrs.path;this._cfg.curve=th.pathTocurve(r)},getStartTangent:function t(){var e=this.get("segments"),n,r,i,a;if(e.length>1)if(n=e[0].endPoint,r=e[1].endPoint,i=e[1].startTangent,a=[],Zc.isFunction(i)){var o=i();a.push([n.x-o[0],n.y-o[1]]),a.push([n.x,n.y])}else a.push([r.x,r.y]),a.push([n.x,n.y]);return a},getEndTangent:function t(){var e=this.get("segments"),n=e.length,r,i,a,o;if(n>1)if(r=e[n-2].endPoint,i=e[n-1].endPoint,a=e[n-1].endTangent,o=[],Zc.isFunction(a)){var s=a();o.push([i.x-s[0],i.y-s[1]]),o.push([i.x,i.y])}else o.push([r.x,r.y]),o.push([i.x,i.y]);return o},getPoint:function t(e){var n=this._cfg.tCache,r,i;n||(this._calculateCurve(),this._setTcache(),n=this._cfg.tCache);var a=this._cfg.curve;if(!n||0===n.length)return a?{x:a[0][1],y:a[0][2]}:null;Zc.each(n,(function(t,n){e>=t[0]&&e<=t[1]&&(r=(e-t[0])/(t[1]-t[0]),i=n)}));var o=a[i];if(Zc.isNil(o)||Zc.isNil(i))return null;var s=o.length,l=a[i+1];return{x:eh.at(o[s-2],l[1],l[3],l[5],1-r),y:eh.at(o[s-1],l[2],l[4],l[6],1-r)}},createPath:function t(e){var n=this,r=n._attrs,i=n.get("segments");if(Zc.isArray(i)){var a=i.length;if(0!==a){if((e=e||n.get("context")).beginPath(),r.startArrow&&r.startArrow.d){var o=n.getStartTangent(),s=Kc.getShortenOffset(o[0][0],o[0][1],o[1][0],o[1][1],r.startArrow.d);i[0].shortenDraw(e,s.dx,s.dy)}else i[0].draw(e);for(var l=1;l<a-2;l++)i[l].draw(e);if(r.endArrow&&r.endArrow.d){var u=n.getEndTangent(),c=Kc.getShortenOffset(u[0][0],u[0][1],u[1][0],u[1][1],r.endArrow.d),h=i[a-1];"Z"===h.command.toUpperCase()?(i[a-2]&&i[a-2].shortenDraw(e,c.dx,c.dy),h.draw(e)):(a>2&&i[a-2].draw(e),h.shortenDraw(e,c.dx,c.dy))}else i[a-2]&&i[a-2].draw(e),i[a-1].draw(e)}}},afterPath:function t(e){var n=this,r=n._attrs,i=n.get("segments"),a=r.path;if(e=e||n.get("context"),Zc.isArray(i)&&1!==i.length&&(r.startArrow||r.endArrow)&&"z"!==a[a.length-1]&&"Z"!==a[a.length-1]&&!r.fill){var o=n.getStartTangent();Kc.addStartArrow(e,r,o[0][0],o[0][1],o[1][0],o[1][1]);var s=n.getEndTangent();Kc.addEndArrow(e,r,s[0][0],s[0][1],s[1][0],s[1][1])}}});var rh=nh,ih=Vo,ah=Xl,oh=function t(e){t.superclass.constructor.call(this,e)};oh.ATTRS={points:null,lineWidth:1},ih.extend(oh,ah),ih.augment(oh,{canFill:!0,canStroke:!0,type:"polygon",getDefaultAttrs:function t(){return{lineWidth:1}},calculateBox:function t(){var e,n,r=this._attrs.points,i=this.getHitLineWidth();if(!r||0===r.length)return null;var a=1/0,o=1/0,s=-1/0,l=-1/0;ih.each(r,(function(t){var e=t[0],n=t[1];e<a&&(a=e),e>s&&(s=e),n<o&&(o=n),n>l&&(l=n)}));var u=i/2;return{minX:a-u,minY:o-u,maxX:s+u,maxY:l+u}},createPath:function t(e){var n=this,r,i=n._attrs.points;i.length<2||((e=e||n.get("context")).beginPath(),ih.each(i,(function(t,n){0===n?e.moveTo(t[0],t[1]):e.lineTo(t[0],t[1])})),e.closePath())}});var sh=oh,lh=Vo,uh=Xl,ch=wu,hh=js,fh=function t(e){t.superclass.constructor.call(this,e)};fh.ATTRS={points:null,lineWidth:1,startArrow:!1,endArrow:!1,tCache:null},lh.extend(fh,uh),lh.augment(fh,{canStroke:!0,type:"polyline",tCache:null,getDefaultAttrs:function t(){return{lineWidth:1,startArrow:!1,endArrow:!1}},calculateBox:function t(){var e,n=this._attrs,r=this.getHitLineWidth(),i=n.points;if(!i||0===i.length)return null;var a=1/0,o=1/0,s=-1/0,l=-1/0;lh.each(i,(function(t){var e=t[0],n=t[1];e<a&&(a=e),e>s&&(s=e),n<o&&(o=n),n>l&&(l=n)}));var u=r/2;return{minX:a-u,minY:o-u,maxX:s+u,maxY:l+u}},_setTcache:function t(){var e,n,r=this._attrs.points,i=0,a=0,o=[],s,l;r&&0!==r.length&&(lh.each(r,(function(t,e){r[e+1]&&(i+=hh.len(t[0],t[1],r[e+1][0],r[e+1][1]))})),i<=0||(lh.each(r,(function(t,e){r[e+1]&&((s=[])[0]=a/i,l=hh.len(t[0],t[1],r[e+1][0],r[e+1][1]),a+=l,s[1]=a/i,o.push(s))})),this.tCache=o))},createPath:function t(e){var n=this,r=n._attrs,i=r.points,a;if(!(i.length<2)){var o=i.length-1,s=i[0][0],l=i[0][1],u=i[o][0],c=i[o][1];if(r.startArrow&&r.startArrow.d){var h=ch.getShortenOffset(i[0][0],i[0][1],i[1][0],i[1][1],r.startArrow.d);s+=h.dx,l+=h.dy}if(r.endArrow&&r.endArrow.d){var f=ch.getShortenOffset(i[o-1][0],i[o-1][1],i[o][0],i[o][1],r.endArrow.d);u-=f.dx,c-=f.dy}for((e=e||n.get("context")).beginPath(),e.moveTo(s,l),a=1;a<o;a++)e.lineTo(i[a][0],i[a][1]);e.lineTo(u,c)}},getStartTangent:function t(){var e=this.__attrs.points,n=[];return n.push([e[1][0],e[1][1]]),n.push([e[0][0],e[0][1]]),n},getEndTangent:function t(){var e=this.__attrs.points,n=e.length-1,r=[];return r.push([e[n-1][0],e[n-1][1]]),r.push([e[n][0],e[n][1]]),r},afterPath:function t(e){var n=this,r=n._attrs,i=r.points,a=i.length-1;e=e||n.get("context"),r.startArrow&&ch.addStartArrow(e,r,i[1][0],i[1][1],i[0][0],i[0][1]),r.endArrow&&ch.addEndArrow(e,r,i[a-1][0],i[a-1][1],i[a][0],i[a][1])},getPoint:function t(e){var n,r=this._attrs.points,i=this.tCache,a,o;return i||(this._setTcache(),i=this.tCache),lh.each(i,(function(t,n){e>=t[0]&&e<=t[1]&&(a=(e-t[0])/(t[1]-t[0]),o=n)})),{x:hh.at(r[o][0],r[o+1][0],a),y:hh.at(r[o][1],r[o+1][1],a)}}});var ph=fh,dh=Vo,gh,vh=ql.parseRadius,mh=Xl,yh=function t(e){t.superclass.constructor.call(this,e)};yh.ATTRS={x:0,y:0,width:0,height:0,radius:0,lineWidth:1},dh.extend(yh,mh),dh.augment(yh,{canFill:!0,canStroke:!0,type:"rect",getDefaultAttrs:function t(){return{lineWidth:1,radius:0}},calculateBox:function t(){var e,n=this._attrs,r=n.x,i=n.y,a=n.width,o=n.height,s,l=this.getHitLineWidth()/2;return{minX:r-l,minY:i-l,maxX:r+a+l,maxY:i+o+l}},createPath:function t(e){var n=this,r=n._attrs,i=r.x,a=r.y,o=r.width,s=r.height,l=r.radius;if((e=e||n.get("context")).beginPath(),0===l)e.rect(i,a,o,s);else{var u=vh(l);e.moveTo(i+u.r1,a),e.lineTo(i+o-u.r2,a),0!==u.r2&&e.arc(i+o-u.r2,a+u.r2,u.r2,-Math.PI/2,0),e.lineTo(i+o,a+s-u.r3),0!==u.r3&&e.arc(i+o-u.r3,a+s-u.r3,u.r3,0,Math.PI/2),e.lineTo(i+u.r4,a+s),0!==u.r4&&e.arc(i+u.r4,a+s-u.r4,u.r4,Math.PI/2,Math.PI),e.lineTo(i,a+u.r1),0!==u.r1&&e.arc(i+u.r1,a+u.r1,u.r1,Math.PI,1.5*Math.PI),e.closePath()}}});var xh=yh,_h=Vo,bh=Xl,wh=function t(e){t.superclass.constructor.call(this,e)};wh.ATTRS={x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom",lineHeight:null,textArr:null},_h.extend(wh,bh),_h.augment(wh,{canFill:!0,canStroke:!0,type:"text",getDefaultAttrs:function t(){return{lineWidth:1,lineCount:1,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"}},initTransform:function t(){var e=this._attrs.fontSize;e&&+e<12&&this.transform([["t",-1*this._attrs.x,-1*this._attrs.y],["s",+e/12,+e/12],["t",this._attrs.x,this._attrs.y]])},_assembleFont:function t(){var e=this._attrs,n=e.fontSize,r=e.fontFamily,i=e.fontWeight,a=e.fontStyle,o=e.fontVariant;e.font=[a,o,i,n+"px",r].join(" ")},_setAttrText:function t(){var e=this._attrs,n=e.text,r=null;if(_h.isString(n))if(-1!==n.indexOf("\n")){var i=(r=n.split("\n")).length;e.lineCount=i}else e.lineCount=1;e.textArr=r},_getTextHeight:function t(){var e=this._attrs,n=e.lineCount,r=1*e.fontSize,i;return n>1?r*n+this._getSpaceingY()*(n-1):r},isHitBox:function t(){return!1},calculateBox:function t(){var e=this,n=e._attrs,r=this._cfg;r.attrs&&!r.hasUpdate||(this._assembleFont(),this._setAttrText()),n.textArr||this._setAttrText();var i=n.x,a=n.y,o=e.measureText();if(!o)return{minX:i,minY:a,maxX:i,maxY:a};var s=e._getTextHeight(),l=n.textAlign,u=n.textBaseline,c=e.getHitLineWidth(),h={x:i,y:a-s};l&&("end"===l||"right"===l?h.x-=o:"center"===l&&(h.x-=o/2)),u&&("top"===u?h.y+=s:"middle"===u&&(h.y+=s/2)),this.set("startPoint",h);var f=c/2;return{minX:h.x-f,minY:h.y-f,maxX:h.x+o+f,maxY:h.y+s+f}},_getSpaceingY:function t(){var e=this._attrs,n=e.lineHeight,r=1*e.fontSize;return n?n-r:.14*r},drawInner:function t(e){var n=this,r=n._attrs,i=this._cfg;i.attrs&&!i.hasUpdate||(this._assembleFont(),this._setAttrText()),e.font=r.font;var a=r.text;if(a){var o=r.textArr,s=r.x,l=r.y;if(e.beginPath(),n.hasStroke()){var u=r.strokeOpacity;_h.isNil(u)||1===u||(e.globalAlpha=u),o?n._drawTextArr(e,!1):e.strokeText(a,s,l),e.globalAlpha=1}if(n.hasFill()){var c=r.fillOpacity;_h.isNil(c)||1===c||(e.globalAlpha=c),o?n._drawTextArr(e,!0):e.fillText(a,s,l)}i.hasUpdate=!1}},_drawTextArr:function t(e,n){var r=this._attrs.textArr,i=this._attrs.textBaseline,a=1*this._attrs.fontSize,o=this._getSpaceingY(),s=this._attrs.x,l=this._attrs.y,u=this.getBBox(),c=u.maxY-u.minY,h;_h.each(r,(function(t,r){h=l+r*(o+a)-c+a,"middle"===i&&(h+=c-a-(c-a)/2),"top"===i&&(h+=c-a),n?e.fillText(t,s,h):e.strokeText(t,s,h)}))},measureText:function t(){var e,n=this._attrs,r=n.text,i=n.font,a=n.textArr,o,s=0;if(!_h.isNil(r)){var l=document.createElement("canvas").getContext("2d");return l.save(),l.font=i,a?_h.each(a,(function(t){o=l.measureText(t).width,s<o&&(s=o),l.restore()})):(s=l.measureText(r).width,l.restore()),s}}});var Sh=wh,Mh=Xl;Mh.Arc=Iu,Mh.Circle=Du,Mh.Dom=Nu,Mh.Ellipse=Gu,Mh.Fan=qu,Mh.Image=$u,Mh.Line=rc,Mh.Marker=uc,Mh.Path=rh,Mh.Polygon=sh,Mh.Polyline=ph,Mh.Rect=xh,Mh.Text=Sh;var Ch,Ah=Vo,Ph=Rs,kh=Mh,Th={},Ih="_INDEX",Eh=["zIndex","capture","visible"];function Oh(t){return function(e,n){var r=t(e,n);return 0===r?e._INDEX-n._INDEX:r}}function Lh(t,e,n){for(var r,i=t.length-1;i>=0;i--){var a=t[i];if(a._cfg.visible&&a._cfg.capture&&(a.isGroup?r=a.getShape(e,n):a.isHit(e,n)&&(r=a)),r)break}return r}function Dh(t){for(var e=[],n=0;n<t.length;n++)e.push(t[n]);return e}var Fh=function t(e){t.superclass.constructor.call(this,e),this.set("children",[]),this.set("tobeRemoved",[]),this._beforeRenderUI(),this._renderUI(),this._bindUI()};function Bh(t){if(!t._cfg&&t!==Fh){var e=t.superclass.constructor;e&&!e._cfg&&Bh(e),t._cfg={},Ah.merge(t._cfg,e._cfg),Ah.merge(t._cfg,t.CFG)}}Ah.extend(Fh,Ph),Ah.augment(Fh,{isGroup:!0,type:"group",canFill:!0,canStroke:!0,getDefaultCfg:function t(){return Bh(this.constructor),Ah.merge({},this.constructor._cfg)},_beforeRenderUI:function t(){},_renderUI:function t(){},_bindUI:function t(){},addShape:function t(e,n){var r=this.get("canvas");n=n||{};var i=Th[e];if(i||(i=Ah.upperFirst(e),Th[e]=i),n.attrs&&r){var a=n.attrs;if("text"===e){var o=r.get("fontFamily");o&&(a.fontFamily=a.fontFamily?a.fontFamily:o)}}n.canvas=r,n.type=e;var s=new kh[i](n);return this.add(s),s},addGroup:function t(e,n){var r=this.get("canvas"),i;if(n=Ah.merge({},n),Ah.isFunction(e))n?(n.canvas=r,n.parent=this,i=new e(n)):i=new e({canvas:r,parent:this}),this.add(i);else if(Ah.isObject(e))e.canvas=r,i=new Fh(e),this.add(i);else{if(void 0!==e)return!1;i=new Fh,this.add(i)}return i},renderBack:function t(e,n){var r=this.get("backShape"),i=this.getBBox();return Ah.merge(n,{x:i.minX-e[3],y:i.minY-e[0],width:i.width+e[1]+e[3],height:i.height+e[0]+e[2]}),r?r.attr(n):r=this.addShape("rect",{zIndex:-1,attrs:n}),this.set("backShape",r),this.sort(),r},removeChild:function t(e,n){if(arguments.length>=2)this.contain(e)&&e.remove(n);else{if(1===arguments.length){if(!Ah.isBoolean(e))return this.contain(e)&&e.remove(!0),this;n=e}0===arguments.length&&(n=!0),Fh.superclass.remove.call(this,n)}return this},add:function t(e){var n=this,r=n.get("children");if(Ah.isArray(e))Ah.each(e,(function(t){var e=t.get("parent");e&&e.removeChild(t,!1),n._setCfgProperty(t)})),n._cfg.children=r.concat(e);else{var i=e,a=i.get("parent");a&&a.removeChild(i,!1),n._setCfgProperty(i),r.push(i)}return n},_setCfgProperty:function t(e){var n=this._cfg;e.set("parent",this),e.set("canvas",n.canvas),n.timeline&&e.set("timeline",n.timeline)},contain:function t(e){var n;return this.get("children").indexOf(e)>-1},getChildByIndex:function t(e){var n;return this.get("children")[e]},getFirst:function t(){return this.getChildByIndex(0)},getLast:function t(){var e=this.get("children").length-1;return this.getChildByIndex(e)},getBBox:function t(){var e,n=1/0,r=-1/0,i=1/0,a=-1/0,o=this.get("children");o.length>0?Ah.each(o,(function(t){if(t.get("visible")){if(t.isGroup&&0===t.get("children").length)return;var e=t.getBBox();if(!e)return!0;var o=[e.minX,e.minY,1],s=[e.minX,e.maxY,1],l=[e.maxX,e.minY,1],u=[e.maxX,e.maxY,1];t.apply(o),t.apply(s),t.apply(l),t.apply(u);var c=Math.min(o[0],s[0],l[0],u[0]),h=Math.max(o[0],s[0],l[0],u[0]),f=Math.min(o[1],s[1],l[1],u[1]),p=Math.max(o[1],s[1],l[1],u[1]);c<n&&(n=c),h>r&&(r=h),f<i&&(i=f),p>a&&(a=p)}})):(n=0,r=0,i=0,a=0);var s={minX:n,minY:i,maxX:r,maxY:a};return s.x=s.minX,s.y=s.minY,s.width=s.maxX-s.minX,s.height=s.maxY-s.minY,s},getCount:function t(){return this.get("children").length},sort:function t(){var e=this.get("children");return Ah.each(e,(function(t,e){return t._INDEX=e,t})),e.sort(Oh((function(t,e){return t.get("zIndex")-e.get("zIndex")}))),this},findById:function t(e){return this.find((function(t){return t.get("id")===e}))},find:function t(e){if(Ah.isString(e))return this.findById(e);var n=this.get("children"),r=null;return Ah.each(n,(function(t){if(e(t)?r=t:t.find&&(r=t.find(e)),r)return!1})),r},findAll:function t(e){var n=this.get("children"),r=[],i=[];return Ah.each(n,(function(t){e(t)&&r.push(t),t.findAllBy&&(i=t.findAllBy(e),r=r.concat(i))})),r},findBy:function t(e){var n=this.get("children"),r=null;return Ah.each(n,(function(t){if(e(t)?r=t:t.findBy&&(r=t.findBy(e)),r)return!1})),r},findAllBy:function t(e){var n=this.get("children"),r=[],i=[];return Ah.each(n,(function(t){e(t)&&r.push(t),t.findAllBy&&(i=t.findAllBy(e),r=r.concat(i))})),r},getShape:function t(e,n){var r=this,i=r._attrs.clip,a=r._cfg.children,o;if(i){var s=[e,n,1];i.invert(s,r.get("canvas")),i.isPointInPath(s[0],s[1])&&(o=Lh(a,e,n))}else o=Lh(a,e,n);return o},clearTotalMatrix:function t(){var e;if(this.get("totalMatrix")){this.setSilent("totalMatrix",null);for(var n=this._cfg.children,r=0;r<n.length;r++){var i;n[r].clearTotalMatrix()}}},clear:function t(e){if(!this.get("destroyed")){for(var n=this._cfg.children,r=n.length-1;r>=0;r--)n[r].remove(!0,e);return this._cfg.children=[],this}},destroy:function t(){this.get("destroyed")||(this.clear(),Fh.superclass.destroy.call(this))},clone:function t(){var e=this,n=e._cfg.children,r=e._attrs,i={};Ah.each(r,(function(t,e){i[e]="matrix"===e?Dh(r[e]):r[e]}));var a=new Fh({attrs:i,canvas:e.get("canvas")});return Ah.each(n,(function(t){a.add(t.clone())})),Ah.each(Eh,(function(t){a._cfg[t]=e._cfg[t]})),a}});var Rh=Fh,Nh=0,jh=0,zh=0,Yh=1e3,Gh,Xh,Vh=0,Hh=0,Wh=0,qh="object"==typeof performance&&performance.now?performance:Date,Uh="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Zh(){return Hh||(Uh(Qh),Hh=qh.now()+Wh)}function Qh(){Hh=0}function $h(){this._call=this._time=this._next=null}function Jh(t,e,n){var r=new $h;return r.restart(t,e,n),r}function Kh(){Zh(),++Nh;for(var t=Gh,e;t;)(e=Hh-t._time)>=0&&t._call.call(null,e),t=t._next;--Nh}function tf(){Hh=(Vh=qh.now())+Wh,Nh=jh=0;try{Kh()}finally{Nh=0,nf(),Hh=0}}function ef(){var t=qh.now(),e=t-Vh;e>1e3&&(Wh-=e,Vh=t)}function nf(){for(var t,e=Gh,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Gh=n);Xh=t,rf(r)}function rf(t){var e;Nh||(jh&&(jh=clearTimeout(jh)),t-Hh>24?(t<1/0&&(jh=setTimeout(tf,t-qh.now()-Wh)),zh&&(zh=clearInterval(zh))):(zh||(Vh=qh.now(),zh=setInterval(ef,1e3)),Nh=1,Uh(tf)))}function af(t,e,n){var r=new $h;return e=null==e?0:+e,r.restart((function(n){r.stop(),t(n+e)}),e,n),r}function of(t,e,n){var r=new $h,i=e;return null==e?(r.restart(t,e,n),r):(e=+e,n=null==n?Zh():+n,r.restart((function a(o){o+=i,r.restart(a,i+=e,n),t(o)}),e,n),r)}$h.prototype=Jh.prototype={constructor:$h,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?Zh():+n)+(null==e?0:+e),this._next||Xh===this||(Xh?Xh._next=this:Gh=this,Xh=this),this._call=t,this._time=n,rf()},stop:function(){this._call&&(this._call=null,this._time=1/0,rf())}};var sf,lf=s(Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",now:Zh,timer:Jh,timerFlush:Kh,timeout:af,interval:of}));function uf(t){return+t}function cf(t){return t*t}function hf(t){return t*(2-t)}function ff(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function pf(t){return t*t*t}function df(t){return--t*t*t+1}function gf(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var vf=3,mf=function t(e){function n(t){return Math.pow(t,e)}return e=+e,n.exponent=t,n}(3),yf=function t(e){function n(t){return 1-Math.pow(1-t,e)}return e=+e,n.exponent=t,n}(3),xf=function t(e){function n(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,n.exponent=t,n}(3),_f=Math.PI,bf=_f/2;function wf(t){return 1==+t?1:1-Math.cos(t*bf)}function Sf(t){return Math.sin(t*bf)}function Mf(t){return(1-Math.cos(_f*t))/2}function Cf(t){return 1.0009775171065494*(Math.pow(2,-10*t)-.0009765625)}function Af(t){return Cf(1-+t)}function Pf(t){return 1-Cf(t)}function kf(t){return((t*=2)<=1?Cf(1-t):2-Cf(t-1))/2}function Tf(t){return 1-Math.sqrt(1-t*t)}function If(t){return Math.sqrt(1- --t*t)}function Ef(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}var Of=4/11,Lf=6/11,Df=8/11,Ff=3/4,Bf=9/11,Rf=10/11,Nf=15/16,jf=21/22,zf=63/64,Yf=7.5625;function Gf(t){return 1-Xf(1-t)}function Xf(t){return(t=+t)<Of?Yf*t*t:t<Df?Yf*(t-=Lf)*t+Ff:t<Rf?Yf*(t-=Bf)*t+Nf:Yf*(t-=jf)*t+zf}function Vf(t){return((t*=2)<=1?1-Xf(1-t):Xf(t-1)+1)/2}var Hf=1.70158,Wf=function t(e){function n(t){return(t=+t)*t*(e*(t-1)+t)}return e=+e,n.overshoot=t,n}(1.70158),qf=function t(e){function n(t){return--t*t*((t+1)*e+t)+1}return e=+e,n.overshoot=t,n}(1.70158),Uf=function t(e){function n(t){return((t*=2)<1?t*t*((e+1)*t-e):(t-=2)*t*((e+1)*t+e)+2)/2}return e=+e,n.overshoot=t,n}(1.70158),Zf=2*Math.PI,Qf=1,$f=.3,Jf=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=Zf);function i(t){return e*Cf(- --t)*Math.sin((r-t)/n)}return i.amplitude=function(e){return t(e,n*Zf)},i.period=function(n){return t(e,n)},i}(1,.3),Kf=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=Zf);function i(t){return 1-e*Cf(t=+t)*Math.sin((t+r)/n)}return i.amplitude=function(e){return t(e,n*Zf)},i.period=function(n){return t(e,n)},i}(1,.3),tp=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=Zf);function i(t){return((t=2*t-1)<0?e*Cf(-t)*Math.sin((r-t)/n):2-e*Cf(t)*Math.sin((r+t)/n))/2}return i.amplitude=function(e){return t(e,n*Zf)},i.period=function(n){return t(e,n)},i}(1,.3),ep,np=s(Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",easeLinear:uf,easeQuad:ff,easeQuadIn:cf,easeQuadOut:hf,easeQuadInOut:ff,easeCubic:gf,easeCubicIn:pf,easeCubicOut:df,easeCubicInOut:gf,easePoly:xf,easePolyIn:mf,easePolyOut:yf,easePolyInOut:xf,easeSin:Mf,easeSinIn:wf,easeSinOut:Sf,easeSinInOut:Mf,easeExp:kf,easeExpIn:Af,easeExpOut:Pf,easeExpInOut:kf,easeCircle:Ef,easeCircleIn:Tf,easeCircleOut:If,easeCircleInOut:Ef,easeBounce:Xf,easeBounceIn:Gf,easeBounceOut:Xf,easeBounceInOut:Vf,easeBack:Uf,easeBackIn:Wf,easeBackOut:qf,easeBackInOut:Uf,easeElastic:Kf,easeElasticIn:Jf,easeElasticOut:Kf,easeElasticInOut:tp}));function rp(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function ip(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function ap(){}var op=.7,sp=1/.7,lp="\\s*([+-]?\\d+)\\s*",up="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",cp="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",hp=/^#([0-9a-f]{3,8})$/,fp=new RegExp("^rgb\\("+[lp,lp,lp]+"\\)$"),pp=new RegExp("^rgb\\("+[cp,cp,cp]+"\\)$"),dp=new RegExp("^rgba\\("+[lp,lp,lp,up]+"\\)$"),gp=new RegExp("^rgba\\("+[cp,cp,cp,up]+"\\)$"),vp=new RegExp("^hsl\\("+[up,cp,cp]+"\\)$"),mp=new RegExp("^hsla\\("+[up,cp,cp,up]+"\\)$"),yp={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function xp(){return this.rgb().formatHex()}function _p(){return Op(this).formatHsl()}function bp(){return this.rgb().formatRgb()}function wp(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=hp.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?Sp(e):3===n?new Pp(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?Mp(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?Mp(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=fp.exec(t))?new Pp(e[1],e[2],e[3],1):(e=pp.exec(t))?new Pp(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=dp.exec(t))?Mp(e[1],e[2],e[3],e[4]):(e=gp.exec(t))?Mp(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=vp.exec(t))?Ep(e[1],e[2]/100,e[3]/100,1):(e=mp.exec(t))?Ep(e[1],e[2]/100,e[3]/100,e[4]):yp.hasOwnProperty(t)?Sp(yp[t]):"transparent"===t?new Pp(NaN,NaN,NaN,0):null}function Sp(t){return new Pp(t>>16&255,t>>8&255,255&t,1)}function Mp(t,e,n,r){return r<=0&&(t=e=n=NaN),new Pp(t,e,n,r)}function Cp(t){return t instanceof ap||(t=wp(t)),t?new Pp((t=t.rgb()).r,t.g,t.b,t.opacity):new Pp}function Ap(t,e,n,r){return 1===arguments.length?Cp(t):new Pp(t,e,n,null==r?1:r)}function Pp(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function kp(){return"#"+Ip(this.r)+Ip(this.g)+Ip(this.b)}function Tp(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function Ip(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function Ep(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Dp(t,e,n,r)}function Op(t){if(t instanceof Dp)return new Dp(t.h,t.s,t.l,t.opacity);if(t instanceof ap||(t=wp(t)),!t)return new Dp;if(t instanceof Dp)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,s=a-i,l=(a+i)/2;return s?(o=e===a?(n-r)/s+6*(n<r):n===a?(r-e)/s+2:(e-n)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new Dp(o,s,l,t.opacity)}function Lp(t,e,n,r){return 1===arguments.length?Op(t):new Dp(t,e,n,null==r?1:r)}function Dp(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function Fp(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}rp(ap,wp,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:xp,formatHex:xp,formatHsl:_p,formatRgb:bp,toString:bp}),rp(Pp,Ap,ip(ap,{brighter:function(t){return t=null==t?sp:Math.pow(sp,t),new Pp(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Pp(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:kp,formatHex:kp,formatRgb:Tp,toString:Tp})),rp(Dp,Lp,ip(ap,{brighter:function(t){return t=null==t?sp:Math.pow(sp,t),new Dp(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Dp(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Pp(Fp(t>=240?t-240:t+120,i,r),Fp(t,i,r),Fp(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var Bp=Math.PI/180,Rp=180/Math.PI,Np=18,jp=.96422,zp=1,Yp=.82521,Gp=4/29,Xp=6/29,Vp=3*Xp*Xp,Hp=Xp*Xp*Xp;function Wp(t){if(t instanceof Up)return new Up(t.l,t.a,t.b,t.opacity);if(t instanceof ed)return nd(t);t instanceof Pp||(t=Cp(t));var e=Jp(t.r),n=Jp(t.g),r=Jp(t.b),i=Zp((.2225045*e+.7168786*n+.0606169*r)/1),a,o;return e===n&&n===r?a=o=i:(a=Zp((.4360747*e+.3850649*n+.1430804*r)/jp),o=Zp((.0139322*e+.0971045*n+.7141733*r)/Yp)),new Up(116*i-16,500*(a-i),200*(i-o),t.opacity)}function qp(t,e,n,r){return 1===arguments.length?Wp(t):new Up(t,e,n,null==r?1:r)}function Up(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}function Zp(t){return t>Hp?Math.pow(t,1/3):t/Vp+Gp}function Qp(t){return t>Xp?t*t*t:Vp*(t-Gp)}function $p(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Jp(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Kp(t){if(t instanceof ed)return new ed(t.h,t.c,t.l,t.opacity);if(t instanceof Up||(t=Wp(t)),0===t.a&&0===t.b)return new ed(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*Rp;return new ed(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function td(t,e,n,r){return 1===arguments.length?Kp(t):new ed(t,e,n,null==r?1:r)}function ed(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function nd(t){if(isNaN(t.h))return new Up(t.l,0,0,t.opacity);var e=t.h*Bp;return new Up(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}rp(Up,qp,ip(ap,{brighter:function(t){return new Up(this.l+Np*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new Up(this.l-Np*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return new Pp($p(3.1338561*(e=jp*Qp(e))-1.6168667*(t=1*Qp(t))-.4906146*(n=Yp*Qp(n))),$p(-.9787684*e+1.9161415*t+.033454*n),$p(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}})),rp(ed,td,ip(ap,{brighter:function(t){return new ed(this.h,this.c,this.l+Np*(null==t?1:t),this.opacity)},darker:function(t){return new ed(this.h,this.c,this.l-Np*(null==t?1:t),this.opacity)},rgb:function(){return nd(this).rgb()}}));var rd=-.14861,id=1.78277,ad=-.29227,od=-.90649,sd=1.97294,ld=sd*od,ud=sd*id,cd=id*ad-od*rd;function hd(t){if(t instanceof pd)return new pd(t.h,t.s,t.l,t.opacity);t instanceof Pp||(t=Cp(t));var e=t.r/255,n=t.g/255,r=t.b/255,i=(cd*r+ld*e-ud*n)/(cd+ld-ud),a=r-i,o=(sd*(n-i)-ad*a)/od,s=Math.sqrt(o*o+a*a)/(sd*i*(1-i)),l=s?Math.atan2(o,a)*Rp-120:NaN;return new pd(l<0?l+360:l,s,i,t.opacity)}function fd(t,e,n,r){return 1===arguments.length?hd(t):new pd(t,e,n,null==r?1:r)}function pd(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function dd(t,e,n,r,i){var a=t*t,o=a*t;return((1-3*t+3*a-o)*e+(4-6*a+3*o)*n+(1+3*t+3*a-3*o)*r+o*i)/6}function gd(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],a=t[r+1],o=r>0?t[r-1]:2*i-a,s=r<e-1?t[r+2]:2*a-i;return dd((n-r/e)*e,o,i,a,s)}}function vd(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),i=t[(r+e-1)%e],a=t[r%e],o=t[(r+1)%e],s=t[(r+2)%e];return dd((n-r/e)*e,i,a,o,s)}}function md(t){return function(){return t}}function yd(t,e){return function(n){return t+n*e}}function xd(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function _d(t,e){var n=e-t;return n?yd(t,n>180||n<-180?n-360*Math.round(n/360):n):md(isNaN(t)?e:t)}function bd(t){return 1==(t=+t)?wd:function(e,n){return n-e?xd(e,n,t):md(isNaN(e)?n:e)}}function wd(t,e){var n=e-t;return n?yd(t,n):md(isNaN(t)?e:t)}rp(pd,fd,ip(ap,{brighter:function(t){return t=null==t?sp:Math.pow(sp,t),new pd(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new pd(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*Bp,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new Pp(255*(e+n*(rd*r+id*i)),255*(e+n*(ad*r+od*i)),255*(e+n*(sd*r)),this.opacity)}}));var Sd=function t(e){var n=bd(e);function r(t,e){var r=n((t=Ap(t)).r,(e=Ap(e)).r),i=n(t.g,e.g),a=n(t.b,e.b),o=wd(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=a(e),t.opacity=o(e),t+""}}return r.gamma=t,r}(1);function Md(t){return function(e){var n=e.length,r=new Array(n),i=new Array(n),a=new Array(n),o,s;for(o=0;o<n;++o)s=Ap(e[o]),r[o]=s.r||0,i[o]=s.g||0,a[o]=s.b||0;return r=t(r),i=t(i),a=t(a),s.opacity=1,function(t){return s.r=r(t),s.g=i(t),s.b=a(t),s+""}}}var Cd=Md(gd),Ad=Md(vd);function Pd(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=Bd(t[o],e[o]);for(;o<n;++o)a[o]=e[o];return function(t){for(o=0;o<r;++o)a[o]=i[o](t);return a}}function kd(t,e){var n=new Date;return e-=t=+t,function(r){return n.setTime(t+e*r),n}}function Td(t,e){return e-=t=+t,function(n){return t+e*n}}function Id(t,e){var n={},r={},i;for(i in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)i in t?n[i]=Bd(t[i],e[i]):r[i]=e[i];return function(t){for(i in n)r[i]=n[i](t);return r}}var Ed=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Od=new RegExp(Ed.source,"g");function Ld(t){return function(){return t}}function Dd(t){return function(e){return t(e)+""}}function Fd(t,e){var n=Ed.lastIndex=Od.lastIndex=0,r,i,a,o=-1,s=[],l=[];for(t+="",e+="";(r=Ed.exec(t))&&(i=Od.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),s[o]?s[o]+=a:s[++o]=a),(r=r[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,l.push({i:o,x:Td(r,i)})),n=Od.lastIndex;return n<e.length&&(a=e.slice(n),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?Dd(l[0].x):Ld(e):(e=l.length,function(t){for(var n=0,r;n<e;++n)s[(r=l[n]).i]=r.x(t);return s.join("")})}function Bd(t,e){var n=typeof e,r;return null==e||"boolean"===n?md(e):("number"===n?Td:"string"===n?(r=wp(e))?(e=r,Sd):Fd:e instanceof wp?Sd:e instanceof Date?kd:Array.isArray(e)?Pd:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?Id:Td)(t,e)}function Rd(t,e){return e-=t=+t,function(n){return Math.round(t+e*n)}}var Nd=180/Math.PI,jd={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},zd,Yd,Gd,Xd;function Vd(t,e,n,r,i,a){var o,s,l;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,l/=s),t*r<e*n&&(t=-t,e=-e,l=-l,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(e,t)*Nd,skewX:Math.atan(l)*Nd,scaleX:o,scaleY:s}}function Hd(t){return"none"===t?jd:(zd||(zd=document.createElement("DIV"),Yd=document.documentElement,Gd=document.defaultView),zd.style.transform=t,t=Gd.getComputedStyle(Yd.appendChild(zd),null).getPropertyValue("transform"),Yd.removeChild(zd),Vd(+(t=t.slice(7,-1).split(","))[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}function Wd(t){return null==t?jd:(Xd||(Xd=document.createElementNS("http://www.w3.org/2000/svg","g")),Xd.setAttribute("transform",t),(t=Xd.transform.baseVal.consolidate())?Vd((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):jd)}function qd(t,e,n,r){function i(t){return t.length?t.pop()+" ":""}function a(t,r,i,a,o,s){if(t!==i||r!==a){var l=o.push("translate(",null,e,null,n);s.push({i:l-4,x:Td(t,i)},{i:l-2,x:Td(r,a)})}else(i||a)&&o.push("translate("+i+e+a+n)}function o(t,e,n,a){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),a.push({i:n.push(i(n)+"rotate(",null,r)-2,x:Td(t,e)})):e&&n.push(i(n)+"rotate("+e+r)}function s(t,e,n,a){t!==e?a.push({i:n.push(i(n)+"skewX(",null,r)-2,x:Td(t,e)}):e&&n.push(i(n)+"skewX("+e+r)}function l(t,e,n,r,a,o){if(t!==n||e!==r){var s=a.push(i(a)+"scale(",null,",",null,")");o.push({i:s-4,x:Td(t,n)},{i:s-2,x:Td(e,r)})}else 1===n&&1===r||a.push(i(a)+"scale("+n+","+r+")")}return function(e,n){var r=[],i=[];return e=t(e),n=t(n),a(e.translateX,e.translateY,n.translateX,n.translateY,r,i),o(e.rotate,n.rotate,r,i),s(e.skewX,n.skewX,r,i),l(e.scaleX,e.scaleY,n.scaleX,n.scaleY,r,i),e=n=null,function(t){for(var e=-1,n=i.length,a;++e<n;)r[(a=i[e]).i]=a.x(t);return r.join("")}}}var Ud=qd(Hd,"px, ","px)","deg)"),Zd=qd(Wd,", ",")",")"),Qd=Math.SQRT2,$d=2,Jd=4,Kd=1e-12;function tg(t){return((t=Math.exp(t))+1/t)/2}function eg(t){return((t=Math.exp(t))-1/t)/2}function ng(t){return((t=Math.exp(2*t))-1)/(t+1)}function rg(t,e){var n=t[0],r=t[1],i=t[2],a=e[0],o=e[1],s=e[2],l=a-n,u=o-r,c=l*l+u*u,h,f;if(c<1e-12)f=Math.log(s/i)/Qd,h=function(t){return[n+t*l,r+t*u,i*Math.exp(Qd*t*f)]};else{var p=Math.sqrt(c),d=(s*s-i*i+4*c)/(2*i*2*p),g=(s*s-i*i-4*c)/(2*s*2*p),v=Math.log(Math.sqrt(d*d+1)-d),m=Math.log(Math.sqrt(g*g+1)-g);f=(m-v)/Qd,h=function(t){var e=t*f,a=tg(v),o=i/(2*p)*(a*ng(Qd*e+v)-eg(v));return[n+o*l,r+o*u,i*a/tg(Qd*e+v)]}}return h.duration=1e3*f,h}function ig(t){return function(e,n){var r=t((e=Lp(e)).h,(n=Lp(n)).h),i=wd(e.s,n.s),a=wd(e.l,n.l),o=wd(e.opacity,n.opacity);return function(t){return e.h=r(t),e.s=i(t),e.l=a(t),e.opacity=o(t),e+""}}}var ag=ig(_d),og=ig(wd);function sg(t,e){var n=wd((t=qp(t)).l,(e=qp(e)).l),r=wd(t.a,e.a),i=wd(t.b,e.b),a=wd(t.opacity,e.opacity);return function(e){return t.l=n(e),t.a=r(e),t.b=i(e),t.opacity=a(e),t+""}}function lg(t){return function(e,n){var r=t((e=td(e)).h,(n=td(n)).h),i=wd(e.c,n.c),a=wd(e.l,n.l),o=wd(e.opacity,n.opacity);return function(t){return e.h=r(t),e.c=i(t),e.l=a(t),e.opacity=o(t),e+""}}}var ug=lg(_d),cg=lg(wd);function hg(t){return function e(n){function r(e,r){var i=t((e=fd(e)).h,(r=fd(r)).h),a=wd(e.s,r.s),o=wd(e.l,r.l),s=wd(e.opacity,r.opacity);return function(t){return e.h=i(t),e.s=a(t),e.l=o(Math.pow(t,n)),e.opacity=s(t),e+""}}return n=+n,r.gamma=e,r}(1)}var fg=hg(_d),pg=hg(wd);function dg(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t(r/(e-1));return n}var gg,vg=s(Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",interpolate:Bd,interpolateArray:Pd,interpolateBasis:gd,interpolateBasisClosed:vd,interpolateDate:kd,interpolateNumber:Td,interpolateObject:Id,interpolateRound:Rd,interpolateString:Fd,interpolateTransformCss:Ud,interpolateTransformSvg:Zd,interpolateZoom:rg,interpolateRgb:Sd,interpolateRgbBasis:Cd,interpolateRgbBasisClosed:Ad,interpolateHsl:ag,interpolateHslLong:og,interpolateLab:sg,interpolateHcl:ug,interpolateHclLong:cg,interpolateCubehelix:fg,interpolateCubehelixLong:pg,quantize:dg})),mg=Vo,yg=Uc,xg=lf,_g=np,bg=vg,wg=bg.interpolate,Sg=bg.interpolateArray,Mg=function t(e){this._animators=[],this._current=0,this._timer=null,this.canvas=e};function Cg(t,e,n){var r={},i=e.toAttrs,a=e.fromAttrs,o=e.toMatrix;if(!t.get("destroyed")){var s;for(var l in i)if(!mg.isEqual(a[l],i[l]))if("path"===l){var u=i[l],c=a[l];u.length>c.length?(u=yg.parsePathString(i[l]),c=yg.parsePathString(a[l]),c=yg.fillPathByDiff(c,u),c=yg.formatPath(c,u),e.fromAttrs.path=c,e.toAttrs.path=u):e.pathFormatted||(u=yg.parsePathString(i[l]),c=yg.parsePathString(a[l]),c=yg.formatPath(c,u),e.fromAttrs.path=c,e.toAttrs.path=u,e.pathFormatted=!0),r[l]=[];for(var h=0;h<u.length;h++){for(var f=u[h],p=c[h],d=[],g=0;g<f.length;g++)mg.isNumber(f[g])&&p&&mg.isNumber(p[g])?(s=wg(p[g],f[g]),d.push(s(n))):d.push(f[g]);r[l].push(d)}}else mg.isColorProp(l)&&mg.isGradientColor(i[l])?r[l]=i[l]:(s=wg(a[l],i[l]),r[l]=s(n));if(o){var v,m=Sg(e.fromMatrix,o)(n);t.setMatrix(m)}t.attr(r)}}function Ag(t,e,n){var r=e.startTime,i;if(n<r+e.delay||e.isPaused)return!1;var a=e.duration,o=e.easing;if(n=n-r-e.delay,e.repeat)i=n%a/a,i=_g[o](i);else{if(!((i=n/a)<1)){var s=e.toAttrs||e.onFrame(1);return t.attr(s),e.toMatrix&&t.setMatrix(e.toMatrix),!0}i=_g[o](i)}if(e.onFrame){var l=e.onFrame(i);t.attr(l)}else Cg(t,e,i);return!1}mg.augment(Mg,{initTimer:function t(){var e=this,n=this,r=!1,i,a,o;n._timer=xg.timer((function(t){if(n._current=t,e._animators.length>0){for(var s=e._animators.length-1;s>=0;s--)if((i=e._animators[s]).get("destroyed"))n.removeAnimator(s);else{if(!i.get("pause").isPaused)for(var l=(a=i.get("animators")).length-1;l>=0;l--)o=a[l],(r=Ag(i,o,t))&&(a.splice(l,1),r=!1,o.callback&&o.callback());0===a.length&&n.removeAnimator(s)}e.canvas.draw()}}))},addAnimator:function t(e){this._animators.push(e)},removeAnimator:function t(e){this._animators.splice(e,1)},isAnimating:function t(){return!!this._animators.length},stop:function t(){this._timer&&this._timer.stop()},stopAllAnimations:function t(){this._animators.forEach((function(t){t.stopAnimate()})),this._animators=[],this.canvas.draw()},getTime:function t(){return this._current}});var Pg=Mg,kg=Vo,Tg=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,Ig=/[^\s\,]+/gi,Eg=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,Og=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,Lg=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,Dg=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function Fg(t,e){var n=t.match(Dg);kg.each(n,(function(t){t=t.split(":"),e.addColorStop(t[0],t[1])}))}function Bg(t,e,n){var r=Eg.exec(t),i=kg.mod(kg.toRadian(parseFloat(r[1])),2*Math.PI),a=r[2],o=e.getBBox(),s,l;i>=0&&i<.5*Math.PI?(s={x:o.minX,y:o.minY},l={x:o.maxX,y:o.maxY}):.5*Math.PI<=i&&i<Math.PI?(s={x:o.maxX,y:o.minY},l={x:o.minX,y:o.maxY}):Math.PI<=i&&i<1.5*Math.PI?(s={x:o.maxX,y:o.maxY},l={x:o.minX,y:o.minY}):(s={x:o.minX,y:o.maxY},l={x:o.maxX,y:o.minY});var u=Math.tan(i),c=u*u,h=(l.x-s.x+u*(l.y-s.y))/(c+1)+s.x,f=u*(l.x-s.x+u*(l.y-s.y))/(c+1)+s.y,p=n.createLinearGradient(s.x,s.y,h,f);return Fg(a,p),p}function Rg(t,e,n){var r=Og.exec(t),i=parseFloat(r[1]),a=parseFloat(r[2]),o=parseFloat(r[3]),s=r[4];if(0===o){var l=s.match(Dg);return l[l.length-1].split(":")[1]}var u=e.getBBox(),c=u.maxX-u.minX,h=u.maxY-u.minY,f=Math.sqrt(c*c+h*h)/2,p=n.createRadialGradient(u.minX+c*i,u.minY+h*a,o*f,u.minX+c/2,u.minY+h/2,f);return Fg(s,p),p}function Ng(t,e,n){if(e.get("patternSource")&&e.get("patternSource")===t)return e.get("pattern");var r,i,a=Lg.exec(t),o=a[1],s=a[2];function l(){r=n.createPattern(i,o),e.setSilent("pattern",r),e.setSilent("patternSource",t)}switch(o){case"a":o="repeat";break;case"x":o="repeat-x";break;case"y":o="repeat-y";break;default:o="no-repeat"}return i=new Image,s.match(/^data:/i)||(i.crossOrigin="Anonymous"),i.src=s,i.complete?l():(i.onload=l,i.src=i.src),r}var jg={parsePath:function t(e){return e=e||[],kg.isArray(e)?e:kg.isString(e)?(e=e.match(Tg),kg.each(e,(function(t,n){if((t=t.match(Ig))[0].length>1){var r=t[0].charAt(0);t.splice(1,0,t[0].substr(1)),t[0]=r}kg.each(t,(function(e,n){isNaN(e)||(t[n]=+e)})),e[n]=t})),e):void 0},parseStyle:function t(e,n,r){if(kg.isString(e)){if("("===e[1]||"("===e[2]){if("l"===e[0])return Bg(e,n,r);if("r"===e[0])return Rg(e,n,r);if("p"===e[0])return Ng(e,n,r)}return e}}},zg=Vo,Yg=jg,Gg=["fillStyle","font","globalAlpha","lineCap","lineWidth","lineJoin","miterLimit","shadowBlur","shadowColor","shadowOffsetX","shadowOffsetY","strokeStyle","textAlign","textBaseline","lineDash","lineDashOffset"],Xg=function(){function t(t){if(!t)return null;var e=zg.uniqueId("canvas_"),n=zg.createDom('<canvas id="'+e+'"></canvas>');return t.appendChild(n),this.type="canvas",this.canvas=n,this.context=n.getContext("2d"),this.toDraw=!1,this}var e=t.prototype;return e.beforeDraw=function t(){var e=this.canvas;this.context&&this.context.clearRect(0,0,e.width,e.height)},e.draw=function t(e){var n=this;function r(){n.animateHandler=zg.requestAnimationFrame((function(){n.animateHandler=void 0,n.toDraw&&r()})),n.beforeDraw();try{n._drawGroup(e)}catch(t){console.warn("error in draw canvas, detail as:"),console.warn(t)}finally{n.toDraw=!1}}n.animateHandler?n.toDraw=!0:r()},e.drawSync=function t(e){this.beforeDraw(),this._drawGroup(e)},e._drawGroup=function t(e){if(!e._cfg.removed&&!e._cfg.destroyed&&e._cfg.visible){var n=this,r=e._cfg.children,i=null;this.setContext(e);for(var a=0;a<r.length;a++)i=r[a],r[a].isGroup?n._drawGroup(i):n._drawShape(i);this.restoreContext(e)}},e._drawShape=function t(e){e._cfg.removed||e._cfg.destroyed||!e._cfg.visible||(this.setContext(e),e.drawInner(this.context),this.restoreContext(e),e._cfg.attrs=e._attrs,e._cfg.hasUpdate=!1)},e.setContext=function t(e){var n=this.context,r=e._attrs.clip;n.save(),r&&(r.resetTransform(n),r.createPath(n),n.clip()),this.resetContext(e),e.resetTransform(n)},e.restoreContext=function t(){this.context.restore()},e.resetContext=function t(e){var n=this.context,r=e._attrs;if(!e.isGroup)for(var i in r)if(Gg.indexOf(i)>-1){var a=r[i];"fillStyle"===i&&(a=Yg.parseStyle(a,e,n)),"strokeStyle"===i&&(a=Yg.parseStyle(a,e,n)),"lineDash"===i&&n.setLineDash?zg.isArray(a)?n.setLineDash(a):zg.isString(a)&&n.setLineDash(a.split(" ")):n[i]=a}},t}(),Vg,Hg={painter:Xg},Wg=Vo,qg=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,Ug=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,Zg=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function Qg(t){var e=t.match(Zg);if(!e)return"";var n="";return e.sort((function(t,e){return t=t.split(":"),e=e.split(":"),Number(t[0])-Number(e[0])})),Wg.each(e,(function(t){t=t.split(":"),n+='<stop offset="'+t[0]+'" stop-color="'+t[1]+'"></stop>'})),n}function $g(t,e){var n=qg.exec(t),r=Wg.mod(Wg.toRadian(parseFloat(n[1])),2*Math.PI),i=n[2],a,o;r>=0&&r<.5*Math.PI?(a={x:0,y:0},o={x:1,y:1}):.5*Math.PI<=r&&r<Math.PI?(a={x:1,y:0},o={x:0,y:1}):Math.PI<=r&&r<1.5*Math.PI?(a={x:1,y:1},o={x:0,y:0}):(a={x:0,y:1},o={x:1,y:0});var s=Math.tan(r),l=s*s,u=(o.x-a.x+s*(o.y-a.y))/(l+1)+a.x,c=s*(o.x-a.x+s*(o.y-a.y))/(l+1)+a.y;e.setAttribute("x1",a.x),e.setAttribute("y1",a.y),e.setAttribute("x2",u),e.setAttribute("y2",c),e.innerHTML=Qg(i)}function Jg(t,e){var n=Ug.exec(t),r=parseFloat(n[1]),i=parseFloat(n[2]),a=parseFloat(n[3]),o=n[4];e.setAttribute("cx",r),e.setAttribute("cy",i),e.setAttribute("r",a),e.innerHTML=Qg(o)}var Kg,tv=function(){function t(t){var e=null,n=Wg.uniqueId("gradient_");return"l"===t.toLowerCase()[0]?$g(t,e=document.createElementNS("http://www.w3.org/2000/svg","linearGradient")):Jg(t,e=document.createElementNS("http://www.w3.org/2000/svg","radialGradient")),e.setAttribute("id",n),this.el=e,this.id=n,this.cfg=t,this}var e;return t.prototype.match=function t(e,n){return this.cfg===n},t}(),ev=Vo,nv={shadowColor:"color",shadowOpacity:"opacity",shadowBlur:"blur",shadowOffsetX:"dx",shadowOffsetY:"dy"},rv={x:"-40%",y:"-40%",width:"200%",height:"200%"},iv=function(){function t(t){this.type="filter";var e=document.createElementNS("http://www.w3.org/2000/svg","filter");return ev.each(rv,(function(t,n){e.setAttribute(n,t)})),this.el=e,this.id=ev.uniqueId("filter_"),this.el.id=this.id,this.cfg=t,this._parseShadow(t,e),this}var e=t.prototype;return e.match=function t(e,n){if(this.type!==e)return!1;var r=!0,i=this.cfg;return ev.each(Object.keys(i),(function(t){if(i[t]!==n[t])return r=!1,!1})),r},e.update=function t(e,n){var r=this.cfg;return r[nv[e]]=n,this._parseShadow(r,this.el),this},e._parseShadow=function t(e,n){var r='<feDropShadow \n      dx="'+(e.dx||0)+'" \n      dy="'+(e.dy||0)+'" \n      stdDeviation="'+(e.blur?e.blur/10:0)+'"\n      flood-color="'+(e.color?e.color:"#000")+'"\n      flood-opacity="'+(e.opacity?e.opacity:1)+'"\n      />';n.innerHTML=r},t}(),av,ov=Vo,sv,lv,uv=Vo,cv,hv,fv=Vo,pv=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,dv,gv,vv=Vo,mv=tv,yv=iv,xv=function(){function t(t,e){var n=document.createElementNS("http://www.w3.org/2000/svg","marker"),r=ov.uniqueId("marker_");n.setAttribute("id",r);var i=document.createElementNS("http://www.w3.org/2000/svg","path");return i.setAttribute("stroke","none"),i.setAttribute("fill",t.stroke||"#000"),n.appendChild(i),n.setAttribute("overflow","visible"),n.setAttribute("orient","auto-start-reverse"),this.el=n,this.child=i,this.id=r,this.cfg=t["marker-start"===e?"startArrow":"endArrow"],this.stroke=t.stroke||"#000",!0===this.cfg?this._setDefaultPath(e,i):this._setMarker(t.lineWidth,i),this}var e=t.prototype;return e.match=function t(){return!1},e._setDefaultPath=function t(e,n){var r=this.el;n.setAttribute("d","M0,0 L6,3 L0,6 L3,3Z"),r.setAttribute("refX",3),r.setAttribute("refY",3)},e._setMarker=function t(e,n){var r=this.el,i=this.cfg.path,a=this.cfg.d;ov.isArray(i)&&(i=i.map((function(t){return t.join(" ")})).join("")),n.setAttribute("d",i),r.appendChild(n),a&&r.setAttribute("refX",a/e)},e.update=function t(e){var n=this.child;n.attr?n.attr("fill",e):n.setAttribute("fill",e)},t}(),_v=function(){function t(t){this.type="clip";var e=document.createElementNS("http://www.w3.org/2000/svg","clipPath");this.el=e,this.id=uv.uniqueId("clip_"),e.id=this.id;var n=t._cfg.el;return e.appendChild(n.cloneNode(!0)),this.cfg=t,this}var e=t.prototype;return e.match=function t(){return!1},e.remove=function t(){var e=this.el;e.parentNode.removeChild(e)},t}(),bv=function(){function t(t){var e=document.createElementNS("http://www.w3.org/2000/svg","pattern");e.setAttribute("patternUnits","userSpaceOnUse");var n=document.createElementNS("http://www.w3.org/2000/svg","image");e.appendChild(n);var r=fv.uniqueId("pattern_");e.id=r,this.el=e,this.id=r,this.cfg=t;var i,a=pv.exec(t)[2];n.setAttribute("href",a);var o=new Image;function s(){e.setAttribute("width",o.width),e.setAttribute("height",o.height)}return a.match(/^data:/i)||(o.crossOrigin="Anonymous"),o.src=a,o.complete?s():(o.onload=s,o.src=o.src),this}var e;return t.prototype.match=function t(e,n){return this.cfg===n},t}(),wv=function(){function t(t){var e=document.createElementNS("http://www.w3.org/2000/svg","defs"),n=vv.uniqueId("defs_");e.id=n,t.appendChild(e),this.children=[],this.defaultArrow={},this.el=e,this.canvas=t}var e=t.prototype;return e.find=function t(e,n){for(var r=this.children,i=null,a=0;a<r.length;a++)if(r[a].match(e,n)){i=r[a].id;break}return i},e.findById=function t(e){for(var n=this.children,r=null,i=0;i<n.length;i++)if(n[i].id===e){r=n[i];break}return r},e.add=function t(e){this.children.push(e),e.canvas=this.canvas,e.parent=this},e.getDefaultArrow=function t(e,n){var r=e.stroke||e.strokeStyle;if(this.defaultArrow[r])return this.defaultArrow[r].id;var i=new xv(e,n);return this.defaultArrow[r]=i,this.el.appendChild(i.el),i.id},e.addGradient=function t(e){var n=new mv(e);return this.el.appendChild(n.el),this.add(n),n.id},e.addArrow=function t(e,n){var r=new xv(e,n);return this.el.appendChild(r.el),r.id},e.addShadow=function t(e){var n=new yv(e);return this.el.appendChild(n.el),this.add(n),n.id},e.addPattern=function t(e){var n=new bv(e);return this.el.appendChild(n.el),this.add(n),n.id},e.addClip=function t(e){var n=new _v(e);return this.el.appendChild(n.el),this.add(n),n.id},t}(),Sv,Mv=Vo,Cv,Av=ql.parseRadius,Pv=uc,kv=wv,Tv={rect:"path",circle:"circle",line:"line",path:"path",marker:"path",text:"text",polygon:"polygon",image:"image",ellipse:"ellipse",dom:"foreignObject",fan:"path",group:"g"},Iv=.3,Ev={opacity:"opacity",fillStyle:"fill",strokeOpacity:"stroke-opacity",fillOpacity:"fill-opacity",strokeStyle:"stroke",x:"x",y:"y",r:"r",rx:"rx",ry:"ry",width:"width",height:"height",x1:"x1",x2:"x2",y1:"y1",y2:"y2",lineCap:"stroke-linecap",lineJoin:"stroke-linejoin",lineWidth:"stroke-width",lineDash:"stroke-dasharray",lineDashOffset:"stroke-dashoffset",miterLimit:"stroke-miterlimit",font:"font",fontSize:"font-size",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",fontFamily:"font-family",startArrow:"marker-start",endArrow:"marker-end",path:"d",class:"class",id:"id",style:"style",preserveAspectRatio:"preserveAspectRatio"},Ov={top:"before-edge",middle:"central",bottom:"after-edge",alphabetic:"baseline",hanging:"hanging"},Lv={left:"left",start:"left",center:"middle",right:"end",end:"end"},Dv=function(){function t(t){if(!t)return null;var e=Mv.uniqueId("canvas_"),n=Mv.createDom('<svg id="'+e+'"></svg>');return t.appendChild(n),this.type="svg",this.canvas=n,this.context=new kv(n),this.toDraw=!1,this}var e=t.prototype;return e.draw=function t(e){var n=this;function r(){n.animateHandler=Mv.requestAnimationFrame((function(){n.animateHandler=void 0,n.toDraw&&r()}));try{n._drawChildren(e)}catch(t){console.warn("error in draw canvas, detail as:"),console.warn(t)}finally{n.toDraw=!1}}n.animateHandler?n.toDraw=!0:r()},e.drawSync=function t(e){this._drawChildren(e)},e._drawGroup=function t(e,n){var r=e._cfg;r.removed||r.destroyed||(r.tobeRemoved&&(Mv.each(r.tobeRemoved,(function(t){t.parentNode&&t.parentNode.removeChild(t)})),r.tobeRemoved=[]),this._drawShape(e,n),r.children&&r.children.length>0&&this._drawChildren(e))},e._drawChildren=function t(e){var n=this,r=e._cfg.children,i;if(r)for(var a=0;a<r.length;a++)(i=r[a]).isGroup?n._drawGroup(i,a):n._drawShape(i,a)},e._drawShape=function t(e,n){var r=this,i=e._attrs,a=e._cfg,o=a.el;a.removed||a.destroyed?o&&o.parentNode.removeChild(a.el):(!o&&a.parent&&(r._createDom(e,n),r._updateShape(e)),o=a.el,!1!==a.visible?(a.visible&&o.hasAttribute("visibility")&&o.removeAttribute("visibility"),a.hasUpdate&&r._updateShape(e),i.clip&&i.clip._cfg.hasUpdate&&r._updateShape(i.clip)):o.setAttribute("visibility","hidden"))},e._updateShape=function t(e){var n=this,r=e._attrs,i=e._cfg.attrs;if(i)if(e._cfg.el||n._createDom(e),"clip"in r&&this._setClip(e,r.clip),("shadowOffsetX"in r||"shadowOffsetY"in r||"shadowBlur"in r||"shadowColor"in r)&&this._setShadow(e),"text"!==e.type){for(var a in"fan"===e.type&&n._updateFan(e),"marker"===e.type&&e._cfg.el.setAttribute("d",n._assembleMarker(r)),"rect"===e.type&&e._cfg.el.setAttribute("d",n._assembleRect(r)),r)r[a]!==i[a]&&n._setAttribute(e,a,r[a]);e._cfg.attrs=Mv.deepMix({},e._attrs),e._cfg.hasUpdate=!1}else n._updateText(e)},e._setAttribute=function t(e,n,r){var i=e.type,a=e._attrs,o=e._cfg.el,s=this.context;if("marker"!==i&&"rect"!==i||!~["x","y","radius","r"].indexOf(n))if(~["circle","ellipse"].indexOf(i)&&~["x","y"].indexOf(n))o.setAttribute("c"+n,parseInt(r,10));else{if("polygon"===i&&"points"===n)return r&&0!==r.length||(r=""),Mv.isArray(r)&&(r=(r=r.map((function(t){return t[0]+","+t[1]}))).join(" ")),void o.setAttribute("points",r);if("path"===n&&Mv.isArray(r))o.setAttribute("d",this._formatPath(r));else if("img"!==n){if("transform"===n)return r?void this._setTransform(e):void o.removeAttribute("transform");if("rotate"===n)return r?void this._setTransform(e):void o.removeAttribute("transform");if("matrix"!==n)if("fillStyle"!==n&&"strokeStyle"!==n){if("clip"!==n)if(~n.indexOf("Arrow"))if(n=Ev[n],r){var l=null;l="boolean"==typeof r?s.getDefaultArrow(a,n):s.addArrow(a,n),o.setAttribute(n,"url(#"+l+")"),e._cfg[n]=l}else e._cfg[n]=null,o.removeAttribute(n);else"html"===n&&("string"==typeof r?o.innerHTML=r:(o.innerHTML="",o.appendChild(r))),Ev[n]&&o.setAttribute(Ev[n],r)}else this._setColor(e,n,r);else this._setTransform(e)}else this._setImage(e,r)}},e._createDom=function t(e,n){var r=Tv[e.type],i=e._attrs,a=e._cfg.parent;if(!r)throw new Error("the type"+e.type+"is not supported by svg");var o=document.createElementNS("http://www.w3.org/2000/svg",r);if(e._cfg.id&&(o.id=e._cfg.id),e._cfg.el=o,a){var s=a._cfg.el;if(void 0===n)s.appendChild(o);else{var l=a._cfg.el.childNodes;"svg"===s.tagName&&(n+=1),l.length<=n?s.appendChild(o):s.insertBefore(o,l[n])}}return e._cfg.attrs={},"text"===e.type?(o.setAttribute("paint-order","stroke"),o.setAttribute("style","stroke-linecap:butt; stroke-linejoin:miter;")):(i.stroke||i.strokeStyle||o.setAttribute("stroke","none"),i.fill||i.fillStyle||o.setAttribute("fill","none")),o},e._assembleMarker=function t(e){var n=e.r;if(void 0===e.r&&(n=e.radius),isNaN(Number(e.x))||isNaN(Number(e.y))||isNaN(Number(n)))return"";var r="";return r="function"==typeof e.symbol?e.symbol(e.x,e.y,n):Pv.Symbols[e.symbol||"circle"](e.x,e.y,n),Mv.isArray(r)&&(r=r.map((function(t){return t.join(" ")})).join("")),r},e._assembleRect=function t(e){var n=e.x,r=e.y,i=e.width,a=e.height,o=e.radius;if(!o)return"M "+n+","+r+" l "+i+",0 l 0,"+a+" l"+-i+" 0 z";var s=Av(o),l;return Mv.isArray(o)?1===o.length?s.r1=s.r2=s.r3=s.r4=o[0]:2===o.length?(s.r1=s.r3=o[0],s.r2=s.r4=o[1]):3===o.length?(s.r1=o[0],s.r2=s.r4=o[1],s.r3=o[2]):(s.r1=o[0],s.r2=o[1],s.r3=o[2],s.r4=o[3]):s.r1=s.r2=s.r3=s.r4=o,[["M "+(n+s.r1)+","+r],["l "+(i-s.r1-s.r2)+",0"],["a "+s.r2+","+s.r2+",0,0,1,"+s.r2+","+s.r2],["l 0,"+(a-s.r2-s.r3)],["a "+s.r3+","+s.r3+",0,0,1,"+-s.r3+","+s.r3],["l "+(s.r3+s.r4-i)+",0"],["a "+s.r4+","+s.r4+",0,0,1,"+-s.r4+","+-s.r4],["l 0,"+(s.r4+s.r1-a)],["a "+s.r1+","+s.r1+",0,0,1,"+s.r1+","+-s.r1],["z"]].join(" ")},e._formatPath=function t(e){return~(e=e.map((function(t){return t.join(" ")})).join("")).indexOf("NaN")?"":e},e._setTransform=function t(e){for(var n=e._attrs.matrix,r=e._cfg.el,i=[],a=0;a<9;a+=3)i.push(n[a]+","+n[a+1]);-1===(i=i.join(",")).indexOf("NaN")?r.setAttribute("transform","matrix("+i+")"):console.warn("invalid matrix:",n)},e._setImage=function t(e,n){var r=e._attrs,i=e._cfg.el;if(Mv.isString(n))i.setAttribute("href",n);else if(n instanceof Image)r.width||(i.setAttribute("width",n.width),e._attrs.width=n.width),r.height||(i.setAttribute("height",n.height),e._attrs.height=n.height),i.setAttribute("href",n.src);else if(n instanceof HTMLElement&&Mv.isString(n.nodeName)&&"CANVAS"===n.nodeName.toUpperCase())i.setAttribute("href",n.toDataURL());else if(n instanceof ImageData){var a=document.createElement("canvas");a.setAttribute("width",n.width),a.setAttribute("height",n.height),a.getContext("2d").putImageData(n,0,0),r.width||(i.setAttribute("width",n.width),e._attrs.width=n.width),r.height||(i.setAttribute("height",n.height),e._attrs.height=n.height),i.setAttribute("href",a.toDataURL())}},e._updateFan=function t(e){function n(t,e,n){return{x:e*Math.cos(t)+n.x,y:e*Math.sin(t)+n.y}}var r=e._attrs,i=e._cfg,a={x:r.x,y:r.y},o=[],s=r.startAngle,l=r.endAngle;Mv.isNumberEqual(l-s,2*Math.PI)&&(l-=1e-5);var u=n(s,r.re,a),c=n(l,r.re,a),h=l>s?1:0,f=Math.abs(l-s)>Math.PI?1:0,p=r.rs,d=r.re,g=n(s,r.rs,a),v=n(l,r.rs,a);r.rs>0?(o.push("M "+c.x+","+c.y),o.push("L "+v.x+","+v.y),o.push("A "+p+","+p+",0,"+f+","+(1===h?0:1)+","+g.x+","+g.y),o.push("L "+u.x+" "+u.y)):(o.push("M "+a.x+","+a.y),o.push("L "+u.x+","+u.y)),o.push("A "+d+","+d+",0,"+f+","+h+","+c.x+","+c.y),r.rs>0?o.push("L "+v.x+","+v.y):o.push("Z"),i.el.setAttribute("d",o.join(" "))},e._updateText=function t(e){var n=this,r=e._attrs,i=e._cfg.attrs,a=e._cfg.el;for(var o in this._setFont(e),r)if(r[o]!==i[o]){if("text"===o){n._setText(e,""+r[o]);continue}if("fillStyle"===o||"strokeStyle"===o){this._setColor(e,o,r[o]);continue}if("matrix"===o){this._setTransform(e);continue}Ev[o]&&a.setAttribute(Ev[o],r[o])}e._cfg.attrs=Object.assign({},e._attrs),e._cfg.hasUpdate=!1},e._setFont=function t(e){var n=e.get("el"),r=e._attrs,i=r.fontSize;n.setAttribute("alignment-baseline",Ov[r.textBaseline]||"baseline"),n.setAttribute("text-anchor",Lv[r.textAlign]||"left"),i&&+i<12&&(r.matrix=[1,0,0,0,1,0,0,0,1],e.transform([["t",-r.x,-r.y],["s",+i/12,+i/12],["t",r.x,r.y]]))},e._setText=function t(e,n){var r=e._cfg.el,i=e._attrs.textBaseline||"bottom";if(n)if(~n.indexOf("\n")){var a=e._attrs.x,o=n.split("\n"),s=o.length-1,l="";Mv.each(o,(function(t,e){0===e?"alphabetic"===i?l+='<tspan x="'+a+'" dy="'+-s+'em">'+t+"</tspan>":"top"===i?l+='<tspan x="'+a+'" dy="0.9em">'+t+"</tspan>":"middle"===i?l+='<tspan x="'+a+'" dy="'+-(s-1)/2+'em">'+t+"</tspan>":"bottom"===i?l+='<tspan x="'+a+'" dy="-'+(s+.3)+'em">'+t+"</tspan>":"hanging"===i&&(l+='<tspan x="'+a+'" dy="'+(-(s-1)-.3)+'em">'+t+"</tspan>"):l+='<tspan x="'+a+'" dy="1em">'+t+"</tspan>"})),r.innerHTML=l}else r.innerHTML=n;else r.innerHTML=""},e._setClip=function t(e,n){var r=e._cfg.el;if(n)if(r.hasAttribute("clip-path"))n._cfg.hasUpdate&&this._updateShape(n);else{this._createDom(n),this._updateShape(n);var i=this.context.addClip(n);r.setAttribute("clip-path","url(#"+i+")")}else r.removeAttribute("clip-path")},e._setColor=function t(e,n,r){var i=e._cfg.el,a=this.context;if(r)if(r=r.trim(),/^[r,R,L,l]{1}[\s]*\(/.test(r)){var o=a.find("gradient",r);o||(o=a.addGradient(r)),i.setAttribute(Ev[n],"url(#"+o+")")}else if(/^[p,P]{1}[\s]*\(/.test(r)){var s=a.find("pattern",r);s||(s=a.addPattern(r)),i.setAttribute(Ev[n],"url(#"+s+")")}else i.setAttribute(Ev[n],r);else i.setAttribute(Ev[n],"none")},e._setShadow=function t(e){var n=e._cfg.el,r=e._attrs,i={dx:r.shadowOffsetX,dy:r.shadowOffsetY,blur:r.shadowBlur,color:r.shadowColor};if(i.dx||i.dy||i.blur||i.color){var a=this.context.find("filter",i);a||(a=this.context.addShadow(i,this)),n.setAttribute("filter","url(#"+a+")")}else n.removeAttribute("filter")},t}(),Fv,Bv={svg:"svg",circle:"circle",rect:"rect",text:"text",path:"path",foreignObject:"foreignObject",polygon:"polygon",ellipse:"ellipse",image:"image"},Rv,Nv,jv={canvas:Hg,svg:{painter:Dv,getShape:function t(e,n,r){var i=r.target||r.srcElement;if(!Bv[i.tagName]){for(var a=i.parentNode;a&&!Bv[a.tagName];)a=a.parentNode;i=a}return this._cfg.el===i?this:this.find((function(t){return t._cfg&&t._cfg.el===i}))}}},zv,Yv=Dn.detect,Gv=Vo,Xv=as,Vv=Rh,Hv=Pg,Wv=jv,qv=Yv(),Uv=qv&&"firefox"===qv.name,Zv=function t(e){t.superclass.constructor.call(this,e)};Zv.CFG={eventEnable:!0,width:null,height:null,widthCanvas:null,heightCanvas:null,widthStyle:null,heightStyle:null,containerDOM:null,canvasDOM:null,pixelRatio:null,renderer:"canvas",supportCSSTransform:!1},Gv.extend(Zv,Vv),Gv.augment(Zv,Xv,{init:function t(){Zv.superclass.init.call(this),this._setGlobalParam(),this._setContainer(),this._initPainter(),this._scale(),this.get("eventEnable")&&this.registerEvent(this)},_scale:function t(){if("svg"!==this._cfg.renderType){var e=this.get("pixelRatio");this.scale(e,e)}},_setGlobalParam:function t(){var e=this.get("renderer")||"canvas";"svg"===e?this.set("pixelRatio",1):this.get("pixelRatio")||this.set("pixelRatio",Gv.getRatio()),this._cfg.renderType=e;var n=Wv[e];this._cfg.renderer=n,this._cfg.canvas=this;var r=new Hv(this);this._cfg.timeline=r},_setContainer:function t(){var e=this.get("containerId"),n=this.get("containerDOM");n||(n=document.getElementById(e),this.set("containerDOM",n)),Gv.modifyCSS(n,{position:"relative"})},_initPainter:function t(){var e=this.get("containerDOM"),n=new this._cfg.renderer.painter(e);this._cfg.painter=n,this._cfg.canvasDOM=this._cfg.el=n.canvas,this.changeSize(this.get("width"),this.get("height"))},_resize:function t(){var e=this.get("canvasDOM"),n=this.get("widthCanvas"),r=this.get("heightCanvas"),i=this.get("widthStyle"),a=this.get("heightStyle");e.style.width=i,e.style.height=a,e.setAttribute("width",n),e.setAttribute("height",r)},getWidth:function t(){var e=this.get("pixelRatio"),n;return this.get("width")*e},getHeight:function t(){var e=this.get("pixelRatio"),n;return this.get("height")*e},changeSize:function t(e,n){var r=this.get("pixelRatio"),i=e*r,a=n*r;this.set("widthCanvas",i),this.set("heightCanvas",a),this.set("widthStyle",e+"px"),this.set("heightStyle",n+"px"),this.set("width",e),this.set("height",n),this._resize()},getPointByEvent:function t(e){var n;if(this.get("supportCSSTransform")){var r=this.get("pixelRatio")||1;if(Uv&&!Gv.isNil(e.layerX)&&e.layerX!==e.offsetX)return{x:e.layerX*r,y:e.layerY*r};if(!Gv.isNil(e.offsetX))return{x:e.offsetX*r,y:e.offsetY*r}}var i=this.getClientByEvent(e),a=i.x,o=i.y;return this.getPointByClient(a,o)},getClientByEvent:function t(e){var n=e;return e.touches&&(n="touchend"===e.type?e.changedTouches[0]:e.touches[0]),{x:n.clientX,y:n.clientY}},getPointByClient:function t(e,n){var r=this.get("el"),i=this.get("pixelRatio")||1,a=r.getBoundingClientRect();return{x:(e-a.left)*i,y:(n-a.top)*i}},getClientByPoint:function t(e,n){var r,i=this.get("el").getBoundingClientRect(),a=this.get("pixelRatio")||1;return{clientX:e/a+i.left,clientY:n/a+i.top}},draw:function t(){this._cfg.painter.draw(this)},getShape:function t(e,n,r){return 3===arguments.length&&this._cfg.renderer.getShape?this._cfg.renderer.getShape.call(this,e,n,r):Zv.superclass.getShape.call(this,e,n)},getRenderer:function t(){return this._cfg.renderType},_drawSync:function t(){this._cfg.painter.drawSync(this)},destroy:function t(){var e=this._cfg,n=e.containerDOM,r=e.canvasDOM;r&&n&&n.removeChild(r),e.timeline.stop(),Zv.superclass.destroy.call(this)}});var Qv,$v={Canvas:Zv,Group:Rh,Shape:Xl,Arc:Iu,Circle:Du,Dom:Nu,Ellipse:Gu,Fan:qu,Image:$u,Line:rc,Marker:uc,Path:rh,Polygon:sh,Polyline:ph,Rect:xh,Text:Sh,PathSegment:uu,PathUtil:Uc,Event:qo,EventEmitter:Ms,version:"3.4.10"},Jv,Kv=$v,tm,em,nm,rm,im,am,om=D,sm,lm,um={addEventListener:function t(e,n,r){if(e){if(e.addEventListener)return e.addEventListener(n,r,!1),{remove:function t(){e.removeEventListener(n,r,!1)}};if(e.attachEvent)return e.attachEvent("on"+n,r),{remove:function t(){e.detachEvent("on"+n,r)}}}},createDom:ci,getBoundingClientRect:function t(e,n){if(e&&e.getBoundingClientRect){var r=e.getBoundingClientRect(),i=document.documentElement.clientTop,a=document.documentElement.clientLeft;return{top:r.top-i,bottom:r.bottom-i,left:r.left-a,right:r.right-a}}return n||null},getHeight:function t(e,n){var r=this.getStyle(e,"height",n);return"auto"===r&&(r=e.offsetHeight),parseFloat(r)},getOuterHeight:function t(e,n){var r=this.getHeight(e,n),i=parseFloat(this.getStyle(e,"borderTopWidth"))||0,a=parseFloat(this.getStyle(e,"paddingTop"))||0,o=parseFloat(this.getStyle(e,"paddingBottom"))||0,s;return r+i+(parseFloat(this.getStyle(e,"borderBottomWidth"))||0)+a+o},getOuterWidth:function t(e,n){var r=this.getWidth(e,n),i=parseFloat(this.getStyle(e,"borderLeftWidth"))||0,a=parseFloat(this.getStyle(e,"paddingLeft"))||0,o=parseFloat(this.getStyle(e,"paddingRight"))||0,s;return r+i+(parseFloat(this.getStyle(e,"borderRightWidth"))||0)+a+o},getRatio:function t(){return window.devicePixelRatio?window.devicePixelRatio:2},getStyle:function t(e,n,r){try{return window.getComputedStyle?window.getComputedStyle(e,null)[n]:e.currentStyle[n]}catch(i){return om(r)?null:r}},getWidth:function t(e,n){var r=this.getStyle(e,"width",n);return"auto"===r&&(r=e.offsetWidth),parseFloat(r)},modifyCSS:hi,requestAnimationFrame:fi},cm=Gn,hm=Array.prototype.indexOf,fm,pm=function t(e,n){return!!cm(e)&&hm.call(e,n)>-1},dm=nt,gm=Gn,vm,mm=function t(e,n){if(!gm(e))return e;var r=[];return dm(e,(function(t,e){n(t,e)&&r.push(t)})),r},ym=mm,xm=pm,_m,bm=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return ym(e,(function(t){return!xm(n,t)}))},wm=nt,Sm=Rn,Mm,Cm=Object.keys?function(t){return Object.keys(t)}:function(t){var e=[];return wm(t,(function(n,r){Sm(t)&&"prototype"===r||e.push(r)})),e},Am=Cm,Pm=D;function km(t,e){var n=Am(e),r=n.length;if(Pm(t))return!r;for(var i=0;i<r;i+=1){var a=n[i];if(e[a]!==t[a]||!(a in t))return!1}return!0}var Tm=km,Im=Rn,Em=gr,Om=Tm;function Lm(t,e){var n=void 0;if(Im(e)&&(n=e),Em(e)&&(n=function t(n){return Om(n,e)}),n)for(var r=0;r<t.length;r+=1)if(n(t[r]))return t[r];return null}var Dm=Lm,Fm=D,Bm=J,Rm=function t(e,n){for(var r=null,i=0;i<e.length;i++){var a,o=e[i][n];if(!Fm(o)){r=Bm(o)?o[0]:o;break}}return r},Nm=Rm,jm=J,zm=nt,Ym,Gm=function t(e){if(!jm(e))return e;var n=[];return zm(e,(function(t){jm(t)?zm(t,(function(t){n.push(t)})):n.push(t)})),n},Xm=J,Vm=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(Xm(e))for(var r=0;r<e.length;r+=1)t(e[r],n);else n.push(e);return n},Hm=Vm,Wm=mm,qm=J,Um=function t(e){if(!(e=Wm(e,(function(t){return!isNaN(t)}))).length)return{min:0,max:0};if(qm(e[0])){for(var n=[],r=0;r<e.length;r++)n=n.concat(e[r]);e=n}var i=Math.max.apply(null,e),a;return{min:Math.min.apply(null,e),max:i}},Zm=Um,Qm=function t(e){for(var n=[],r=0;r<e.length;r++)n=n.concat(e[r]);return n},$m=Qm,Jm=Gn,Km=Array.prototype.splice,ty=function t(e,n){if(!Jm(e))return[];for(var r=e?n.length:0,i=r-1;r--;){var a=void 0,o=n[r];r!==i&&o===a||(a=o,Km.call(e,o,1))}return e},ey=ty,ny=J,ry=gr,iy=nt,ay=function t(e,n,r){if(!ny(e)&&!ry(e))return e;var i=r;return iy(e,(function(t,e){i=n(i,t,e)})),i},oy,sy=Gn,ly=ty,uy=function t(e,n){var r=[];if(!sy(e))return r;for(var i=-1,a=[],o=e.length;++i<o;){var s=e[i];n(s,i,e)&&(r.push(s),a.push(i))}return ly(e,a),r},cy,hy=qt,fy=Rn,py=J;function dy(t,e){var n=void 0;if(fy(e))n=function t(n,r){return e(n)-e(r)};else{var r=[];hy(e)?r.push(e):py(e)&&(r=e),n=function t(e,n){for(var i=0;i<r.length;i+=1){var a=r[i];if(e[a]>n[a])return 1;if(e[a]<n[a])return-1}return 0}}return t.sort(n),t}var gy,vy=nt,my=pm,yy=function t(e){var n=[];return vy(e,(function(t){my(n,t)||n.push(t)})),n},xy=yy,_y=nt,by=Or,wy=yy,Sy,My,Cy=D,Ay=J,Py=nt,ky=function t(e,n){for(var r=[],i={},a=0;a<e.length;a++){var o,s=e[a][n];Cy(s)||(Ay(s)||(s=[s]),Py(s,(function(t){i[t]||(r.push(t),i[t]=!0)})))}return r},Ty={contains:pm,difference:bm,find:Dm,firstValue:Nm,flatten:Gm,flattenDeep:Hm,getRange:Zm,merge:$m,pull:qr,pullAt:ty,reduce:ay,remove:uy,sortBy:dy,union:function t(){var e=[],n=by(arguments);return _y(n,(function(t){e=e.concat(t)})),wy(e)},uniq:yy,valuesOfKey:ky},Iy;function Ey(t,e){return t["_wrap_"+e]}function Oy(t,e){if(t["_wrap_"+e])return t["_wrap_"+e];var n=function n(r){t[e](r)};return t["_wrap_"+e]=n,n}var Ly,Dy={getWrapBehavior:Ey,wrapBehavior:Oy},Fy={},By=function t(e){var n=Fy[e];if(!n){for(var r=e.toString(16),i=r.length;i<6;i++)r="0"+r;n="#"+r,Fy[e]=n}return n},Ry=J,Ny=qt,jy=nt,zy=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,Yy=/[^\s\,]+/gi,Gy=function t(e){return Ry(e=e||[])?e:Ny(e)?(e=e.match(zy),jy(e,(function(t,n){if((t=t.match(Yy))[0].length>1){var r=t[0].charAt(0);t.splice(1,0,t[0].substr(1)),t[0]=r}jy(t,(function(e,n){isNaN(e)||(t[n]=+e)})),e[n]=t})),e):void 0},Xy=J,Vy,Hy=By,Wy={number2color:By,numberToColor:By,parsePath:Gy,parseRadius:function t(e){var n=0,r=0,i=0,a=0;return Xy(e)?1===e.length?n=r=i=a=e[0]:2===e.length?(n=i=e[0],r=a=e[1]):3===e.length?(n=e[0],r=a=e[1],i=e[2]):(n=e[0],r=e[1],i=e[2],a=e[3]):n=r=i=a=e,{r1:n,r2:r,r3:i,r4:a}}},qy,Uy=function t(e,n){var r=n.toString(),i=r.indexOf(".");if(-1===i)return Math.round(e);var a=r.substr(i+1).length;return a>20&&(a=20),parseFloat(e.toFixed(a))},Zy=ht,Qy,$y=function t(e){return Zy(e)&&e%1!=0},Jy=ht,Ky,tx=function t(e){return Jy(e)&&e%2==0},ex=ht,nx=Number.isInteger?Number.isInteger:function(t){return ex(t)&&t%1==0},rx,ix=ht,ax,ox,sx=ht,lx,ux,cx=ht,hx,fx,px=J,dx=Rn,gx=nt,vx,mx=function t(e,n){if(px(e)){var r=e[0],i=void 0;i=dx(n)?n(e[0]):e[0][n];var a=void 0;return gx(e,(function(t){(a=dx(n)?n(t):t[n])>i&&(r=t,i=a)})),r}},yx=J,xx=Rn,_x=nt,bx,wx,Sx=parseInt,Mx=Zr,Cx={clamp:ai,fixedBase:Uy,isDecimal:$y,isEven:tx,isInteger:nx,isNegative:function t(e){return ix(e)&&e<0},isNumberEqual:Zr,isOdd:function t(e){return sx(e)&&e%2!=0},isPositive:function t(e){return cx(e)&&e>0},maxBy:mx,minBy:function t(e,n){if(yx(e)){var r=e[0],i=void 0;i=xx(n)?n(e[0]):e[0][n];var a=void 0;return _x(e,(function(t){(a=xx(n)?n(t):t[n])<i&&(r=t,i=a)})),r}},mod:ri,snapEqual:Zr,toDegree:ei,toInt:Sx,toInteger:Sx,toRadian:Jr},Ax={mat3:ta,vec2:Va,vec3:Bo,transform:zo},Px=nt,kx=function(t,e){return t.hasOwnProperty(e)},Tx=kx,Ix=nt,Ex=Rn,Ox=Object.values?function(t){return Object.values(t)}:function(t){var e=[];return Ix(t,(function(n,r){Ex(t)&&"prototype"===r||e.push(n)})),e},Lx=Ox,Dx=pm,Fx=Ox,Bx,Rx={forIn:Px,has:kx,hasKey:Tx,hasValue:function(t,e){return Dx(Fx(t),e)},keys:Cm,isMatch:Tm,values:Ox},Nx=/,?([a-z]),?/gi,jx=function t(e){return e.join(",").replace(Nx,"$1")},zx=jx,Yx=function t(e,n,r,i,a){if(a)return[["M",+e+ +a,n],["l",r-2*a,0],["a",a,a,0,0,1,a,a],["l",0,i-2*a],["a",a,a,0,0,1,-a,a],["l",2*a-r,0],["a",a,a,0,0,1,-a,-a],["l",0,2*a-i],["a",a,a,0,0,1,a,-a],["z"]];var o=[["M",e,n],["l",r,0],["l",0,i],["l",-r,0],["z"]];return o.parsePathArray=zx,o},Gx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xx="\t\n\v\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029",Vx=new RegExp("([a-z])["+Xx+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+Xx+"]*,?["+Xx+"]*)+)","ig"),Hx=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+Xx+"]*,?["+Xx+"]*","ig"),Wx=function t(e){if(!e)return null;if((void 0===e?"undefined":Gx(e))===Gx([]))return e;var n={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},r=[];return String(e).replace(Vx,(function(t,e,i){var a=[],o=e.toLowerCase();if(i.replace(Hx,(function(t,e){e&&a.push(+e)})),"m"===o&&a.length>2&&(r.push([e].concat(a.splice(0,2))),o="l",e="m"===e?"l":"L"),"o"===o&&1===a.length&&r.push([e,a[0]]),"r"===o)r.push([e].concat(a));else for(;a.length>=n[o]&&(r.push([e].concat(a.splice(0,n[o]))),n[o]););})),r},qx=function t(e,n){for(var r=[],i=0,a=e.length;a-2*!n>i;i+=2){var o=[{x:+e[i-2],y:+e[i-1]},{x:+e[i],y:+e[i+1]},{x:+e[i+2],y:+e[i+3]},{x:+e[i+4],y:+e[i+5]}];n?i?a-4===i?o[3]={x:+e[0],y:+e[1]}:a-2===i&&(o[2]={x:+e[0],y:+e[1]},o[3]={x:+e[2],y:+e[3]}):o[0]={x:+e[a-2],y:+e[a-1]}:a-4===i?o[3]=o[2]:i||(o[0]={x:+e[i],y:+e[i+1]}),r.push(["C",(-o[0].x+6*o[1].x+o[2].x)/6,(-o[0].y+6*o[1].y+o[2].y)/6,(o[1].x+6*o[2].x-o[3].x)/6,(o[1].y+6*o[2].y-o[3].y)/6,o[2].x,o[2].y])}return r},Ux=Wx,Zx=qx;function Qx(t,e,n,r,i){var a=[];if(null===i&&null===r&&(r=n),t=+t,e=+e,n=+n,r=+r,null!==i){var o=Math.PI/180,s=t+n*Math.cos(-r*o),l=t+n*Math.cos(-i*o),u,c;a=[["M",s,e+n*Math.sin(-r*o)],["A",n,n,0,+(i-r>180),0,l,e+n*Math.sin(-i*o)]]}else a=[["M",t,e],["m",0,-r],["a",n,r,0,1,1,0,2*r],["a",n,r,0,1,1,0,-2*r],["z"]];return a}var $x=function t(e){if(!(e=Ux(e))||!e.length)return[["M",0,0]];var n=[],r=0,i=0,a=0,o=0,s=0,l=void 0,u=void 0;"M"===e[0][0]&&(a=r=+e[0][1],o=i=+e[0][2],s++,n[0]=["M",r,i]);for(var c=3===e.length&&"M"===e[0][0]&&"R"===e[1][0].toUpperCase()&&"Z"===e[2][0].toUpperCase(),h,f,p=s,d=e.length;p<d;p++){if(n.push(h=[]),(l=(f=e[p])[0])!==l.toUpperCase())switch(h[0]=l.toUpperCase(),h[0]){case"A":h[1]=f[1],h[2]=f[2],h[3]=f[3],h[4]=f[4],h[5]=f[5],h[6]=+f[6]+r,h[7]=+f[7]+i;break;case"V":h[1]=+f[1]+i;break;case"H":h[1]=+f[1]+r;break;case"R":for(var g=2,v=(u=[r,i].concat(f.slice(1))).length;g<v;g++)u[g]=+u[g]+r,u[++g]=+u[g]+i;n.pop(),n=n.concat(Zx(u,c));break;case"O":n.pop(),(u=Qx(r,i,f[1],f[2])).push(u[0]),n=n.concat(u);break;case"U":n.pop(),n=n.concat(Qx(r,i,f[1],f[2],f[3])),h=["U"].concat(n[n.length-1].slice(-2));break;case"M":a=+f[1]+r,o=+f[2]+i;break;default:for(var m=1,y=f.length;m<y;m++)h[m]=+f[m]+(m%2?r:i)}else if("R"===l)u=[r,i].concat(f.slice(1)),n.pop(),n=n.concat(Zx(u,c)),h=["R"].concat(f.slice(-2));else if("O"===l)n.pop(),(u=Qx(r,i,f[1],f[2])).push(u[0]),n=n.concat(u);else if("U"===l)n.pop(),n=n.concat(Qx(r,i,f[1],f[2],f[3])),h=["U"].concat(n[n.length-1].slice(-2));else for(var x=0,_=f.length;x<_;x++)h[x]=f[x];if("O"!==(l=l.toUpperCase()))switch(h[0]){case"Z":r=+a,i=+o;break;case"H":r=h[1];break;case"V":i=h[1];break;case"M":a=h[h.length-2],o=h[h.length-1];break;default:r=h[h.length-2],i=h[h.length-1]}}return n},Jx=$x,Kx=function t(e,n,r,i,a,o,s,l,u,c){r===i&&(r+=1);var h=120*Math.PI/180,f=Math.PI/180*(+a||0),p=[],d=void 0,g=void 0,v=void 0,m=void 0,y=void 0,x=function t(e,n,r){var i,a;return{x:e*Math.cos(r)-n*Math.sin(r),y:e*Math.sin(r)+n*Math.cos(r)}};if(c)g=c[0],v=c[1],m=c[2],y=c[3];else{e=(d=x(e,n,-f)).x,n=d.y,l=(d=x(l,u,-f)).x,u=d.y,e===l&&n===u&&(l+=1,u+=1);var _=(e-l)/2,b=(n-u)/2,w=_*_/(r*r)+b*b/(i*i);w>1&&(r*=w=Math.sqrt(w),i*=w);var S=r*r,M=i*i,C=(o===s?-1:1)*Math.sqrt(Math.abs((S*M-S*b*b-M*_*_)/(S*b*b+M*_*_)));m=C*r*b/i+(e+l)/2,y=C*-i*_/r+(n+u)/2,g=Math.asin(((n-y)/i).toFixed(9)),v=Math.asin(((u-y)/i).toFixed(9)),g=e<m?Math.PI-g:g,v=l<m?Math.PI-v:v,g<0&&(g=2*Math.PI+g),v<0&&(v=2*Math.PI+v),s&&g>v&&(g-=2*Math.PI),!s&&v>g&&(v-=2*Math.PI)}var A=v-g;if(Math.abs(A)>h){var P=v,k=l,T=u;v=g+h*(s&&v>g?1:-1),p=t(l=m+r*Math.cos(v),u=y+i*Math.sin(v),r,i,a,0,s,k,T,[v,P,m,y])}A=v-g;var I=Math.cos(g),E=Math.sin(g),O=Math.cos(v),L=Math.sin(v),D=Math.tan(A/4),F=4/3*r*D,B=4/3*i*D,R=[e,n],N=[e+F*E,n-B*I],j=[l+F*L,u-B*O],z=[l,u];if(N[0]=2*R[0]-N[0],N[1]=2*R[1]-N[1],c)return[N,j,z].concat(p);for(var Y=[],G=0,X=(p=[N,j,z].concat(p).join().split(",")).length;G<X;G++)Y[G]=G%2?x(p[G-1],p[G],f).y:x(p[G],p[G+1],f).x;return Y},t_=function t(e,n,r,i){return[e,n,r,i,r,i]},e_=function t(e,n,r,i,a,o){var s=1/3,l=2/3;return[s*e+l*r,s*n+l*i,s*a+l*r,s*o+l*i,a,o]},n_=function t(e,n){var r=Jx(e),i=n&&Jx(n),a={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},o={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},s=[],l=[],u="",c="",h=void 0,f=function t(e,n,r){var i=void 0,a=void 0;if(!e)return["C",n.x,n.y,n.x,n.y,n.x,n.y];switch(!(e[0]in{T:1,Q:1})&&(n.qx=n.qy=null),e[0]){case"M":n.X=e[1],n.Y=e[2];break;case"A":e=["C"].concat(Kx.apply(0,[n.x,n.y].concat(e.slice(1))));break;case"S":"C"===r||"S"===r?(i=2*n.x-n.bx,a=2*n.y-n.by):(i=n.x,a=n.y),e=["C",i,a].concat(e.slice(1));break;case"T":"Q"===r||"T"===r?(n.qx=2*n.x-n.qx,n.qy=2*n.y-n.qy):(n.qx=n.x,n.qy=n.y),e=["C"].concat(e_(n.x,n.y,n.qx,n.qy,e[1],e[2]));break;case"Q":n.qx=e[1],n.qy=e[2],e=["C"].concat(e_(n.x,n.y,e[1],e[2],e[3],e[4]));break;case"L":e=["C"].concat(t_(n.x,n.y,e[1],e[2]));break;case"H":e=["C"].concat(t_(n.x,n.y,e[1],n.y));break;case"V":e=["C"].concat(t_(n.x,n.y,n.x,e[1]));break;case"Z":e=["C"].concat(t_(n.x,n.y,n.X,n.Y))}return e},p=function t(e,n){if(e[n].length>7){e[n].shift();for(var a=e[n];a.length;)s[n]="A",i&&(l[n]="A"),e.splice(n++,0,["C"].concat(a.splice(0,6)));e.splice(n,1),h=Math.max(r.length,i&&i.length||0)}},d=function t(e,n,a,o,s){e&&n&&"M"===e[s][0]&&"M"!==n[s][0]&&(n.splice(s,0,["M",o.x,o.y]),a.bx=0,a.by=0,a.x=e[s][1],a.y=e[s][2],h=Math.max(r.length,i&&i.length||0))};h=Math.max(r.length,i&&i.length||0);for(var g=0;g<h;g++){r[g]&&(u=r[g][0]),"C"!==u&&(s[g]=u,g&&(c=s[g-1])),r[g]=f(r[g],a,c),"A"!==s[g]&&"C"===u&&(s[g]="C"),p(r,g),i&&(i[g]&&(u=i[g][0]),"C"!==u&&(l[g]=u,g&&(c=l[g-1])),i[g]=f(i[g],o,c),"A"!==l[g]&&"C"===u&&(l[g]="C"),p(i,g)),d(r,i,a,o,g),d(i,r,o,a,g);var v=r[g],m=i&&i[g],y=v.length,x=i&&m.length;a.x=v[y-2],a.y=v[y-1],a.bx=parseFloat(v[y-4])||a.x,a.by=parseFloat(v[y-3])||a.y,o.bx=i&&(parseFloat(m[x-4])||o.x),o.by=i&&(parseFloat(m[x-3])||o.y),o.x=i&&m[x-2],o.y=i&&m[x-1]}return i?[r,i]:r},r_=J,i_=Yx,a_=n_,o_=function t(e,n,r,i,a){var o,s;return e*(e*(-3*n+9*r-9*i+3*a)+6*n-12*r+6*i)-3*n+3*r},s_=function t(e,n,r,i,a,o,s,l,u){null===u&&(u=1);for(var c=(u=u>1?1:u<0?0:u)/2,h=12,f=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],p=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],d=0,g=0;g<h;g++){var v=c*f[g]+c,m=o_(v,e,r,a,s),y=o_(v,n,i,o,l),x=m*m+y*y;d+=p[g]*Math.sqrt(x)}return c*d},l_=function t(e,n,r,i,a,o,s,l){for(var u=[],c=[[],[]],h=void 0,f=void 0,p=void 0,d=void 0,g=0;g<2;++g)if(0===g?(f=6*e-12*r+6*a,h=-3*e+9*r-9*a+3*s,p=3*r-3*e):(f=6*n-12*i+6*o,h=-3*n+9*i-9*o+3*l,p=3*i-3*n),Math.abs(h)<1e-12){if(Math.abs(f)<1e-12)continue;(d=-p/f)>0&&d<1&&u.push(d)}else{var v=f*f-4*p*h,m=Math.sqrt(v);if(!(v<0)){var y=(-f+m)/(2*h);y>0&&y<1&&u.push(y);var x=(-f-m)/(2*h);x>0&&x<1&&u.push(x)}}for(var _=u.length,b=_,w=void 0;_--;)w=1-(d=u[_]),c[0][_]=w*w*w*e+3*w*w*d*r+3*w*d*d*a+d*d*d*s,c[1][_]=w*w*w*n+3*w*w*d*i+3*w*d*d*o+d*d*d*l;return c[0][b]=e,c[1][b]=n,c[0][b+1]=s,c[1][b+1]=l,c[0].length=c[1].length=b+2,{min:{x:Math.min.apply(0,c[0]),y:Math.min.apply(0,c[1])},max:{x:Math.max.apply(0,c[0]),y:Math.max.apply(0,c[1])}}},u_=function t(e,n,r,i,a,o,s,l){if(!(Math.max(e,r)<Math.min(a,s)||Math.min(e,r)>Math.max(a,s)||Math.max(n,i)<Math.min(o,l)||Math.min(n,i)>Math.max(o,l))){var u,c,h=(e-r)*(o-l)-(n-i)*(a-s);if(h){var f=((e*i-n*r)*(a-s)-(e-r)*(a*l-o*s))/h,p=((e*i-n*r)*(o-l)-(n-i)*(a*l-o*s))/h,d=+f.toFixed(2),g=+p.toFixed(2);if(!(d<+Math.min(e,r).toFixed(2)||d>+Math.max(e,r).toFixed(2)||d<+Math.min(a,s).toFixed(2)||d>+Math.max(a,s).toFixed(2)||g<+Math.min(n,i).toFixed(2)||g>+Math.max(n,i).toFixed(2)||g<+Math.min(o,l).toFixed(2)||g>+Math.max(o,l).toFixed(2)))return{x:f,y:p}}}},c_=function t(e,n,r){return n>=e.x&&n<=e.x+e.width&&r>=e.y&&r<=e.y+e.height},h_=function t(e,n,r,i){return null===e&&(e=n=r=i=0),null===n&&(n=e.y,r=e.width,i=e.height,e=e.x),{x:e,y:n,width:r,w:r,height:i,h:i,x2:e+r,y2:n+i,cx:e+r/2,cy:n+i/2,r1:Math.min(r,i)/2,r2:Math.max(r,i)/2,r0:Math.sqrt(r*r+i*i)/2,path:i_(e,n,r,i),vb:[e,n,r,i].join(" ")}},f_=function t(e,n){return e=h_(e),n=h_(n),c_(n,e.x,e.y)||c_(n,e.x2,e.y)||c_(n,e.x,e.y2)||c_(n,e.x2,e.y2)||c_(e,n.x,n.y)||c_(e,n.x2,n.y)||c_(e,n.x,n.y2)||c_(e,n.x2,n.y2)||(e.x<n.x2&&e.x>n.x||n.x<e.x2&&n.x>e.x)&&(e.y<n.y2&&e.y>n.y||n.y<e.y2&&n.y>e.y)},p_=function t(e,n,r,i,a,o,s,l){r_(e)||(e=[e,n,r,i,a,o,s,l]);var u=l_.apply(null,e);return h_(u.min.x,u.min.y,u.max.x-u.min.x,u.max.y-u.min.y)},d_=function t(e,n,r,i,a,o,s,l,u){var c=1-u,h=Math.pow(c,3),f=Math.pow(c,2),p=u*u,d=p*u,g,v,m=e+2*u*(r-e)+p*(a-2*r+e),y=n+2*u*(i-n)+p*(o-2*i+n),x=r+2*u*(a-r)+p*(s-2*a+r),_=i+2*u*(o-i)+p*(l-2*o+i),b,w,S,M,C;return{x:h*e+3*f*u*r+3*c*u*u*a+d*s,y:h*n+3*f*u*i+3*c*u*u*o+d*l,m:{x:m,y:y},n:{x:x,y:_},start:{x:c*e+u*r,y:c*n+u*i},end:{x:c*a+u*s,y:c*o+u*l},alpha:90-180*Math.atan2(m-x,y-_)/Math.PI}},g_=function t(e,n,r){var i=p_(e),a=p_(n);if(!f_(i,a))return r?0:[];for(var o,s,l=~~(s_.apply(0,e)/8),u=~~(s_.apply(0,n)/8),c=[],h=[],f={},p=r?0:[],d=0;d<l+1;d++){var g=d_.apply(0,e.concat(d/l));c.push({x:g.x,y:g.y,t:d/l})}for(var v=0;v<u+1;v++){var m=d_.apply(0,n.concat(v/u));h.push({x:m.x,y:m.y,t:v/u})}for(var y=0;y<l;y++)for(var x=0;x<u;x++){var _=c[y],b=c[y+1],w=h[x],S=h[x+1],M=Math.abs(b.x-_.x)<.001?"y":"x",C=Math.abs(S.x-w.x)<.001?"y":"x",A=u_(_.x,_.y,b.x,b.y,w.x,w.y,S.x,S.y);if(A){if(f[A.x.toFixed(4)]===A.y.toFixed(4))continue;f[A.x.toFixed(4)]=A.y.toFixed(4);var P=_.t+Math.abs((A[M]-_[M])/(b[M]-_[M]))*(b.t-_.t),k=w.t+Math.abs((A[C]-w[C])/(S[C]-w[C]))*(S.t-w.t);P>=0&&P<=1&&k>=0&&k<=1&&(r?p++:p.push({x:A.x,y:A.y,t1:P,t2:k}))}}return p},v_=function t(e,n,r){e=a_(e),n=a_(n);for(var i=void 0,a=void 0,o=void 0,s=void 0,l=void 0,u=void 0,c=void 0,h=void 0,f=void 0,p=void 0,d=r?0:[],g=0,v=e.length;g<v;g++){var m=e[g];if("M"===m[0])i=l=m[1],a=u=m[2];else{"C"===m[0]?(f=[i,a].concat(m.slice(1)),i=f[6],a=f[7]):(f=[i,a,i,a,l,u,l,u],i=l,a=u);for(var y=0,x=n.length;y<x;y++){var _=n[y];if("M"===_[0])o=c=_[1],s=h=_[2];else{"C"===_[0]?(p=[o,s].concat(_.slice(1)),o=p[6],s=p[7]):(p=[o,s,o,s,c,h,c,h],o=c,s=h);var b=g_(f,p,r);if(r)d+=b;else{for(var w=0,S=b.length;w<S;w++)b[w].segment1=g,b[w].segment2=y,b[w].bez1=f,b[w].bez2=p;d=d.concat(b)}}}}}return d},m_=function t(e,n){return v_(e,n)};function y_(t,e){var n=[],r=[];function i(t,e){if(1===t.length)n.push(t[0]),r.push(t[0]);else{for(var a=[],o=0;o<t.length-1;o++)0===o&&n.push(t[0]),o===t.length-2&&r.push(t[o+1]),a[o]=[(1-e)*t[o][0]+e*t[o+1][0],(1-e)*t[o][1]+e*t[o+1][1]];i(a,e)}}return t.length&&i(t,e),{left:n,right:r.reverse()}}function x_(t,e,n){var r=[[t[1],t[2]]];n=n||2;var i=[],a;"A"===e[0]?(r.push(e[6]),r.push(e[7])):"C"===e[0]?(r.push([e[1],e[2]]),r.push([e[3],e[4]]),r.push([e[5],e[6]])):"S"===e[0]||"Q"===e[0]?(r.push([e[1],e[2]]),r.push([e[3],e[4]])):r.push([e[1],e[2]]);for(var o=r,s=1/n,l=0;l<n-1;l++){var u,c=y_(o,s/(1-s*l));i.push(c.left),o=c.right}return i.push(o),i.map((function(t){var e=[];return 4===t.length&&(e.push("C"),e=e.concat(t[2])),t.length>=3&&(3===t.length&&e.push("Q"),e=e.concat(t[1])),2===t.length&&e.push("L"),e=e.concat(t[t.length-1])}))}function __(t,e,n){if(1===n)return[[].concat(t)];var r=[];if("L"===e[0]||"C"===e[0]||"Q"===e[0])r=r.concat(x_(t,e,n));else{var i=[].concat(t);"M"===i[0]&&(i[0]="L");for(var a=0;a<=n-1;a++)r.push(i)}return r}var b_=function t(e,n){if(1===e.length)return e;var r=e.length-1,i=n.length-1,a=r/i,o=[];if(1===e.length&&"M"===e[0][0]){for(var s=0;s<i-r;s++)e.push(e[0]);return e}for(var l=0;l<i;l++){var u=Math.floor(a*l);o[u]=(o[u]||0)+1}var c=o.reduce((function(t,n,i){return i===r?t.concat(e[r]):t.concat(__(e[i],e[i+1],n))}),[]);return c.unshift(e[0]),"Z"!==n[i]&&"z"!==n[i]||c.push("Z"),c},w_=nt,S_=function t(e,n){if(e.length!==n.length)return!1;var r=!0;return w_(e,(function(t,e){if(t!==n[e])return r=!1,!1})),r},M_=S_;function C_(t,e,n){var r=null,i=n;return e<i&&(i=e,r="add"),t<i&&(i=t,r="del"),{type:r,min:i}}var A_=function t(e,n){var r=e.length,i=n.length,a=void 0,o=void 0,s=0;if(0===r||0===i)return null;for(var l=[],u=0;u<=r;u++)l[u]=[],l[u][0]={min:u};for(var c=0;c<=i;c++)l[0][c]={min:c};for(var h=1;h<=r;h++){a=e[h-1];for(var f=1;f<=i;f++){o=n[f-1],s=M_(a,o)?0:1;var p=l[h-1][f].min+1,d=l[h][f-1].min+1,g=l[h-1][f-1].min+s;l[h][f]=C_(p,d,g)}}return l},P_=function t(e,n){var r=A_(e,n),i=e.length,a=n.length,o=[],s=1,l=1;if(r[i][a]!==i){for(var u=1;u<=i;u++){var c=r[u][u].min;l=u;for(var h=s;h<=a;h++)r[u][h].min<c&&(c=r[u][h].min,l=h);s=l,r[u][s].type&&o.push({index:u-1,type:r[u][s].type})}for(var f=o.length-1;f>=0;f--)s=o[f].index,"add"===o[f].type?e.splice(s,0,[].concat(e[s])):e.splice(s,1)}if((i=e.length)<a)for(var p=0;p<a-i;p++)"z"===e[i-1][0]||"Z"===e[i-1][0]?e.splice(i-2,0,e[i-2]):e.push(e[i-1]);return e};function k_(t){var e=[];switch(t[0]){case"M":case"L":case"T":e.push([t[1],t[2]]);break;case"A":e.push([t[6],t[7]]);break;case"Q":case"S":e.push([t[3],t[4]]),e.push([t[1],t[2]]);break;case"C":e.push([t[5],t[6]]),e.push([t[1],t[2]]),e.push([t[3],t[4]]);break;case"H":case"V":e.push([t[1],t[1]])}return e}function T_(t,e,n){for(var r=[].concat(t),i=void 0,a=1/(n+1),o=k_(e)[0],s=1;s<=n;s++)a*=s,0===(i=Math.floor(t.length*a))?r.unshift([o[0]*a+t[i][0]*(1-a),o[1]*a+t[i][1]*(1-a)]):r.splice(i,0,[o[0]*a+t[i][0]*(1-a),o[1]*a+t[i][1]*(1-a)]);return r}var I_=function t(e,n){if(e.length<=1)return e;for(var r=void 0,i=0;i<n.length;i++)if(e[i][0]!==n[i][0])switch(r=k_(e[i]),n[i][0]){case"M":e[i]=["M"].concat(r[0]);break;case"L":e[i]=["L"].concat(r[0]);break;case"A":e[i]=[].concat(n[i]),e[i][6]=r[0][0],e[i][7]=r[0][1];break;case"Q":if(r.length<2){if(!(i>0)){e[i]=n[i];break}r=T_(r,e[i-1],1)}e[i]=["Q"].concat(r.reduce((function(t,e){return t.concat(e)}),[]));break;case"T":e[i]=["T"].concat(r[0]);break;case"C":if(r.length<3){if(!(i>0)){e[i]=n[i];break}r=T_(r,e[i-1],2)}e[i]=["C"].concat(r.reduce((function(t,e){return t.concat(e)}),[]));break;case"S":if(r.length<2){if(!(i>0)){e[i]=n[i];break}r=T_(r,e[i-1],1)}e[i]=["S"].concat(r.reduce((function(t,e){return t.concat(e)}),[]));break;default:e[i]=n[i]}return e},E_=m_,O_=$x,L_=n_,D_=qx,F_={catmullRom2Bezier:qx,catmullRomToBezier:qx,fillPath:b_,fillPathByDiff:P_,formatPath:I_,intersection:m_,pathIntersection:m_,parsePathArray:jx,parsePathString:Wx,pathToAbsolute:$x,path2absolute:$x,pathTocurve:n_,path2curve:n_,rectPath:Yx},B_=R,R_=function t(e){return B_(e).toLowerCase()},N_=R_,j_,z_,Y_,G_=R,X_=function t(e){return G_(e).toUpperCase()},V_=X_,H_,W_,q_={lc:R_,lowerCase:R_,lowerFirst:z,substitute:function t(e,n){return e&&n?e.replace(/\\?\{([^{}]+)\}/g,(function(t,e){return"\\"===t.charAt(0)?t.slice(1):void 0===n[e]?"":n[e]})):e},uc:X_,upperCase:X_,upperFirst:Mr},U_,Z_,Q_,$_,J_=Z,K_,tb,eb=Z,nb,rb,ib=Z,ab,ob,sb,lb,ub={getType:Hn,isArray:J,isArrayLike:Gn,isBoolean:zn,isFunction:Rn,isNil:D,isNull:function t(e){return null===e},isNumber:ht,isObject:W,isObjectLike:hr,isPlainObject:gr,isPrototype:Un,isType:Z,isUndefined:function t(e){return void 0===e},isString:qt,isRegExp:function t(e){return J_(e,"RegExp")},isDate:we,isArguments:function t(e){return eb(e,"Arguments")},isError:function t(e){return ib(e,"Error")}};function cb(t,e,n){var r=void 0;return function(){var i=this,a=arguments,o=function e(){r=null,n||t.apply(i,a)},s=n&&!r;clearTimeout(r),r=setTimeout(o,e),s&&t.apply(i,a)}}var hb=cb,fb=nt,pb=J,db=Object.prototype.hasOwnProperty,gb,vb=function t(e,n){if(!n||!pb(e))return e;var r={},i=null;return fb(e,(function(t){i=n(t),db.call(r,i)?r[i].push(t):r[i]=[t]})),r},mb=Rn,yb=J,xb=vb,_b=function t(e,n){if(!n)return{0:e};if(!mb(n)){var r=yb(n)?n:n.replace(/\s+/g,"").split("*");n=function t(e){for(var n="_",i=0,a=r.length;i<a;i++)n+=e[r[i]]&&e[r[i]].toString();return n}}var i;return xb(e,n)},bb=_b,wb=bb,Sb=function t(e,n){if(!n)return[e];var r=wb(e,n),i=[];for(var a in r)i.push(r[a]);return i},Mb=Sb,Cb=Gn,Ab=function t(e,n){if(!Cb(e))return-1;var r=Array.prototype.indexOf;if(r)return r.call(e,n);for(var i=-1,a=0;a<e.length;a++)if(e[a]===n){i=a;break}return i},Pb=Ab,kb=Rn,Tb=Tr,Ib,Eb=function t(e,n,r){return kb(r)?!!r(e,n):Tb(e,n)},Ob=nt,Lb=Gn,Db,Fb=function t(e,n){if(!Lb(e))return e;var r=[];return Ob(e,(function(t,e){r.push(n(t,e))})),r},Bb=nt,Rb=gr,Nb=Object.prototype.hasOwnProperty,jb,zb;function Yb(t,e,n){var r=void 0,i=void 0,a=void 0,o=void 0,s=0;n||(n={});var l=function e(){s=!1===n.leading?0:Date.now(),r=null,o=t.apply(i,a),r||(i=a=null)},u=function u(){var c=Date.now();s||!1!==n.leading||(s=c);var h=e-(c-s);return i=this,a=arguments,h<=0||h>e?(r&&(clearTimeout(r),r=null),s=c,o=t.apply(i,a),r||(i=a=null)):r||!1===n.trailing||(r=setTimeout(l,h)),o};return u.cancel=function(){clearTimeout(r),s=0,r=i=a=null},u}var Gb,Xb=nt,Vb=X,Hb=um,Wb=Ty,qb=Dy,Ub=Wy,Zb=Cx,Qb=Ax,$b=Rx,Jb=F_,Kb=q_,tw=ub,ew={DOMUtil:um,DomUtil:um,MatrixUtil:Ax,PathUtil:F_,arrayUtil:Ty,domUtil:um,eventUtil:Dy,formatUtil:Wy,mathUtil:Cx,matrixUtil:Ax,objectUtil:Rx,stringUtil:q_,pathUtil:F_,typeUtil:ub,augment:Yr,clone:lr,debounce:hb,deepMix:br,each:nt,extend:Br,filter:mm,group:Mb,groupBy:vb,groupToMap:bb,indexOf:Pb,isEmpty:er,isEqual:Tr,isEqualWith:Eb,map:Fb,mix:Vb,pick:function t(e,n){if(null===e||!Rb(e))return{};var r={};return Bb(n,(function(t){Nb.call(e,t)&&(r[t]=e[t])})),r},throttle:Yb,toArray:Or,toString:R,uniqueId:ir};nt([um,Ty,Dy,Wy,Cx,Ax,Rx,F_,q_,ub],(function(t){Vb(ew,t)}));var nw=ew,rw=nw,iw=Kv,aw=rw.mix({},rw,{assign:rw.mix,merge:rw.deepMix,cloneDeep:rw.clone,isFinite:isFinite,isNaN:isNaN,snapEqual:rw.isNumberEqual,remove:rw.pull,inArray:rw.contains,toAllPadding:function t(e){var n=0,r=0,i=0,a=0;return aw.isNumber(e)||aw.isString(e)?n=r=i=a=e:aw.isArray(e)?(n=e[0],i=aw.isNil(e[1])?e[0]:e[1],a=aw.isNil(e[2])?e[0]:e[2],r=aw.isNil(e[3])?i:e[3]):aw.isObject(e)&&(n=e.top||0,i=e.right||0,a=e.bottom||0,r=e.left||0),[n,i,a,r]},getClipByRange:function t(e){var n=e.tl,r=e.br,i;return new iw.Rect({attrs:{x:n.x,y:n.y,width:r.x-n.x,height:r.y-n.y}})}});aw.Array={groupToMap:rw.groupToMap,group:rw.group,merge:rw.merge,values:rw.valuesOfKey,getRange:rw.getRange,firstValue:rw.firstValue,remove:rw.pull};var ow=aw,sw=ow,lw=Kv,uw=sw.PathUtil;function cw(t){var e=t.start,n=t.end,r=t.getWidth(),i=t.getHeight(),a=200,o,s,l,u,c;return t.isPolar?(u=t.getRadius(),l=t.getCenter(),o=t.startAngle,s=t.endAngle,(c=new lw.Fan({attrs:{x:l.x,y:l.y,rs:0,re:u+a,startAngle:o,endAngle:o}})).endState={endAngle:s}):(c=new lw.Rect({attrs:{x:e.x-a,y:n.y-a,width:t.isTransposed?r+400:0,height:t.isTransposed?0:i+400}}),t.isTransposed?c.endState={height:i+400}:c.endState={width:r+400}),c.isClip=!0,c}function hw(t){if(sw.isEmpty(t))return null;var e=t[0].x,n=t[0].x,r=t[0].y,i=t[0].y;return sw.each(t,(function(t){e=e>t.x?t.x:e,n=n<t.x?t.x:n,r=r>t.y?t.y:r,i=i<t.y?t.y:i})),{minX:e,maxX:n,minY:r,maxY:i,centerX:(e+n)/2,centerY:(r+i)/2}}function fw(t,e){var n,r=hw(t.points||t.get("origin").points),i,a,o=e.startAngle,s,l=e.endAngle-o;return e.isTransposed?(i=r.maxY*l,a=r.minY*l):(i=r.maxX*l,a=r.minX*l),{startAngle:a+=o,endAngle:i+=o}}function pw(t,e,n){var r={};return t.delay&&(r.delay=sw.isFunction(t.delay)?t.delay(e,n):t.delay),r.easing=sw.isFunction(t.easing)?t.easing(e,n):t.easing,r.duration=sw.isFunction(t.duration)?t.duration(e,n):t.duration,r.callback=t.callback,r}function dw(t,e){var n=t._id,r=t.get("index"),i=t.getBBox(),a=t.get("origin").points,o=(i.minX+i.maxX)/2,s,l=[o,s=a[0].y-a[1].y<=0?i.maxY:i.minY,1];t.apply(l),t.attr("transform",[["t",-o,-s],["s",1,.01],["t",o,s]]);var u={transform:[["t",-o,-s],["s",1,100],["t",o,s]]},c=pw(e,r,n);t.animate(u,c.duration,c.easing,c.callback,c.delay)}function gw(t,e){var n=t._id,r=t.get("index"),i=t.getBBox(),a=t.get("origin").points,o,s=(i.minY+i.maxY)/2,l=[o=a[0].y-a[1].y>0?i.maxX:i.minX,s,1];t.apply(l),t.attr({transform:[["t",-o,-s],["s",.01,1],["t",o,s]]});var u={transform:[["t",-o,-s],["s",100,1],["t",o,s]]},c=pw(e,r,n);t.animate(u,c.duration,c.easing,c.callback,c.delay)}function vw(t,e){var n={lineWidth:0,opacity:0},r=t._id,i,a=pw(e,t.get("index"),r);t.animate(n,a.duration,a.easing,(function(){t.remove()}),a.delay)}function mw(t,e,n){var r=t._id,i=t.get("index"),a,o;if(n.isPolar&&"point"!==t.name)a=n.getCenter().x,o=n.getCenter().y;else{var s=t.getBBox();a=(s.minX+s.maxX)/2,o=(s.minY+s.maxY)/2}var l=[a,o,1];t.apply(l),t.attr({transform:[["t",-a,-o],["s",.01,.01],["t",a,o]]});var u={transform:[["t",-a,-o],["s",100,100],["t",a,o]]},c=pw(e,i,r);t.animate(u,c.duration,c.easing,c.callback,c.delay)}function yw(t,e,n){var r=t._id,i=t.get("index"),a,o;if(n.isPolar&&"point"!==t.name)a=n.getCenter().x,o=n.getCenter().y;else{var s=t.getBBox();a=(s.minX+s.maxX)/2,o=(s.minY+s.maxY)/2}var l=[a,o,1];t.apply(l);var u={transform:[["t",-a,-o],["s",.01,.01],["t",a,o]]},c=pw(e,i,r);t.animate(u,c.duration,c.easing,(function(){t.remove()}),c.delay)}function xw(t,e){if("path"===t.get("type")){var n=t._id,r=t.get("index"),i=uw.pathToAbsolute(t.attr("path"));t.attr("path",[i[0]]);var a={path:i},o=pw(e,r,n);t.animate(a,o.duration,o.easing,o.callback,o.delay)}}function _w(t,e){if("path"===t.get("type")){var n=t._id,r=t.get("index"),i,a={path:[uw.pathToAbsolute(t.attr("path"))[0]]},o=pw(e,r,n);t.animate(a,o.duration,o.easing,(function(){t.remove()}),o.delay)}}function bw(t,e,n,r,i){var a=cw(n),o=t.get("canvas"),s=t._id,l=t.get("index"),u;r?(a.attr("startAngle",r),a.attr("endAngle",r),u={endAngle:i}):u=a.endState,a.set("canvas",o),t.attr("clip",a),t.setSilent("animating",!0);var c=pw(e,l,s);a.animate(u,c.duration,c.easing,(function(){t&&!t.get("destroyed")&&(t.attr("clip",null),t.setSilent("cacheShape",null),t.setSilent("animating",!1),a.remove())}),c.delay)}function ww(t,e){var n=t._id,r=t.get("index"),i=sw.isNil(t.attr("fillOpacity"))?1:t.attr("fillOpacity"),a=sw.isNil(t.attr("strokeOpacity"))?1:t.attr("strokeOpacity");t.attr("fillOpacity",0),t.attr("strokeOpacity",0);var o={fillOpacity:i,strokeOpacity:a},s=pw(e,r,n);t.animate(o,s.duration,s.easing,s.callback,s.delay)}function Sw(t,e){var n=t._id,r,i={fillOpacity:0,strokeOpacity:0},a=pw(e,t.get("index"),n);t.animate(i,a.duration,a.easing,(function(){t.remove()}),a.delay)}function Mw(t,e,n){var r=fw(t,n),i=r.endAngle,a;bw(t,e,n,r.startAngle,i)}function Cw(t,e,n){if("line"===t.name){var r=t.get("canvas"),i=t.get("cacheShape"),a=t._id,o=t.get("index"),s=new lw.Rect({attrs:{x:n.start.x,y:n.end.y,width:n.getWidth(),height:n.getHeight()}});s.isClip=!0,s.set("canvas",r);var l=uw.pathToAbsolute(i.attrs.path),u=uw.pathToAbsolute(t.attr("path")),c=l[1][1]-l[0][1],h=l[l.length-1][1]+c,f=u[u.length-1][2],p=l.concat([["L",h,f]]),d=[0,0,1];t.apply(d),t.attr("clip",s),t.attr("path",p);var g={transform:[["t",-c,0]]},v=pw(e,o,a);t.animate(g,v.duration,v.easing,(function(){t&&!t.get("destroyed")&&(t.attr("path",u),t.attr({transform:[["t",c,0]]}),t.attr("clip",null),t.setSilent("cacheShape",null),s.remove())}),v.delay)}}function Aw(t,e,n){if("area"===t.name){var r=t.get("canvas"),i=t.get("cacheShape"),a=t._id,o=t.get("index"),s=new lw.Rect({attrs:{x:n.start.x,y:n.end.y,width:n.getWidth(),height:n.getHeight()}});s.isClip=!0,s.set("canvas",r);var l=uw.pathToAbsolute(i.attrs.path),u=uw.pathToAbsolute(t.attr("path")),c=l[1][1]-l[0][1],h=Math.floor(l.length/2),f=l[h-1][1]+c,p=u[h-1][2],d=[].concat(l.slice(0,h),[["L",f,p],["L",f,u[h][2]]],l.slice(h)),g=[0,0,1];t.apply(g),t.attr("clip",s),t.attr("path",d);var v={transform:[["t",-c,0]]},m=pw(e,o,a);t.animate(v,m.duration,m.easing,(function(){t&&!t.get("destroyed")&&(t.attr("path",u),t.attr({transform:[["t",c,0]]}),t.attr("clip",null),t.setSilent("cacheShape",null),s.remove())}),m.delay)}}var Pw,kw=ow,Tw={enter:{clipIn:bw,zoomIn:mw,pathIn:xw,scaleInY:dw,scaleInX:gw,fanIn:Mw,fadeIn:ww},leave:{lineWidthOut:vw,zoomOut:yw,pathOut:_w,fadeOut:Sw},appear:{clipIn:bw,zoomIn:mw,pathIn:xw,scaleInY:dw,scaleInX:gw,fanIn:Mw,fadeIn:ww},update:{fadeIn:ww,fanIn:Mw,lineSlideLeft:Cw,areaSlideLeft:Aw}},Iw={appear:{duration:450,easing:"easeQuadOut"},update:{duration:450,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut",delay:100},leave:{duration:350,easing:"easeQuadIn"}},Ew={line:{appear:function t(){return Tw.appear.clipIn},enter:function t(){return Tw.enter.clipIn},leave:function t(){return Tw.leave.lineWidthOut}},path:{appear:function t(){return Tw.appear.clipIn},enter:function t(){return Tw.enter.clipIn},leave:function t(){return Tw.leave.lineWidthOut}},area:{appear:function t(){return Tw.appear.clipIn},enter:function t(){return Tw.enter.fadeIn},leave:function t(){return Tw.leave.fadeOut},cfg:{appear:{duration:500,easing:"easeQuadOut"},update:{duration:450,easing:"easeQuadInOut"},enter:{duration:600,delay:150,easing:"easeQuadInOut"},leave:{easing:"easeQuadOut",duration:350}}},polygon:{appear:function t(){return Tw.appear.zoomIn},enter:function t(){return Tw.enter.zoomIn},leave:function t(){return Tw.leave.zoomOut}},edge:{appear:function t(){return Tw.appear.pathIn},enter:function t(){return Tw.enter.pathIn},leave:function t(){return Tw.leave.pathOut}},interval:{appear:function t(e){var n;return e.isPolar?(n=Tw.appear.zoomIn,(e.isTransposed||"theta"===e.type)&&(n=Tw.appear.fanIn)):n=e.isRect?e.isTransposed?Tw.appear.scaleInX:Tw.appear.scaleInY:Tw.appear.zoomIn,n},enter:function t(e){return e.isRect||e.isTransposed||"theta"===e.type?Tw.enter.fadeIn:Tw.enter.zoomIn},leave:function t(){return Tw.leave.fadeOut},update:function t(e){if("theta"===e.type)return Tw.update.fanIn}},point:{appear:function t(){return Tw.appear.zoomIn},enter:function t(){return Tw.enter.zoomIn},leave:function t(){return Tw.leave.zoomOut}},schema:{appear:function t(){return Tw.appear.clipIn},enter:function t(){return Tw.enter.clipIn},leave:function t(){return Tw.leave.lineWidthOut}},contour:null,heatmap:null,label:{appear:function t(){return Tw.appear.fadeIn},enter:function t(){return Tw.enter.fadeIn},leave:function t(){return Tw.leave.fadeOut},cfg:{appear:{duration:900}}},"axis-label":{enter:function t(){return Tw.appear.fadeIn},leave:function t(){return Tw.leave.fadeOut},update:function t(e){if(e.isPolar)return Tw.appear.fadeIn}},"axis-ticks":{enter:function t(){return Tw.appear.fadeIn},leave:function t(){return Tw.leave.fadeOut},update:function t(e){if(e.isPolar)return Tw.appear.fadeIn}},"axis-grid":{enter:function t(){return Tw.appear.fadeIn},leave:function t(){return Tw.leave.fadeOut},update:function t(e){if(e.isPolar)return Tw.appear.fadeIn}},"axis-grid-rect":{enter:function t(){return Tw.appear.fadeIn},leave:function t(){return Tw.leave.fadeOut},update:function t(){return Tw.leave.fadeIn}},labelLine:{appear:function t(){return Tw.appear.pathIn},enter:function t(){return Tw.enter.pathIn},leave:function t(){return Tw.leave.pathOut}}};Ew.Action=Tw,Ew.defaultCfg=Iw,Ew.getAnimation=function(t,e,n){var r=this[t];if(r){var i=r[n];if(kw.isFunction(i))return i(e)}return!1},Ew.getAnimateCfg=function(t,e){var n=Iw[e];return this[t]&&this[t].cfg&&this[t].cfg[e]?kw.deepMix({},n,this[t].cfg[e]):n},Ew.registerAnimation=function(t,e,n){this.Action[t]||(this.Action[t]={}),this.Action[t][e]=n};var Ow=Ew,Lw={exports:{}};function Dw(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Fw(t,e)}function Fw(t,e){return(Fw=Object.setPrototypeOf||function t(e,n){return e.__proto__=n,e})(t,e)}
/*!
 * EventEmitter v5.1.0 - git.io/ee
 * Unlicense - http://unlicense.org/
 * Oliver Caldwell - http://oli.me.uk/
 * @preserve
 */
!function(t){!function(e){function n(){}var r=n.prototype,i=e.EventEmitter;function a(t,e){for(var n=t.length;n--;)if(t[n].listener===e)return n;return-1}function o(t){return function e(){return this[t].apply(this,arguments)}}function s(t){return"function"==typeof t||t instanceof RegExp||!(!t||"object"!=typeof t)&&s(t.listener)}r.getListeners=function t(e){var n=this._getEvents(),r,i;if(e instanceof RegExp)for(i in r={},n)n.hasOwnProperty(i)&&e.test(i)&&(r[i]=n[i]);else r=n[e]||(n[e]=[]);return r},r.flattenListeners=function t(e){var n=[],r;for(r=0;r<e.length;r+=1)n.push(e[r].listener);return n},r.getListenersAsObject=function t(e){var n=this.getListeners(e),r;return n instanceof Array&&((r={})[e]=n),r||n},r.addListener=function t(e,n){if(!s(n))throw new TypeError("listener must be a function");var r=this.getListenersAsObject(e),i="object"==typeof n,o;for(o in r)r.hasOwnProperty(o)&&-1===a(r[o],n)&&r[o].push(i?n:{listener:n,once:!1});return this},r.on=o("addListener"),r.addOnceListener=function t(e,n){return this.addListener(e,{listener:n,once:!0})},r.once=o("addOnceListener"),r.defineEvent=function t(e){return this.getListeners(e),this},r.defineEvents=function t(e){for(var n=0;n<e.length;n+=1)this.defineEvent(e[n]);return this},r.removeListener=function t(e,n){var r=this.getListenersAsObject(e),i,o;for(o in r)r.hasOwnProperty(o)&&-1!==(i=a(r[o],n))&&r[o].splice(i,1);return this},r.off=o("removeListener"),r.addListeners=function t(e,n){return this.manipulateListeners(!1,e,n)},r.removeListeners=function t(e,n){return this.manipulateListeners(!0,e,n)},r.manipulateListeners=function t(e,n,r){var i,a,o=e?this.removeListener:this.addListener,s=e?this.removeListeners:this.addListeners;if("object"!=typeof n||n instanceof RegExp)for(i=r.length;i--;)o.call(this,n,r[i]);else for(i in n)n.hasOwnProperty(i)&&(a=n[i])&&("function"==typeof a?o.call(this,i,a):s.call(this,i,a));return this},r.removeEvent=function t(e){var n=typeof e,r=this._getEvents(),i;if("string"===n)delete r[e];else if(e instanceof RegExp)for(i in r)r.hasOwnProperty(i)&&e.test(i)&&delete r[i];else delete this._events;return this},r.removeAllListeners=o("removeEvent"),r.emitEvent=function t(e,n){var r=this.getListenersAsObject(e),i,a,o,s,l;for(s in r)if(r.hasOwnProperty(s))for(i=r[s].slice(0),o=0;o<i.length;o++)!0===(a=i[o]).once&&this.removeListener(e,a.listener),(l=a.listener.apply(this,n||[]))===this._getOnceReturnValue()&&this.removeListener(e,a.listener);return this},r.trigger=o("emitEvent"),r.emit=function t(e){var n=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,n)},r.setOnceReturnValue=function t(e){return this._onceReturnValue=e,this},r._getOnceReturnValue=function t(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},r._getEvents=function t(){return this._events||(this._events={})},n.noConflict=function t(){return e.EventEmitter=i,n},t.exports?t.exports=n:e.EventEmitter=n}(o||{})}(Lw);var Bw,Rw=ow,Nw,jw=function(t){Dw(n,t);var e=n.prototype;function n(e){var n,r={visible:!0},i=(n=t.call(this)||this).getDefaultCfg();return n._attrs=r,Rw.assign(r,i,e),n}return e.getDefaultCfg=function t(){return{}},e.get=function t(e){return this._attrs[e]},e.set=function t(e,n){this._attrs[e]=n},e.show=function t(){var e;this.get("visible")||(this.set("visible",!0),this.changeVisible(!0))},e.hide=function t(){var e;this.get("visible")&&(this.set("visible",!1),this.changeVisible(!1))},e.changeVisible=function t(){},e.destroy=function t(){this._attrs={},this.removeAllListeners(),this.destroyed=!0},n}(Lw.exports),zw=qt,Yw=J,Gw=D,Xw=X,Vw=nt;function Hw(t,e){return zw(e)?e:t.invert(t.scale(e))}var Ww=function(){function t(t){var e=this;this.type="base",this.name=null,this.method=null,this.values=[],this.scales=[],this.linear=null;var n=null,r=this.callback;if(t.callback){var i=t.callback;n=function t(){for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];var s=i.apply(void 0,a);return Gw(s)&&(s=r.apply(e,a)),s}}Xw(this,t),n&&Xw(this,{callback:n})}var e=t.prototype;return e._getAttrValue=function t(e,n){var r=this.values,i;if(e.isCategory&&!this.linear)return r[e.translate(n)%r.length];var a=e.scale(n);return this.getLinearValue(a)},e.getLinearValue=function t(e){var n=this.values,r=n.length-1,i=Math.floor(r*e),a=r*e-i,o=n[i],s,l;return o+((i===r?o:n[i+1])-o)*a},e.callback=function t(e){var n=this,r=n.scales[0],i=null;return i="identity"===r.type?r.value:n._getAttrValue(r,e)},e.getNames=function t(){for(var e=this.scales,n=this.names,r=Math.min(e.length,n.length),i=[],a=0;a<r;a++)i.push(n[a]);return i},e.getFields=function t(){var e=this.scales,n=[];return Vw(e,(function(t){n.push(t.field)})),n},e.getScale=function t(e){var n,r,i;return this.scales[this.names.indexOf(e)]},e.mapping=function t(){for(var e=this.scales,n=this.callback,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var o=i;if(n){for(var s=0,l=i.length;s<l;s++)i[s]=this._toOriginParam(i[s],e[s]);o=n.apply(this,i)}return o=[].concat(o)},e._toOriginParam=function t(e,n){var r=e;if(!n.isLinear)if(Yw(e)){r=[];for(var i=0,a=e.length;i<a;i++)r.push(Hw(n,e[i]))}else r=Hw(n,e);return r},t}(),qw=Ww;function Uw(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var Zw=D,Qw=J,$w=nt,Jw,Kw=function(t){function e(e){var n;return(n=t.call(this,e)||this).names=["x","y"],n.type="position",n}var n;return Uw(e,t),e.prototype.mapping=function t(e,n){var r=this.scales,i=this.coord,a=r[0],o=r[1],s,l,u;if(Zw(e)||Zw(n))return[];if(Qw(n)&&Qw(e)){s=[],l=[];for(var c=0,h=0,f=e.length,p=n.length;c<f&&h<p;c++,h++)u=i.convertPoint({x:a.scale(e[c]),y:o.scale(n[h])}),s.push(u.x),l.push(u.y)}else if(Qw(n))e=a.scale(e),l=[],$w(n,(function(t){t=o.scale(t),u=i.convertPoint({x:e,y:t}),s&&s!==u.x?(Qw(s)||(s=[s]),s.push(u.x)):s=u.x,l.push(u.y)}));else if(Qw(e))n=o.scale(n),s=[],$w(e,(function(t){t=a.scale(t),u=i.convertPoint({x:t,y:n}),l&&l!==u.y?(Qw(l)||(l=[l]),l.push(u.y)):l=u.y,s.push(u.x)}));else{e=a.scale(e),n=o.scale(n);var d=i.convertPoint({x:e,y:n});s=d.x,l=d.y}return[s,l]},e}(qw),tS,eS=ht,nS=qt,rS=nt,iS=/rgba?\(([\s.,0-9]+)\)/;function aS(){var t=document.createElement("i");return t.title="Web Colour Picker",t.style.display="none",document.body.appendChild(t),t}function oS(t,e,n,r){var i;return t[r]+(e[r]-t[r])*n}function sS(t){return"#"+lS(t[0])+lS(t[1])+lS(t[2])}function lS(t){return 1===(t=(t=Math.round(t)).toString(16)).length&&(t="0"+t),t}function uS(t,e){(isNaN(e)||!eS(e)||e<0)&&(e=0),e>1&&(e=1);var n=t.length-1,r=Math.floor(n*e),i=n*e-r,a=t[r],o=r===n?a:t[r+1],s;return sS([oS(a,o,i,0),oS(a,o,i,1),oS(a,o,i,2)])}function cS(t){var e=[];return e.push(parseInt(t.substr(1,2),16)),e.push(parseInt(t.substr(3,2),16)),e.push(parseInt(t.substr(5,2),16)),e}var hS={},fS=null,pS={toRGB:function t(e){if("#"===e[0]&&7===e.length)return e;var n,r,i;(fS||(fS=aS()),hS[e])?n=hS[e]:(fS.style.color=e,n=document.defaultView.getComputedStyle(fS,"").getPropertyValue("color"),n=sS(iS.exec(n)[1].split(/\s*,\s*/)),hS[e]=n);return n},rgb2arr:cS,gradient:function t(e){var n=[];return nS(e)&&(e=e.split("-")),rS(e,(function(t){-1===t.indexOf("#")&&(t=pS.toRGB(t)),n.push(cS(t))})),function(t){return uS(n,t)}}},dS=pS;function gS(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var vS=qt,mS=dS,yS,xS,_S,bS,wS,SS,MS,CS,AS;function PS(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function kS(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function TS(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var IS,ES,OS,LS={Position:Kw,Color:function(t){function e(e){var n;return(n=t.call(this,e)||this).names=["color"],n.type="color",n.gradient=null,vS(n.values)&&(n.linear=!0),n}var n;return gS(e,t),e.prototype.getLinearValue=function t(e){var n=this.gradient;if(!n){var r=this.values;n=mS.gradient(r),this.gradient=n}return n(e)},e}(qw),Shape:function(t){function e(e){var n;return(n=t.call(this,e)||this).names=["shape"],n.type="shape",n.gradient=null,n}var n;return PS(e,t),e.prototype.getLinearValue=function t(e){var n=this.values,r;return n[Math.round((n.length-1)*e)]},e}(qw),Size:function(t){function e(e){var n;return(n=t.call(this,e)||this).names=["size"],n.type="size",n.gradient=null,n}return kS(e,t),e}(qw),Opacity:function(t){function e(e){var n;return(n=t.call(this,e)||this).names=["opacity"],n.type="opacity",n.gradient=null,n}return TS(e,t),e}(qw),ColorUtil:dS},DS=X,FS,BS=function(){var t=e.prototype;function e(t){this._initDefaultCfg(),DS(this,t)}return t._initDefaultCfg=function t(){this.adjustNames=["x","y"]},t.processAdjust=function t(){},e}();function RS(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var NS=BS,jS=nt,zS=.5,YS=.5,GS=function(t){function e(){return t.apply(this,arguments)||this}RS(e,t);var n=e.prototype;return n._initDefaultCfg=function t(){this.marginRatio=.5,this.dodgeRatio=.5,this.adjustNames=["x","y"]},n.getDodgeOffset=function t(e,n,r){var i=this,a=e.pre,o=e.next,s=o-a,l=s*i.dodgeRatio/r,u=i.marginRatio*l,c;return(a+o)/2+(.5*(s-r*l-(r-1)*u)+((n+1)*l+n*u)-.5*l-.5*s)},n.processAdjust=function t(e){var n=this,r=e.length,i=n.xField;jS(e,(function(t,e){for(var a=0,o=t.length;a<o;a++){var s=t[a],l=s[i],u={pre:1===o?l-1:l-.5,next:1===o?l+1:l+.5},c=n.getDodgeOffset(u,e,r);s[i]=c}}))},e}(NS);NS.Dodge=GS;var XS=GS;function VS(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var HS=J,WS=D,qS=BS,US=function(t){function e(){return t.apply(this,arguments)||this}VS(e,t);var n=e.prototype;return n._initDefaultCfg=function t(){this.xField=null,this.yField=null},n.processAdjust=function t(e){this.processStack(e)},n.processStack=function t(e){var n=this,r=n.xField,i=n.yField,a=e.length,o={positive:{},negative:{}};n.reverseOrder&&(e=e.slice(0).reverse());for(var s=0;s<a;s++)for(var l=e[s],u=0,c=l.length;u<c;u++){var h=l[u],f=h[r]||0,p=h[i],d=f.toString();if(p=HS(p)?p[1]:p,!WS(p)){var g=p>=0?"positive":"negative";o[g][d]||(o[g][d]=0),h[i]=[o[g][d],p+o[g][d]],o[g][d]+=p}}},e}(qS);qS.Stack=US;var ZS=US,QS=0,$S=nt,JS=ky,KS={isAdjust:function t(e){return this.adjustNames.indexOf(e)>=0},_getDimValues:function t(e){var n=this,r={},i=[];if(n.xField&&n.isAdjust("x")&&i.push(n.xField),n.yField&&n.isAdjust("y")&&i.push(n.yField),$S(i,(function(t){var n=JS(e,t);n.sort((function(t,e){return t-e})),r[t]=n})),!n.yField&&n.isAdjust("y")){var a="y",o=[0,1];r.y=o}return r},adjustData:function t(e,n){var r=this,i=r._getDimValues(n);$S(e,(function(t,n){$S(i,(function(i,a){r.adjustDim(a,i,t,e.length,n)}))}))},getAdjustRange:function t(e,n,r){var i=this,a=r.indexOf(n),o=r.length,s,l;return!i.yField&&i.isAdjust("y")?(s=0,l=1):o>1?(s=0===a?r[0]:r[a-1],l=a===o-1?r[o-1]:r[a+1],0!==a?s+=(n-s)/2:s-=(l-n)/2,a!==o-1?l-=(l-n)/2:l+=(n-r[o-2])/2):(s=0===n?0:n-.5,l=0===n?1:n+.5),{pre:s,next:l}},groupData:function t(e,n){var r={};return $S(e,(function(t){var e=t[n];void 0===e&&(e=t[n]=0),r[e]||(r[e]=[]),r[e].push(t)})),r}},tM={merge:$m,values:ky},eM=Mb,nM=nt,rM={processAdjust:function t(e){var n=this,r=tM.merge(e),i=n.dodgeBy,a=e;i&&(a=eM(r,i)),n.cacheMap={},n.adjDataArray=a,n.mergeData=r,n.adjustData(a,r),n.adjDataArray=null,n.mergeData=null},getDistribution:function t(e){var n=this,r=n.adjDataArray,i=n.cacheMap,a=i[e];return a||(a={},nM(r,(function(t,n){var r=tM.values(t,e);r.length||r.push(0),nM(r,(function(t){a[t]||(a[t]=[]),a[t].push(n)}))})),i[e]=a),a},adjustDim:function t(e,n,r,i,a){var o=this,s=o.getDistribution(e),l=o.groupData(r,e);nM(l,(function(t,r){var i;r=parseFloat(r),i=1===n.length?{pre:n[0]-1,next:n[0]+1}:o.getAdjustRange(e,r,n),nM(t,(function(t){var n=t[e],r=s[n],l=r.indexOf(a);t[e]=o.getDodgeOffset(i,l,r.length)}))}))}},iM={_initDefaultCfg:function t(){this.xField=null,this.yField=null,this.height=null,this.size=10,this.reverseOrder=!1,this.adjustNames=["y"]},processOneDimStack:function t(e){var n=this,r=n.xField,i=n.yField||"y",a=n.height,o={};n.reverseOrder&&(e=e.slice(0).reverse());for(var s=0,l=e.length;s<l;s++)for(var u=e[s],c=0,h=u.length;c<h;c++){var f=u[c],p,d=2*(f.size||n.size)/a,g=f[r];o[g]||(o[g]=d/2),f[i]=o[g],o[g]+=d}},processAdjust:function t(e){this.yField?this.processStack(e):this.processOneDimStack(e)}};function aM(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var oM=nt,sM=X,lM={merge:$m},uM=BS,cM=KS,hM=function(t){function e(){return t.apply(this,arguments)||this}aM(e,t);var n=e.prototype;return n._initDefaultCfg=function t(){this.xField=null,this.yField=null,this.adjustNames=["x","y"],this.groupFields=null},n.processAdjust=function t(e){var n=this,r=lM.merge(e);n.adjDataArray=e,n.mergeData=r,n.adjustData(e,r),n.adjFrames=null,n.mergeData=null},n.getAdjustOffset=function t(e,n){var r,i=n-e,a;return e+.05*i+.9*i*Math.random()},n._adjustGroup=function t(e,n,r,i){var a=this,o=a.getAdjustRange(n,r,i);oM(e,(function(t){t[n]=a.getAdjustOffset(o.pre,o.next)}))},n.adjustDim=function t(e,n,r){var i=this,a=i.groupData(r,e);oM(a,(function(t,r){r=parseFloat(r),i._adjustGroup(t,e,r,n)}))},e}(uM);sM(hM.prototype,cM),uM.Jitter=hM;var fM=hM;function pM(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var dM=nt,gM=mx,vM=J,mM={merge:$m},yM=BS,xM=function(t){function e(){return t.apply(this,arguments)||this}pM(e,t);var n=e.prototype;return n._initDefaultCfg=function t(){this.xField=null,this.yField=null,this.cacheMax=null,this.adjustNames=["y"],this.groupFields=null},n._getMax=function t(e){var n,r=this.mergeData,i,a=gM(r,(function(t){var n=t[e];return vM(n)?Math.max.apply(null,n):n}))[e],o;return vM(a)?Math.max.apply(null,a):a},n._getXValuesMax=function t(){var e=this,n=e.yField,r=e.xField,i={},a=e.mergeData;return dM(a,(function(t){var e=t[r],a=t[n],o=vM(a)?Math.max.apply(null,a):a;i[e]=i[e]||0,i[e]<o&&(i[e]=o)})),i},n.processAdjust=function t(e){var n=this,r=mM.merge(e);n.mergeData=r,n._processSymmetric(e),n.mergeData=null},n._processSymmetric=function t(e){var n=this,r=n.xField,i=n.yField,a=n._getMax(i),o=e[0][0],s;o&&vM(o[i])&&(s=n._getXValuesMax()),dM(e,(function(t){dM(t,(function(t){var e=t[i],n;if(vM(e)){var o=t[r],l=s[o];n=(a-l)/2;var u=[];dM(e,(function(t){u.push(n+t)})),t[i]=u}else n=(a-e)/2,t[i]=[n,e+n]}))}))},e}(yM);yM.Symmetric=xM;var _M=xM,bM=X,wM=BS,SM=XS,MM=ZS,CM=KS,AM=rM,PM=iM;bM(wM.prototype,CM),bM(SM.prototype,CM,AM),bM(MM.prototype,PM),wM.Jitter=fM,wM.Symmetric=_M,wM.Dodge=SM,wM.Stack=MM;var kM=wM,TM,IM,EM="#1890FF",OM,LM,DM,FM,BM,RM='BlinkMacSystemFont, "Segoe UI", Roboto,"Helvetica Neue", Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei",SimSun, "sans-serif"',NM="g2-tooltip",jM="g2-tooltip-title",zM="g2-tooltip-list",YM="g2-tooltip-list-item",GM="g2-tooltip-marker",XM="g2-tooltip-value",VM="g2-legend",HM="g2-legend-title",WM="g2-legend-list",qM="g2-legend-list-item",UM="g2-legend-marker",ZM={defaultColor:"#1890FF",plotCfg:{padding:[20,20,95,80]},fontFamily:RM,defaultLegendPosition:"bottom",colors:["#1890FF","#2FC25B","#FACC14","#223273","#8543E0","#13C2C2","#3436C7","#F04864"],colors_16:["#1890FF","#41D9C7","#2FC25B","#FACC14","#E6965C","#223273","#7564CC","#8543E0","#5C8EE6","#13C2C2","#5CA3E6","#3436C7","#B381E6","#F04864","#D598D9"],colors_24:["#1890FF","#66B5FF","#41D9C7","#2FC25B","#6EDB8F","#9AE65C","#FACC14","#E6965C","#57AD71","#223273","#738AE6","#7564CC","#8543E0","#A877ED","#5C8EE6","#13C2C2","#70E0E0","#5CA3E6","#3436C7","#8082FF","#DD81E6","#F04864","#FA7D92","#D598D9"],colors_pie:["#1890FF","#13C2C2","#2FC25B","#FACC14","#F04864","#8543E0","#3436C7","#223273"],colors_pie_16:["#1890FF","#73C9E6","#13C2C2","#6CD9B3","#2FC25B","#9DD96C","#FACC14","#E6965C","#F04864","#D66BCA","#8543E0","#8E77ED","#3436C7","#737EE6","#223273","#7EA2E6"],shapes:{point:["hollowCircle","hollowSquare","hollowDiamond","hollowBowtie","hollowTriangle","hollowHexagon","cross","tick","plus","hyphen","line"],line:["line","dash","dot"],area:["area"]},sizes:[1,10],opacities:[.1,.9],axis:{top:{position:"top",title:null,label:{offset:16,textStyle:{fill:"#545454",fontSize:12,lineHeight:16,textBaseline:"middle",fontFamily:RM},autoRotate:!0},line:{lineWidth:1,stroke:"#BFBFBF"},tickLine:{lineWidth:1,stroke:"#BFBFBF",length:4,alignWithLabel:!0}},bottom:{position:"bottom",title:null,label:{offset:16,autoRotate:!0,textStyle:{fill:"#545454",fontSize:12,lineHeight:16,textBaseline:"middle",fontFamily:RM}},line:{lineWidth:1,stroke:"#BFBFBF"},tickLine:{lineWidth:1,stroke:"#BFBFBF",length:4,alignWithLabel:!0}},left:{position:"left",title:null,label:{offset:8,autoRotate:!0,textStyle:{fill:"#545454",fontSize:12,lineHeight:16,textBaseline:"middle",fontFamily:RM}},line:null,tickLine:null,grid:{zIndex:-1,lineStyle:{stroke:"#E9E9E9",lineWidth:1,lineDash:[3,3]},hideFirstLine:!0}},right:{position:"right",title:null,label:{offset:8,autoRotate:!0,textStyle:{fill:"#545454",fontSize:12,lineHeight:16,textBaseline:"middle",fontFamily:RM}},line:null,tickLine:null,grid:{lineStyle:{stroke:"#E9E9E9",lineWidth:1,lineDash:[3,3]},hideFirstLine:!0}},circle:{zIndex:1,title:null,label:{offset:8,textStyle:{fill:"#545454",fontSize:12,lineHeight:16,fontFamily:RM}},line:{lineWidth:1,stroke:"#BFBFBF"},tickLine:{lineWidth:1,stroke:"#BFBFBF",length:4,alignWithLabel:!0},grid:{lineStyle:{stroke:"#E9E9E9",lineWidth:1,lineDash:[3,3]},hideFirstLine:!0}},radius:{zIndex:0,label:{offset:12,textStyle:{fill:"#545454",fontSize:12,textBaseline:"middle",lineHeight:16,fontFamily:RM}},line:{lineWidth:1,stroke:"#BFBFBF"},tickLine:{lineWidth:1,stroke:"#BFBFBF",length:4,alignWithLabel:!0},grid:{lineStyle:{stroke:"#E9E9E9",lineWidth:1,lineDash:[3,3]},type:"circle"}},helix:{grid:null,label:null,title:null,line:{lineWidth:1,stroke:"#BFBFBF"},tickLine:{lineWidth:1,length:4,stroke:"#BFBFBF",alignWithLabel:!0}}},label:{offset:20,textStyle:{fill:"#545454",fontSize:12,textBaseline:"middle",fontFamily:RM}},treemapLabels:{offset:10,textStyle:{fill:"#fff",fontSize:12,textBaseline:"top",fontStyle:"bold",fontFamily:RM}},innerLabels:{textStyle:{fill:"#fff",fontSize:12,textBaseline:"middle",fontFamily:RM}},thetaLabels:{labelHeight:14,offset:30},legend:{right:{position:"right",layout:"vertical",itemMarginBottom:8,width:16,height:156,title:null,legendStyle:{LIST_CLASS:{textAlign:"left"}},textStyle:{fill:"#8C8C8C",fontSize:12,textAlign:"start",textBaseline:"middle",lineHeight:0,fontFamily:RM},unCheckColor:"#bfbfbf"},left:{position:"left",layout:"vertical",itemMarginBottom:8,width:16,height:156,title:null,textStyle:{fill:"#8C8C8C",fontSize:12,textAlign:"start",textBaseline:"middle",lineHeight:20,fontFamily:RM},unCheckColor:"#bfbfbf"},top:{position:"top",offset:[0,6],layout:"horizontal",title:null,itemGap:10,width:156,height:16,textStyle:{fill:"#8C8C8C",fontSize:12,textAlign:"start",textBaseline:"middle",lineHeight:20,fontFamily:RM},unCheckColor:"#bfbfbf"},bottom:{position:"bottom",offset:[0,6],layout:"horizontal",title:null,itemGap:10,width:156,height:16,textStyle:{fill:"#8C8C8C",fontSize:12,textAlign:"start",textBaseline:"middle",lineHeight:20,fontFamily:RM},unCheckColor:"#bfbfbf"},html:(TM={},TM["g2-legend"]={height:"auto",width:"auto",position:"absolute",overflow:"auto",fontSize:"12px",fontFamily:RM,lineHeight:"20px",color:"#8C8C8C"},TM["g2-legend-title"]={marginBottom:"4px"},TM["g2-legend-list"]={listStyleType:"none",margin:0,padding:0},TM["g2-legend-list-item"]={listStyleType:"none",cursor:"pointer",marginBottom:"5px",marginRight:"24px"},TM["g2-legend-marker"]={width:"9px",height:"9px",borderRadius:"50%",display:"inline-block",marginRight:"8px",verticalAlign:"middle"},TM),gradient:{textStyle:{fill:"#8C8C8C",fontSize:12,textAlign:"center",textBaseline:"middle",lineHeight:20,fontFamily:RM},lineStyle:{lineWidth:1,stroke:"#fff"},unCheckColor:"#bfbfbf"},margin:[0,5,24,5],legendMargin:24},tooltip:(IM={useHtml:!0,crosshairs:!1,offset:15,marker:{symbol:"circle",activeSymbol:"circle"}},IM["g2-tooltip"]={position:"absolute",visibility:"hidden",zIndex:8,transition:"visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)",backgroundColor:"rgba(255, 255, 255, 0.9)",boxShadow:"0px 0px 10px #aeaeae",borderRadius:"3px",color:"rgb(87, 87, 87)",fontSize:"12px",fontFamily:RM,lineHeight:"20px",padding:"10px 10px 6px 10px"},IM["g2-tooltip-title"]={marginBottom:"4px"},IM["g2-tooltip-list"]={margin:0,listStyleType:"none",padding:0},IM["g2-tooltip-list-item"]={listStyleType:"none",marginBottom:"4px",padding:0,marginTop:0,marginLeft:0,marginRight:0},IM["g2-tooltip-marker"]={width:"5px",height:"5px",display:"inline-block",marginRight:"8px"},IM["g2-tooltip-value"]={display:"inline-block",float:"right",marginLeft:"30px"},IM),tooltipMarker:{symbol:function t(e,n,r){return[["M",e,n],["m",-r,0],["a",r,r,0,1,0,2*r,0],["a",r,r,0,1,0,2*-r,0]]},stroke:"#fff",shadowBlur:10,shadowOffsetX:0,shadowOffSetY:0,shadowColor:"rgba(0,0,0,0.09)",lineWidth:2,radius:4},tooltipCrosshairsRect:{type:"rect",rectStyle:{fill:"#CCD6EC",opacity:.3}},tooltipCrosshairsLine:{lineStyle:{stroke:"rgba(0, 0, 0, 0.25)",lineWidth:1}},shape:{point:{lineWidth:1,fill:"#1890FF",radius:4},hollowPoint:{fill:"#fff",lineWidth:1,stroke:"#1890FF",radius:3},interval:{lineWidth:0,fill:"#1890FF",fillOpacity:.85},hollowInterval:{fill:"#fff",stroke:"#1890FF",fillOpacity:0,lineWidth:2},area:{lineWidth:0,fill:"#1890FF",fillOpacity:.6},polygon:{lineWidth:0,fill:"#1890FF",fillOpacity:1},hollowPolygon:{fill:"#fff",stroke:"#1890FF",fillOpacity:0,lineWidth:2},hollowArea:{fill:"#fff",stroke:"#1890FF",fillOpacity:0,lineWidth:2},line:{stroke:"#1890FF",lineWidth:2,fill:null},edge:{stroke:"#1890FF",lineWidth:1,fill:null},schema:{stroke:"#1890FF",lineWidth:1,fill:null}},guide:{line:{lineStyle:{stroke:"rgba(0, 0, 0, .65)",lineDash:[2,2],lineWidth:1},text:{position:"start",autoRotate:!0,style:{fill:"rgba(0, 0, 0, .45)",fontSize:12,textAlign:"start",fontFamily:RM,textBaseline:"bottom"}}},text:{style:{fill:"rgba(0,0,0,.5)",fontSize:12,textBaseline:"middle",textAlign:"start",fontFamily:RM}},region:{style:{lineWidth:0,fill:"#000",fillOpacity:.04}},html:{alignX:"middle",alignY:"middle"},dataRegion:{style:{region:{lineWidth:0,fill:"#000000",opacity:.04},text:{textAlign:"center",textBaseline:"bottom",fontSize:12,fill:"rgba(0, 0, 0, .65)"}}},dataMarker:{top:!0,style:{point:{r:3,fill:"#FFFFFF",stroke:"#1890FF",lineWidth:2},line:{stroke:"#A3B1BF",lineWidth:1},text:{fill:"rgba(0, 0, 0, .65)",opacity:1,fontSize:12,textAlign:"start"}},display:{point:!0,line:!0,text:!0},lineLength:20,direction:"upward",autoAdjust:!0}},pixelRatio:null},QM=ZM,$M,JM,KM,tC=ZM,eC="g2-tooltip",nC="g2-legend",rC,iC,aC,oC={default:ZM,dark:ow.deepMix({},tC,{background:{fill:"#1F1F1F",radius:2},plotBackground:{fill:"#1F1F1F"},axis:{top:{label:{textStyle:{fill:"#A6A6A6"}},line:{stroke:"#737373"},tickLine:{stroke:"#737373"}},bottom:{label:{textStyle:{fill:"#A6A6A6"}},line:{stroke:"#737373"},tickLine:{stroke:"#737373"}},left:{label:{textStyle:{fill:"#A6A6A6"}},grid:{lineStyle:{stroke:"#404040"}}},right:{label:{textStyle:{fill:"#A6A6A6"}},grid:{lineStyle:{stroke:"#404040"}}},circle:{label:{textStyle:{fill:"#A6A6A6"}},line:{stroke:"#737373"},tickLine:{stroke:"#737373"},grid:{lineStyle:{stroke:"#404040"}}},radius:{label:{textStyle:{fill:"#A6A6A6"}},line:{stroke:"#737373"},tickLine:{stroke:"#737373"},grid:{lineStyle:{stroke:"#404040"}}},helix:{line:{stroke:"#737373"},tickLine:{stroke:"#737373"}}},label:{textStyle:{fill:"#A6A6A6"}},legend:{right:{textStyle:{fill:"#737373"},unCheckColor:"#bfbfbf"},left:{textStyle:{fill:"#737373"},unCheckColor:"#bfbfbf"},top:{textStyle:{fill:"#737373"},unCheckColor:"#bfbfbf"},bottom:{textStyle:{fill:"#737373"},unCheckColor:"#bfbfbf"},html:($M={},$M["g2-legend"]={color:"#D9D9D9"},$M),gradient:{textStyle:{fill:"#D9D9D9"},lineStyle:{stroke:"#404040"}}},tooltip:(JM={},JM["g2-tooltip"]={color:"#D9D9D9",backgroundColor:"rgba(0, 0, 0, 0.5)",boxShadow:"0px 0px 2px #000"},JM),tooltipCrosshairsRect:{type:"rect",rectStyle:{fill:"#fff",opacity:.1}},tooltipCrosshairsLine:{lineStyle:{stroke:"rgba(255, 255, 255, 0.45)"}},guide:{line:{text:{style:{fill:"#A6A6A6"}}},text:{style:{fill:"#A6A6A6"}},region:{style:{lineWidth:0,fill:"#000",fillOpacity:.04}}}})},sC=ow,lC=oC,uC={version:"3.5.19",renderer:"canvas",trackingInfo:{},animate:!0,widthRatio:{column:.5,rose:.9999999,multiplePie:1/1.3},showSinglePoint:!1,connectNulls:!1,scales:{},registerTheme:function t(e,n){lC[e]=n},setTheme:function t(e){var n={};n=sC.isObject(e)?e:-1!==sC.indexOf(Object.keys(lC),e)?lC[e]:lC.default,sC.deepMix(uC,n)}};uC.setTheme("default");var cC=uC,hC={isFunction:Rn,isObject:W,isBoolean:zn,isNil:D,isString:qt,isArray:J,isNumber:ht,isEmpty:er,uniqueId:ir,clone:lr,deepMix:br,assign:X,merge:br,upperFirst:Mr,each:nt,isEqual:Tr,toArray:Or,extend:Br,augment:Yr,remove:qr,isNumberEqual:Zr,toRadian:Jr,toDegree:ei,mod:ri,clamp:ai,createDom:ci,modifyCSS:hi,requestAnimationFrame:fi,getRatio:function t(){return window.devicePixelRatio?window.devicePixelRatio:2},mat3:ta,vec2:Va,vec3:Bo,transform:zo},fC=hC,pC={};fC.merge(pC,fC,{mixin:function t(e,n){var r=e.CFG?"CFG":"ATTRS";if(e&&n){e._mixins=n,e[r]=e[r]||{};var i={};pC.each(n,(function(t){pC.augment(e,t);var n=t[r];n&&pC.merge(i,n)})),e[r]=pC.merge(i,e[r])}}});var dC=pC,gC=dC,vC=function t(e,n,r,i){this.type=e,this.target=null,this.currentTarget=null,this.bubbles=r,this.cancelable=i,this.timeStamp=(new Date).getTime(),this.defaultPrevented=!1,this.propagationStopped=!1,this.removed=!1,this.event=n};gC.augment(vC,{preventDefault:function t(){this.defaultPrevented=this.cancelable&&!0},stopPropagation:function t(){this.propagationStopped=!0},remove:function t(){this.remove=!0},clone:function t(){return gC.clone(this)},toString:function t(){return"[Event (type="+this.type+")]"}});var mC=vC,yC=dC,xC={canFill:!1,canStroke:!1,initAttrs:function t(e){return this._attrs={opacity:1,fillOpacity:1,strokeOpacity:1,matrix:[1,0,0,0,1,0,0,0,1]},this.attr(yC.assign(this.getDefaultAttrs(),e)),this},getDefaultAttrs:function t(){return{}},attr:function t(e,n){var r=this;if(0===arguments.length)return r._attrs;if(yC.isObject(e)){for(var i in e)this._setAttr(i,e[i]);return r.clearBBox(),this._cfg.hasUpdate=!0,r}return 2===arguments.length?(this._setAttr(e,n),r.clearBBox(),this._cfg.hasUpdate=!0,r):r._attrs[e]},_setAttr:function t(e,n){var r=this,i=this._attrs;i[e]=n,"fill"!==e&&"stroke"!==e?"opacity"!==e?"clip"===e&&n?r._setClip(n):"path"===e&&r._afterSetAttrPath?r._afterSetAttrPath(n):"transform"!==e?"rotate"===e&&r.rotateAtStart(n):r.transform(n):i.globalAlpha=n:i[e+"Style"]=n},clearBBox:function t(){this.setSilent("box",null)},hasFill:function t(){return this.canFill&&this._attrs.fillStyle},hasStroke:function t(){return this.canStroke&&this._attrs.strokeStyle},_setClip:function t(e){e._cfg.renderer=this._cfg.renderer,e._cfg.canvas=this._cfg.canvas,e._cfg.parent=this._cfg.parent,e.hasFill=function(){return!0}}},_C=dC;function bC(t){return 1===t[0]&&0===t[1]&&0===t[3]&&1===t[4]&&0===t[6]&&0===t[7]}function wC(t){return 0===t[1]&&0===t[3]&&0===t[6]&&0===t[7]}function SC(t,e){bC(e)||(wC(e)?(t[0]*=e[0],t[4]*=e[4]):_C.mat3.multiply(t,t,e))}var MC,CC=dC,AC={delay:"delay",rotate:"rotate"},PC={fill:"fill",stroke:"stroke",fillStyle:"fillStyle",strokeStyle:"strokeStyle"};function kC(t,e){var n={},r=e._attrs;for(var i in t.attrs)n[i]=r[i];return n}function TC(t,e){var n={matrix:null,attrs:{}},r=e._attrs;for(var i in t)if("transform"===i)n.matrix=CC.transform(e.getMatrix(),t[i]);else if("rotate"===i)n.matrix=CC.transform(e.getMatrix(),[["r",t[i]]]);else if("matrix"===i)n.matrix=t[i];else{if(PC[i]&&/^[r,R,L,l]{1}[\s]*\(/.test(t[i]))continue;AC[i]||r[i]===t[i]||(n.attrs[i]=t[i])}return n}function IC(t,e){var n=e.delay,r=Object.prototype.hasOwnProperty;return CC.each(e.toAttrs,(function(e,i){CC.each(t,(function(t){n<t.startTime+t.duration&&r.call(t.toAttrs,i)&&(delete t.toAttrs[i],delete t.fromAttrs[i])}))})),e.toMatrix&&CC.each(t,(function(t){n<t.startTime+t.duration&&t.toMatrix&&delete t.toMatrix})),t}var EC,OC=dC,LC=xC,DC={initTransform:function t(){},resetMatrix:function t(){this.attr("matrix",[1,0,0,0,1,0,0,0,1])},translate:function t(e,n){var r=this._attrs.matrix;return _C.mat3.translate(r,r,[e,n]),this.clearTotalMatrix(),this.attr("matrix",r),this},rotate:function t(e){var n=this._attrs.matrix;return _C.mat3.rotate(n,n,e),this.clearTotalMatrix(),this.attr("matrix",n),this},scale:function t(e,n){var r=this._attrs.matrix;return _C.mat3.scale(r,r,[e,n]),this.clearTotalMatrix(),this.attr("matrix",r),this},rotateAtStart:function t(e){var n=this._attrs.x||this._cfg.attrs.x,r=this._attrs.y||this._cfg.attrs.y;return Math.abs(e)>2*Math.PI&&(e=e/180*Math.PI),this.transform([["t",-n,-r],["r",e],["t",n,r]])},move:function t(e,n){var r=this.get("x")||0,i=this.get("y")||0;return this.translate(e-r,n-i),this.set("x",e),this.set("y",n),this},transform:function t(e){var n=this,r=this._attrs.matrix;return _C.each(e,(function(t){switch(t[0]){case"t":n.translate(t[1],t[2]);break;case"s":n.scale(t[1],t[2]);break;case"r":n.rotate(t[1]);break;case"m":n.attr("matrix",_C.mat3.multiply([],r,t[1])),n.clearTotalMatrix()}})),n},setTransform:function t(e){return this.attr("matrix",[1,0,0,0,1,0,0,0,1]),this.transform(e)},getMatrix:function t(){return this.attr("matrix")},setMatrix:function t(e){return this.attr("matrix",e),this.clearTotalMatrix(),this},apply:function t(e,n){var r;return r=n?this._getMatrixByRoot(n):this.attr("matrix"),_C.vec3.transformMat3(e,e,r),this},_getMatrixByRoot:function t(e){var n=this;e=e||n;for(var r=n,i=[];r!==e;)i.unshift(r),r=r.get("parent");i.unshift(r);var a=[1,0,0,0,1,0,0,0,1];return _C.each(i,(function(t){_C.mat3.multiply(a,t.attr("matrix"),a)})),a},getTotalMatrix:function t(){var e=this._cfg.totalMatrix;if(!e){e=[1,0,0,0,1,0,0,0,1];var n=this._cfg.parent,r;if(n)SC(e,n.getTotalMatrix());SC(e,this.attr("matrix")),this._cfg.totalMatrix=e}return e},clearTotalMatrix:function t(){},invert:function t(e){var n=this.getTotalMatrix();if(wC(n))e[0]/=n[0],e[1]/=n[4];else{var r=_C.mat3.invert([],n);r&&_C.vec3.transformMat3(e,e,r)}return this},resetTransform:function t(e){var n=this.attr("matrix");bC(n)||e.transform(n[0],n[1],n[3],n[4],n[6],n[7])}},FC={animate:function t(e,n,r,i,a){void 0===a&&(a=0);var o=this;o.set("animating",!0);var s=o.get("timeline");s||(s=o.get("canvas").get("timeline"),o.setSilent("timeline",s));var l=o.get("animators")||[];s._timer||s.initTimer(),CC.isNumber(i)&&(a=i,i=null),CC.isFunction(r)?(i=r,r="easeLinear"):r=r||"easeLinear";var u=TC(e,o),c={fromAttrs:kC(u,o),toAttrs:u.attrs,fromMatrix:CC.clone(o.getMatrix()),toMatrix:u.matrix,duration:n,easing:r,callback:i,delay:a,startTime:s.getTime(),id:CC.uniqueId()};l.length>0?l=IC(l,c):s.addAnimator(o),l.push(c),o.setSilent("animators",l),o.setSilent("pause",{isPaused:!1})},stopAnimate:function t(){var e=this,n=this.get("animators");CC.each(n,(function(t){e.attr(t.toAttrs),t.toMatrix&&e.attr("matrix",t.toMatrix),t.callback&&t.callback()})),this.setSilent("animating",!1),this.setSilent("animators",[])},pauseAnimate:function t(){var e=this,n=e.get("timeline");return e.setSilent("pause",{isPaused:!0,pauseTime:n.getTime()}),e},resumeAnimate:function t(){var e=this,n,r=e.get("timeline").getTime(),i=e.get("animators"),a=e.get("pause").pauseTime;return CC.each(i,(function(t){t.startTime=t.startTime+(r-a),t._paused=!1,t._pauseTime=null})),e.setSilent("pause",{isPaused:!1}),e.setSilent("animators",i),e}},BC=Lw.exports,RC=function t(e){this._cfg={zIndex:0,capture:!0,visible:!0,destroyed:!1},OC.assign(this._cfg,this.getDefaultCfg(),e),this.initAttrs(this._cfg.attrs),this._cfg.attrs={},this.initTransform(),this.init()};RC.CFG={id:null,zIndex:0,canvas:null,parent:null,capture:!0,context:null,visible:!0,destroyed:!1},OC.augment(RC,LC,DC,BC,FC,{init:function t(){this.setSilent("animable",!0),this.setSilent("animating",!1)},getParent:function t(){return this._cfg.parent},getDefaultCfg:function t(){return{}},set:function t(e,n){return"zIndex"===e&&this._beforeSetZIndex&&this._beforeSetZIndex(n),"loading"===e&&this._beforeSetLoading&&this._beforeSetLoading(n),this._cfg[e]=n,this},setSilent:function t(e,n){this._cfg[e]=n},get:function t(e){return this._cfg[e]},show:function t(){return this._cfg.visible=!0,this},hide:function t(){return this._cfg.visible=!1,this},remove:function t(e,n){var r=this._cfg,i=r.parent,a=r.el;return i&&OC.remove(i.get("children"),this),a&&(n?i&&i._cfg.tobeRemoved.push(a):a.parentNode.removeChild(a)),(e||void 0===e)&&this.destroy(),this},destroy:function t(){var e;this.get("destroyed")||(this._attrs=null,this.removeEvent(),this._cfg={destroyed:!0})},toFront:function t(){var e=this._cfg,n=e.parent;if(n){var r=n._cfg.children,i=e.el,a=r.indexOf(this);r.splice(a,1),r.push(this),i&&(i.parentNode.removeChild(i),e.el=null)}},toBack:function t(){var e=this._cfg,n=e.parent;if(n){var r=n._cfg.children,i=e.el,a=r.indexOf(this);if(r.splice(a,1),r.unshift(this),i){var o=i.parentNode;o.removeChild(i),o.insertBefore(i,o.firstChild)}}},_beforeSetZIndex:function t(e){var n=this._cfg.parent;this._cfg.zIndex=e,OC.isNil(n)||n.sort();var r=this._cfg.el;if(r){var i=n._cfg.children,a=i.indexOf(this),o=r.parentNode;o.removeChild(r),a===i.length-1?o.appendChild(r):o.insertBefore(r,o.childNodes[a])}return e},_setAttrs:function t(e){return this.attr(e),e},setZIndex:function t(e){return this._cfg.zIndex=e,this._beforeSetZIndex(e)},clone:function t(){return OC.clone(this)},getBBox:function t(){}});var NC=RC,jC=dC.vec2,zC={at:function t(e,n,r){return(n-e)*r+e},pointDistance:function t(e,n,r,i,a,o){var s=[r-e,i-n];if(jC.exactEquals(s,[0,0]))return NaN;var l=[-s[1],s[0]];jC.normalize(l,l);var u=[a-e,o-n];return Math.abs(jC.dot(u,l))},box:function t(e,n,r,i,a){var o=a/2,s=Math.min(e,r),l=Math.max(e,r),u,c;return{minX:s-o,minY:Math.min(n,i)-o,maxX:l+o,maxY:Math.max(n,i)+o}},len:function t(e,n,r,i){return Math.sqrt((r-e)*(r-e)+(i-n)*(i-n))}},YC=dC,GC=YC.vec2;function XC(t,e,n,r){var i=1-r;return i*(i*t+2*r*e)+r*r*n}function VC(t,e,n,r,i,a,o,s,l){var u,c=.005,h=1/0,f,p,d,g,v,m,y=1e-4,x=[o,s];for(g=0;g<1;g+=.05)p=[XC(t,n,i,g),XC(e,r,a,g)],(f=GC.squaredDistance(x,p))<h&&(u=g,h=f);for(h=1/0,m=0;m<32&&!(c<y);m++){var _=u-c,b=u+c;p=[XC(t,n,i,_),XC(e,r,a,_)],f=GC.squaredDistance(x,p),_>=0&&f<h?(u=_,h=f):(d=[XC(t,n,i,b),XC(e,r,a,b)],v=GC.squaredDistance(x,d),b<=1&&v<h?(u=b,h=v):c*=.5)}return l&&(l.x=XC(t,n,i,u),l.y=XC(e,r,a,u)),Math.sqrt(h)}function HC(t,e,n){var r=t+n-2*e;if(YC.isNumberEqual(r,0))return[.5];var i=(t-e)/r;return i<=1&&i>=0?[i]:[]}var WC={at:XC,projectPoint:function t(e,n,r,i,a,o,s,l){var u={};return VC(e,n,r,i,a,o,s,l,u),u},pointDistance:VC,extrema:HC},qC=dC,UC=qC.vec2;function ZC(t,e,n,r,i){var a=1-i;return a*a*(a*r+3*i*n)+i*i*(i*t+3*a*e)}function QC(t,e,n,r,i){var a=1-i;return 3*(((e-t)*a+2*(n-e)*i)*a+(r-n)*i*i)}function $C(t,e,n,r,i,a,o,s,l,u,c){var h,f=.005,p=1/0,d,g,v,m,y,x,_,b=1e-4,w=[l,u];for(d=0;d<1;d+=.05)g=[ZC(t,n,i,o,d),ZC(e,r,a,s,d)],(v=UC.squaredDistance(w,g))<p&&(h=d,p=v);p=1/0;for(var S=0;S<32&&!(f<b);S++)_=h+f,g=[ZC(t,n,i,o,x=h-f),ZC(e,r,a,s,x)],v=UC.squaredDistance(w,g),x>=0&&v<p?(h=x,p=v):(y=[ZC(t,n,i,o,_),ZC(e,r,a,s,_)],m=UC.squaredDistance(w,y),_<=1&&m<p?(h=_,p=m):f*=.5);return c&&(c.x=ZC(t,n,i,o,h),c.y=ZC(e,r,a,s,h)),Math.sqrt(p)}function JC(t,e,n,r){var i=3*t-9*e+9*n-3*r,a=6*e-12*n+6*r,o=3*n-3*r,s=[],l,u,c;if(qC.isNumberEqual(i,0))qC.isNumberEqual(a,0)||(l=-o/a)>=0&&l<=1&&s.push(l);else{var h=a*a-4*i*o;qC.isNumberEqual(h,0)?s.push(-a/(2*i)):h>0&&(u=(-a-(c=Math.sqrt(h)))/(2*i),(l=(-a+c)/(2*i))>=0&&l<=1&&s.push(l),u>=0&&u<=1&&s.push(u))}return s}function KC(t,e,n,r,i){var a,o;return t*(t*(-3*e+9*n-9*r+3*i)+6*e-12*n+6*r)-3*e+3*n}function tA(t,e,n,r,i,a,o,s,l){qC.isNil(l)&&(l=1);for(var u=(l=l>1?1:l<0?0:l)/2,c=12,h=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],f=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],p=0,d=0;d<c;d++){var g=u*h[d]+u,v=KC(g,t,n,i,o),m=KC(g,e,r,a,s),y=v*v+m*m;p+=f[d]*Math.sqrt(y)}return u*p}var eA={at:ZC,derivativeAt:QC,projectPoint:function t(e,n,r,i,a,o,s,l,u,c){var h={};return $C(e,n,r,i,a,o,s,l,u,c,h),h},pointDistance:$C,extrema:JC,len:tA},nA=dC;function rA(t,e,n,r){return{x:Math.cos(r)*n+t,y:Math.sin(r)*n+e}}function iA(t,e,n,r){var i,a;return r?t<e?(i=e-t,a=2*Math.PI-n+t):t>n&&(i=2*Math.PI-t+e,a=t-n):(i=t-e,a=n-t),i>a?n:e}function aA(t,e,n,r){var i=0;return n-e>=2*Math.PI&&(i=2*Math.PI),e=nA.mod(e,2*Math.PI),n=nA.mod(n,2*Math.PI)+i,t=nA.mod(t,2*Math.PI),r?e>=n?t>n&&t<e?t:iA(t,n,e,!0):t<e||t>n?t:iA(t,e,n):e<=n?e<t&&t<n?t:iA(t,e,n,!0):t>e||t<n?t:iA(t,n,e)}function oA(t,e,n,r,i,a,o,s,l){var u=[o,s],c=[t,e],h=[1,0],f=nA.vec2.subtract([],u,c),p=nA.vec2.angleTo(h,f);p=aA(p,r,i,a);var d=[n*Math.cos(p)+t,n*Math.sin(p)+e],g;return l&&(l.x=d[0],l.y=d[1]),nA.vec2.distance(d,u)}function sA(t,e,n,r,i,a){var o=0,s=Math.PI/2,l=Math.PI,u=3*Math.PI/2,c=[],h=aA(0,r,i,a);0===h&&c.push(rA(t,e,n,0)),(h=aA(s,r,i,a))===s&&c.push(rA(t,e,n,s)),(h=aA(l,r,i,a))===l&&c.push(rA(t,e,n,l)),(h=aA(u,r,i,a))===u&&c.push(rA(t,e,n,u)),c.push(rA(t,e,n,r)),c.push(rA(t,e,n,i));var f=1/0,p=-1/0,d=1/0,g=-1/0;return nA.each(c,(function(t){f>t.x&&(f=t.x),p<t.x&&(p=t.x),d>t.y&&(d=t.y),g<t.y&&(g=t.y)})),{minX:f,minY:d,maxX:p,maxY:g}}var lA={nearAngle:aA,projectPoint:function t(e,n,r,i,a,o,s,l){var u={};return oA(e,n,r,i,a,o,s,l,u),u},pointDistance:oA,box:sA},uA=zC,cA=WC,hA=eA,fA=lA,pA={line:function t(e,n,r,i,a,o,s){var l=uA.box(e,n,r,i,a);if(!this.box(l.minX,l.maxX,l.minY,l.maxY,o,s))return!1;var u=uA.pointDistance(e,n,r,i,o,s);return!isNaN(u)&&u<=a/2},polyline:function t(e,n,r,i){var a=e.length-1;if(a<1)return!1;for(var o=0;o<a;o++){var s=e[o][0],l=e[o][1],u=e[o+1][0],c=e[o+1][1];if(this.line(s,l,u,c,n,r,i))return!0}return!1},cubicline:function t(e,n,r,i,a,o,s,l,u,c,h){return hA.pointDistance(e,n,r,i,a,o,s,l,c,h)<=u/2},quadraticline:function t(e,n,r,i,a,o,s,l,u){return cA.pointDistance(e,n,r,i,a,o,l,u)<=s/2},arcline:function t(e,n,r,i,a,o,s,l,u){return fA.pointDistance(e,n,r,i,a,o,l,u)<=s/2},rect:function t(e,n,r,i,a,o){return e<=a&&a<=e+r&&n<=o&&o<=n+i},circle:function t(e,n,r,i,a){return Math.pow(i-e,2)+Math.pow(a-n,2)<=Math.pow(r,2)},box:function t(e,n,r,i,a,o){return e<=a&&a<=n&&r<=o&&o<=i}},dA={xAt:function t(e,n,r,i,a){return n*Math.cos(e)*Math.cos(a)-r*Math.sin(e)*Math.sin(a)+i},yAt:function t(e,n,r,i,a){return n*Math.sin(e)*Math.cos(a)+r*Math.cos(e)*Math.sin(a)+i},xExtrema:function t(e,n,r){return Math.atan(-r/n*Math.tan(e))},yExtrema:function t(e,n,r){return Math.atan(r/(n*Math.tan(e)))}},gA=dC,vA=pA,mA={arc:lA,ellipse:dA,line:zC},yA,xA=gA.createDom('<canvas width="500" height="500"></canvas>').getContext("2d");function _A(t,e,n){return n.createPath(xA),xA.isPointInPath(t,e)}var bA,wA,SA,MA,CA,AA,PA=function t(e,n){var r=this,i=r.get("segments"),a=r.hasFill(),o=r.hasStroke();function s(){if(!gA.isEmpty(i)){for(var t=r.getHitLineWidth(),a=0,o=i.length;a<o;a++)if(i[a].isInside(e,n,t))return!0;return!1}}return a&&o?_A(e,n,r)||s():a?_A(e,n,r):!!o&&s()},kA,TA,IA,EA,OA,LA,DA={arc:function t(e,n){var r=this._attrs,i=r.x,a=r.y,o=r.r,s=r.startAngle,l=r.endAngle,u=r.clockwise,c=this.getHitLineWidth();return!!this.hasStroke()&&vA.arcline(i,a,o,s,l,u,c,e,n)},circle:function t(e,n){var r=this._attrs,i=r.x,a=r.y,o=r.r,s=this.getHitLineWidth(),l=this.hasFill(),u=this.hasStroke();return l&&u?vA.circle(i,a,o,e,n)||vA.arcline(i,a,o,0,2*Math.PI,!1,s,e,n):l?vA.circle(i,a,o,e,n):!!u&&vA.arcline(i,a,o,0,2*Math.PI,!1,s,e,n)},dom:function t(e,n){if(!this._cfg.el)return!1;var r=this._cfg.el.getBBox();return vA.box(r.x,r.x+r.width,r.y,r.y+r.height,e,n)},ellipse:function t(e,n){var r=this._attrs,i=this.hasFill(),a=this.hasStroke(),o=r.x,s=r.y,l=r.rx,u=r.ry,c=this.getHitLineWidth(),h=l>u?l:u,f=l>u?1:l/u,p=l>u?u/l:1,d=[e,n,1],g=[1,0,0,0,1,0,0,0,1];gA.mat3.scale(g,g,[f,p]),gA.mat3.translate(g,g,[o,s]);var v=gA.mat3.invert([],g);return gA.vec3.transformMat3(d,d,v),i&&a?vA.circle(0,0,h,d[0],d[1])||vA.arcline(0,0,h,0,2*Math.PI,!1,c,d[0],d[1]):i?vA.circle(0,0,h,d[0],d[1]):!!a&&vA.arcline(0,0,h,0,2*Math.PI,!1,c,d[0],d[1])},fan:function t(e,n){var r=this,i=r.hasFill(),a=r.hasStroke(),o=r._attrs,s=o.x,l=o.y,u=o.rs,c=o.re,h=o.startAngle,f=o.endAngle,p=o.clockwise,d=[1,0],g=[e-s,n-l],v=gA.vec2.angleTo(d,g);function m(){var t=mA.arc.nearAngle(v,h,f,p);if(gA.isNumberEqual(v,t)){var e=gA.vec2.squaredLength(g);if(u*u<=e&&e<=c*c)return!0}return!1}function y(){var t=r.getHitLineWidth(),i={x:Math.cos(h)*u+s,y:Math.sin(h)*u+l},a={x:Math.cos(h)*c+s,y:Math.sin(h)*c+l},o={x:Math.cos(f)*u+s,y:Math.sin(f)*u+l},d={x:Math.cos(f)*c+s,y:Math.sin(f)*c+l};return!!vA.line(i.x,i.y,a.x,a.y,t,e,n)||(!!vA.line(o.x,o.y,d.x,d.y,t,e,n)||(!!vA.arcline(s,l,u,h,f,p,t,e,n)||!!vA.arcline(s,l,c,h,f,p,t,e,n)))}return i&&a?m()||y():i?m():!!a&&y()},image:function t(e,n){var r=this._attrs;if(this.get("toDraw")||!r.img)return!1;this._cfg.attrs&&this._cfg.attrs.img===r.img||this._setAttrImg();var i=r.x,a=r.y,o=r.width,s=r.height;return vA.rect(i,a,o,s,e,n)},line:function t(e,n){var r=this._attrs,i=r.x1,a=r.y1,o=r.x2,s=r.y2,l=this.getHitLineWidth();return!!this.hasStroke()&&vA.line(i,a,o,s,l,e,n)},path:PA,marker:function t(e,n){var r=this._attrs,i=r.x,a=r.y,o=r.radius||r.r,s=this.getHitLineWidth();return vA.circle(i,a,o+s/2,e,n)},polygon:function t(e,n){var r=this,i=r.hasFill(),a=r.hasStroke();function o(){var t,i=r._attrs.points;if(i.length<2)return!1;var a=r.getHitLineWidth(),o=i.slice(0);return i.length>=3&&o.push(i[0]),vA.polyline(o,a,e,n)}return i&&a?_A(e,n,r)||o():i?_A(e,n,r):!!a&&o()},polyline:function t(e,n){var r=this,i=r._attrs;if(r.hasStroke()){var a=i.points;if(a.length<2)return!1;var o=i.lineWidth;return vA.polyline(a,o,e,n)}return!1},rect:function t(e,n){var r=this,i=r.hasFill(),a=r.hasStroke();function o(){var t=r._attrs,i=t.x,a=t.y,o=t.width,s=t.height,l=t.radius,u=r.getHitLineWidth();if(0===l){var c=u/2;return vA.line(i-c,a,i+o+c,a,u,e,n)||vA.line(i+o,a-c,i+o,a+s+c,u,e,n)||vA.line(i+o+c,a+s,i-c,a+s,u,e,n)||vA.line(i,a+s+c,i,a-c,u,e,n)}return vA.line(i+l,a,i+o-l,a,u,e,n)||vA.line(i+o,a+l,i+o,a+s-l,u,e,n)||vA.line(i+o-l,a+s,i+l,a+s,u,e,n)||vA.line(i,a+s-l,i,a+l,u,e,n)||vA.arcline(i+o-l,a+l,l,1.5*Math.PI,2*Math.PI,!1,u,e,n)||vA.arcline(i+o-l,a+s-l,l,0,.5*Math.PI,!1,u,e,n)||vA.arcline(i+l,a+s-l,l,.5*Math.PI,Math.PI,!1,u,e,n)||vA.arcline(i+l,a+l,l,Math.PI,1.5*Math.PI,!1,u,e,n)}return i&&a?_A(e,n,r)||o():i?_A(e,n,r):!!a&&o()},text:function t(e,n){var r=this,i=r.getBBox();if(r.hasFill()||r.hasStroke())return vA.box(i.minX,i.maxX,i.minY,i.maxY,e,n)}},FA,BA=dC,RA={isPointInPath:function t(e,n){var r=DA[this.type];return!!r&&r.call(this,e,n)}},NA=NC,jA=pA,zA=function t(e){t.superclass.constructor.call(this,e)};zA.ATTRS={},BA.extend(zA,NA);var YA={matrix:"matrix",path:"path",points:"points",lineDash:"lineDash"};function GA(t){for(var e=[],n=0;n<t.length;n++)BA.isArray(t[n])?e.push([].concat(t[n])):e.push(t[n]);return e}BA.augment(zA,RA,{isShape:!0,drawInner:function t(e){var n=this,r=n._attrs;n.createPath(e);var i=e.globalAlpha,a;if(n.hasFill()){var o=r.fillOpacity;BA.isNil(o)||1===o?e.fill():(e.globalAlpha=o,e.fill(),e.globalAlpha=i)}if(n.hasStroke()&&n._attrs.lineWidth>0){var s=r.strokeOpacity;BA.isNil(s)||1===s||(e.globalAlpha=s),e.stroke()}n.afterPath(e)},afterPath:function t(){},isHitBox:function t(){return!0},isHit:function t(e,n){var r=this,i=[e,n,1];if(r.invert(i),r.isHitBox()){var a=r.getBBox();if(a&&!jA.box(a.minX,a.maxX,a.minY,a.maxY,i[0],i[1]))return!1}var o=r._attrs.clip;return o?(o.invert(i,r.get("canvas")),!!o.isPointInPath(i[0],i[1])&&r.isPointInPath(i[0],i[1])):r.isPointInPath(i[0],i[1])},calculateBox:function t(){return null},getHitLineWidth:function t(){var e=this._attrs,n=e.lineAppendWidth||0,r;return(e.lineWidth||0)+n},clearTotalMatrix:function t(){this._cfg.totalMatrix=null,this._cfg.region=null},clearBBox:function t(){this._cfg.box=null,this._cfg.region=null},getBBox:function t(){var e=this._cfg.box;return e||((e=this.calculateBox())&&(e.x=e.minX,e.y=e.minY,e.width=e.maxX-e.minX,e.height=e.maxY-e.minY),this._cfg.box=e),e},clone:function t(){var e=this,n=null,r=e._attrs,i={};return BA.each(r,(function(t,e){YA[e]&&BA.isArray(r[e])?i[e]=GA(r[e]):i[e]=r[e]})),(n=new e.constructor({attrs:i}))._cfg.zIndex=e._cfg.zIndex,n}});var XA=zA,VA=dC,HA=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,WA=/[^\s\,]+/gi,qA={},UA={parseRadius:function t(e){var n=0,r=0,i=0,a=0;return VA.isArray(e)?1===e.length?n=r=i=a=e[0]:2===e.length?(n=i=e[0],r=a=e[1]):3===e.length?(n=e[0],r=a=e[1],i=e[2]):(n=e[0],r=e[1],i=e[2],a=e[3]):n=r=i=a=e,{r1:n,r2:r,r3:i,r4:a}},parsePath:function t(e){return e=e||[],VA.isArray(e)?e:VA.isString(e)?(e=e.match(HA),VA.each(e,(function(t,n){if((t=t.match(WA))[0].length>1){var r=t[0].charAt(0);t.splice(1,0,t[0].substr(1)),t[0]=r}VA.each(t,(function(e,n){isNaN(e)||(t[n]=+e)})),e[n]=t})),e):void 0},numberToColor:function t(e){var n=qA[e];if(!n){for(var r=e.toString(16),i=r.length;i<6;i++)r="0"+r;n="#"+r,qA[e]=n}return n}},ZA=dC,QA=pA,$A=eA,JA=WC,KA=dA,tP=ZA.vec3,eP=ZA.mat3,nP=["m","l","c","a","q","h","v","t","s","z"];function rP(t,e,n){return{x:n.x+t,y:n.y+e}}function iP(t,e){return{x:e.x+(e.x-t.x),y:e.y+(e.y-t.y)}}function aP(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function oP(t,e){return(t[0]*e[0]+t[1]*e[1])/(aP(t)*aP(e))}function sP(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(oP(t,e))}function lP(t,e,n,r,i,a,o){var s=ZA.mod(ZA.toRadian(o),2*Math.PI),l=t.x,u=t.y,c=e.x,h=e.y,f=Math.cos(s)*(l-c)/2+Math.sin(s)*(u-h)/2,p=-1*Math.sin(s)*(l-c)/2+Math.cos(s)*(u-h)/2,d=f*f/(i*i)+p*p/(a*a);d>1&&(i*=Math.sqrt(d),a*=Math.sqrt(d));var g=i*i*(p*p)+a*a*(f*f),v=Math.sqrt((i*i*(a*a)-g)/g);n===r&&(v*=-1),isNaN(v)&&(v=0);var m=v*i*p/a,y=v*-a*f/i,x=(l+c)/2+Math.cos(s)*m-Math.sin(s)*y,_=(u+h)/2+Math.sin(s)*m+Math.cos(s)*y,b=sP([1,0],[(f-m)/i,(p-y)/a]),w=[(f-m)/i,(p-y)/a],S=[(-1*f-m)/i,(-1*p-y)/a],M=sP(w,S);return oP(w,S)<=-1&&(M=Math.PI),oP(w,S)>=1&&(M=0),0===r&&M>0&&(M-=2*Math.PI),1===r&&M<0&&(M+=2*Math.PI),[t,x,_,i,a,b,M,s,r]}var uP=function t(e,n,r){this.preSegment=n,this.isLast=r,this.init(e,n)};ZA.augment(uP,{init:function t(e,n){var r=e[0];n=n||{endPoint:{x:0,y:0}};var i=nP.indexOf(r)>=0,a=i?r.toUpperCase():r,o=e,s,l,u,c,h=n.endPoint,f=o[1],p=o[2];switch(a){default:break;case"M":c=i?rP(f,p,h):{x:f,y:p},this.command="M",this.params=[h,c],this.subStart=c,this.endPoint=c;break;case"L":c=i?rP(f,p,h):{x:f,y:p},this.command="L",this.params=[h,c],this.subStart=n.subStart,this.endPoint=c,this.endTangent=function(){return[c.x-h.x,c.y-h.y]},this.startTangent=function(){return[h.x-c.x,h.y-c.y]};break;case"H":c=i?rP(f,0,h):{x:f,y:h.y},this.command="L",this.params=[h,c],this.subStart=n.subStart,this.endPoint=c,this.endTangent=function(){return[c.x-h.x,c.y-h.y]},this.startTangent=function(){return[h.x-c.x,h.y-c.y]};break;case"V":c=i?rP(0,f,h):{x:h.x,y:f},this.command="L",this.params=[h,c],this.subStart=n.subStart,this.endPoint=c,this.endTangent=function(){return[c.x-h.x,c.y-h.y]},this.startTangent=function(){return[h.x-c.x,h.y-c.y]};break;case"Q":i?(s=rP(f,p,h),l=rP(o[3],o[4],h)):(s={x:f,y:p},l={x:o[3],y:o[4]}),this.command="Q",this.params=[h,s,l],this.subStart=n.subStart,this.endPoint=l,this.endTangent=function(){return[l.x-s.x,l.y-s.y]},this.startTangent=function(){return[h.x-s.x,h.y-s.y]};break;case"T":l=i?rP(f,p,h):{x:f,y:p},"Q"===n.command?(s=iP(n.params[1],h),this.command="Q",this.params=[h,s,l],this.subStart=n.subStart,this.endPoint=l,this.endTangent=function(){return[l.x-s.x,l.y-s.y]},this.startTangent=function(){return[h.x-s.x,h.y-s.y]}):(this.command="TL",this.params=[h,l],this.subStart=n.subStart,this.endPoint=l,this.endTangent=function(){return[l.x-h.x,l.y-h.y]},this.startTangent=function(){return[h.x-l.x,h.y-l.y]});break;case"C":i?(s=rP(f,p,h),l=rP(o[3],o[4],h),u=rP(o[5],o[6],h)):(s={x:f,y:p},l={x:o[3],y:o[4]},u={x:o[5],y:o[6]}),this.command="C",this.params=[h,s,l,u],this.subStart=n.subStart,this.endPoint=u,this.endTangent=function(){return[u.x-l.x,u.y-l.y]},this.startTangent=function(){return[h.x-s.x,h.y-s.y]};break;case"S":i?(l=rP(f,p,h),u=rP(o[3],o[4],h)):(l={x:f,y:p},u={x:o[3],y:o[4]}),"C"===n.command?(s=iP(n.params[2],h),this.command="C",this.params=[h,s,l,u],this.subStart=n.subStart,this.endPoint=u,this.endTangent=function(){return[u.x-l.x,u.y-l.y]},this.startTangent=function(){return[h.x-s.x,h.y-s.y]}):(this.command="SQ",this.params=[h,l,u],this.subStart=n.subStart,this.endPoint=u,this.endTangent=function(){return[u.x-l.x,u.y-l.y]},this.startTangent=function(){return[h.x-l.x,h.y-l.y]});break;case"A":var d=f,g=p,v=o[3],m=o[4],y=o[5];c=i?rP(o[6],o[7],h):{x:o[6],y:o[7]},this.command="A";var x=lP(h,c,m,y,d,g,v);this.params=x;var _=n.subStart;this.subStart=_,this.endPoint=c;var b=x[5]%(2*Math.PI);ZA.isNumberEqual(b,2*Math.PI)&&(b=0);var w=x[6]%(2*Math.PI);ZA.isNumberEqual(w,2*Math.PI)&&(w=0);var S=.001;this.startTangent=function(){0===y&&(S*=-1);var t=x[3]*Math.cos(b-S)+x[1],e=x[4]*Math.sin(b-S)+x[2];return[t-_.x,e-_.y]},this.endTangent=function(){var t=x[6];t-2*Math.PI<1e-4&&(t=0);var e=x[3]*Math.cos(b+t+S)+x[1],n=x[4]*Math.sin(b+t-S)+x[2];return[h.x-e,h.y-n]};break;case"Z":this.command="Z",this.params=[h,n.subStart],this.subStart=n.subStart,this.endPoint=n.subStart}},isInside:function t(e,n,r){var i=this,a=i.command,o=i.params,s=i.box;if(s&&!QA.box(s.minX,s.maxX,s.minY,s.maxY,e,n))return!1;switch(a){default:break;case"M":return!1;case"TL":case"L":case"Z":return QA.line(o[0].x,o[0].y,o[1].x,o[1].y,r,e,n);case"SQ":case"Q":return QA.quadraticline(o[0].x,o[0].y,o[1].x,o[1].y,o[2].x,o[2].y,r,e,n);case"C":return QA.cubicline(o[0].x,o[0].y,o[1].x,o[1].y,o[2].x,o[2].y,o[3].x,o[3].y,r,e,n);case"A":var l=o,u=l[1],c=l[2],h=l[3],f=l[4],p=l[5],d=l[6],g=l[7],v=l[8],m=h>f?h:f,y=h>f?1:h/f,x=h>f?f/h:1;l=[e,n,1];var _=[1,0,0,0,1,0,0,0,1];return eP.translate(_,_,[-u,-c]),eP.rotate(_,_,-g),eP.scale(_,_,[1/y,1/x]),tP.transformMat3(l,l,_),QA.arcline(0,0,m,p,p+d,1-v,r,l[0],l[1])}return!1},draw:function t(e){var n=this.command,r=this.params,i,a,o;switch(n){default:break;case"M":e.moveTo(r[1].x,r[1].y);break;case"TL":case"L":e.lineTo(r[1].x,r[1].y);break;case"SQ":case"Q":i=r[1],a=r[2],e.quadraticCurveTo(i.x,i.y,a.x,a.y);break;case"C":i=r[1],a=r[2],o=r[3],e.bezierCurveTo(i.x,i.y,a.x,a.y,o.x,o.y);break;case"A":var s=r,l,u,c=s[1],h=s[2],f=s[3],p=s[4],d=s[5],g=s[6],v=s[7],m=s[8],y=f>p?f:p,x=f>p?1:f/p,_=f>p?p/f:1;e.translate(c,h),e.rotate(v),e.scale(x,_),e.arc(0,0,y,d,d+g,1-m),e.scale(1/x,1/_),e.rotate(-v),e.translate(-c,-h);break;case"Z":e.closePath()}},getBBox:function t(e){var n=e/2,r=this.params,i,a,o,s;switch(this.command){default:break;case"TL":case"L":this.box={minX:Math.min(r[0].x,r[1].x)-n,maxX:Math.max(r[0].x,r[1].x)+n,minY:Math.min(r[0].y,r[1].y)-n,maxY:Math.max(r[0].y,r[1].y)+n};break;case"SQ":case"Q":for(o=0,s=(a=JA.extrema(r[0].x,r[1].x,r[2].x)).length;o<s;o++)a[o]=JA.at(r[0].x,r[1].x,r[2].x,a[o]);for(a.push(r[0].x,r[2].x),o=0,s=(i=JA.extrema(r[0].y,r[1].y,r[2].y)).length;o<s;o++)i[o]=JA.at(r[0].y,r[1].y,r[2].y,i);i.push(r[0].y,r[2].y),this.box={minX:Math.min.apply(Math,a)-n,maxX:Math.max.apply(Math,a)+n,minY:Math.min.apply(Math,i)-n,maxY:Math.max.apply(Math,i)+n};break;case"C":for(o=0,s=(a=$A.extrema(r[0].x,r[1].x,r[2].x,r[3].x)).length;o<s;o++)a[o]=$A.at(r[0].x,r[1].x,r[2].x,r[3].x,a[o]);for(o=0,s=(i=$A.extrema(r[0].y,r[1].y,r[2].y,r[3].y)).length;o<s;o++)i[o]=$A.at(r[0].y,r[1].y,r[2].y,r[3].y,i[o]);a.push(r[0].x,r[3].x),i.push(r[0].y,r[3].y),this.box={minX:Math.min.apply(Math,a)-n,maxX:Math.max.apply(Math,a)+n,minY:Math.min.apply(Math,i)-n,maxY:Math.max.apply(Math,i)+n};break;case"A":var l=r,u=l[1],c=l[2],h=l[3],f=l[4],p=l[5],d=l[6],g=l[7],v=l[8],m=p,y=p+d,x=KA.xExtrema(g,h,f),_=1/0,b=-1/0,w=[m,y];for(o=2*-Math.PI;o<=2*Math.PI;o+=Math.PI){var S=x+o;1===v?m<S&&S<y&&w.push(S):y<S&&S<m&&w.push(S)}for(o=0,s=w.length;o<s;o++){var M=KA.xAt(g,h,f,u,w[o]);M<_&&(_=M),M>b&&(b=M)}var C=KA.yExtrema(g,h,f),A=1/0,P=-1/0,k=[m,y];for(o=2*-Math.PI;o<=2*Math.PI;o+=Math.PI){var T=C+o;1===v?m<T&&T<y&&k.push(T):y<T&&T<m&&k.push(T)}for(o=0,s=k.length;o<s;o++){var I=KA.yAt(g,h,f,c,k[o]);I<A&&(A=I),I>P&&(P=I)}this.box={minX:_-n,maxX:b+n,minY:A-n,maxY:P+n}}}});var cP=uP,hP=UA,fP=cP,pP=Math.PI,dP=Math.sin,gP=Math.cos,vP=Math.atan2,mP=10,yP=pP/3;function xP(t,e,n,r,i,a,o){var s,l,u,c,h,f,p;if(!e.fill){var d=e.arrowLength||10,g=e.arrowAngle?e.arrowAngle*pP/180:yP;p=vP(r-a,n-i),h=Math.abs(e.lineWidth*gP(p))/2,f=Math.abs(e.lineWidth*dP(p))/2,o&&(h=-h,f=-f),s=i+d*gP(p+g/2),l=a+d*dP(p+g/2),u=i+d*gP(p-g/2),c=a+d*dP(p-g/2),t.beginPath(),t.moveTo(s-h,l-f),t.lineTo(i-h,a-f),t.lineTo(u-h,c-f),t.moveTo(i-h,a-f),t.lineTo(i+h,a+f),t.moveTo(i,a),t.stroke()}}function _P(t){var e=[],n=hP.parsePath(t.path),r;if(!Array.isArray(n)||0===n.length||"M"!==n[0][0]&&"m"!==n[0][0])return!1;for(var i=n.length,a=0;a<n.length;a++){var o=n[a];r=new fP(o,r,a===i-1),e.push(r)}return e}function bP(t,e,n,r,i,a,o){var s=o?e.startArrow:e.endArrow,l=s.d,u=0,c=i-n,h=a-r,f=Math.atan(c/h);0===h&&c<0?u=Math.PI:c>0&&h>0?u=Math.PI/2-f:c<0&&h<0?u=-Math.PI/2-f:c>=0&&h<0?u=-f-Math.PI/2:c<=0&&h>0&&(u=Math.PI/2-f);var p=_P(s);if(p){l&&(o?(i+=Math.sin(Math.abs(f))*l,a=a+Math.cos(Math.abs(f))*l-.5*t.lineWidth):(i-=Math.sin(Math.abs(f))*l,a=a-Math.cos(Math.abs(f))*l+.5*t.lineWidth)),t.save(),t.beginPath(),t.translate(i,a),t.rotate(u);for(var d=0;d<p.length;d++)p[d].draw(t);t.setTransform(1,0,0,1,0,0),t.fillStyle=t.strokeStyle,t.fill(),t.restore()}}var wP={addStartArrow:function t(e,n,r,i,a,o){"object"==typeof n.startArrow?bP(e,n,r,i,a,o,!0):n.startArrow&&xP(e,n,r,i,a,o,!0)},addEndArrow:function t(e,n,r,i,a,o){"object"==typeof n.endArrow?bP(e,n,r,i,a,o,!1):n.endArrow&&xP(e,n,r,i,a,o,!1)}},SP=dC,MP=XA,CP=lA,AP=wP;function PP(t,e,n){return t+e*Math.cos(n)}function kP(t,e,n){return t+e*Math.sin(n)}var TP=function t(e){t.superclass.constructor.call(this,e)};TP.ATTRS={x:0,y:0,r:0,startAngle:0,endAngle:0,clockwise:!1,lineWidth:1,startArrow:!1,endArrow:!1},SP.extend(TP,MP),SP.augment(TP,{canStroke:!0,type:"arc",getDefaultAttrs:function t(){return{x:0,y:0,r:0,startAngle:0,endAngle:0,clockwise:!1,lineWidth:1,startArrow:!1,endArrow:!1}},calculateBox:function t(){var e=this._attrs,n=e.x,r=e.y,i=e.r,a=e.startAngle,o=e.endAngle,s=e.clockwise,l,u=this.getHitLineWidth()/2,c=CP.box(n,r,i,a,o,s);return c.minX-=u,c.minY-=u,c.maxX+=u,c.maxY+=u,c},getStartTangent:function t(){var e=this._attrs,n=e.x,r=e.y,i=e.startAngle,a=e.r,o=e.clockwise,s=Math.PI/180;o&&(s*=-1);var l=[],u=PP(n,a,i+s),c=kP(r,a,i+s),h=PP(n,a,i),f=kP(r,a,i);return l.push([u,c]),l.push([h,f]),l},getEndTangent:function t(){var e=this._attrs,n=e.x,r=e.y,i=e.endAngle,a=e.r,o=e.clockwise,s=Math.PI/180,l=[];o&&(s*=-1);var u=PP(n,a,i+s),c=kP(r,a,i+s),h=PP(n,a,i),f=kP(r,a,i);return l.push([h,f]),l.push([u,c]),l},createPath:function t(e){var n=this._attrs,r=n.x,i=n.y,a=n.r,o=n.startAngle,s=n.endAngle,l=n.clockwise;(e=e||self.get("context")).beginPath(),e.arc(r,i,a,o,s,l)},afterPath:function t(e){var n=this._attrs;if(e=e||this.get("context"),n.startArrow){var r=this.getStartTangent();AP.addStartArrow(e,n,r[0][0],r[0][1],r[1][0],r[1][1])}if(n.endArrow){var i=this.getEndTangent();AP.addEndArrow(e,n,i[0][0],i[0][1],i[1][0],i[1][1])}}});var IP=TP,EP=dC,OP=XA,LP=function t(e){t.superclass.constructor.call(this,e)};LP.ATTRS={x:0,y:0,r:0,lineWidth:1},EP.extend(LP,OP),EP.augment(LP,{canFill:!0,canStroke:!0,type:"circle",getDefaultAttrs:function t(){return{lineWidth:1}},calculateBox:function t(){var e=this._attrs,n=e.x,r=e.y,i=e.r,a,o=this.getHitLineWidth()/2+i;return{minX:n-o,minY:r-o,maxX:n+o,maxY:r+o}},createPath:function t(e){var n=this._attrs,r=n.x,i=n.y,a=n.r;e.beginPath(),e.arc(r,i,a,0,2*Math.PI,!1),e.closePath()}});var DP=LP,FP=dC,BP=XA,RP=function t(e){t.superclass.constructor.call(this,e)};FP.extend(RP,BP),FP.augment(RP,{canFill:!0,canStroke:!0,type:"dom",calculateBox:function t(){var e,n=this._attrs,r=n.x,i=n.y,a=n.width,o=n.height,s,l=this.getHitLineWidth()/2;return{minX:r-l,minY:i-l,maxX:r+a+l,maxY:i+o+l}}});var NP=RP,jP=dC,zP=XA,YP=function t(e){t.superclass.constructor.call(this,e)};YP.ATTRS={x:0,y:0,rx:1,ry:1,lineWidth:1},jP.extend(YP,zP),jP.augment(YP,{canFill:!0,canStroke:!0,type:"ellipse",getDefaultAttrs:function t(){return{lineWidth:1}},calculateBox:function t(){var e=this._attrs,n=e.x,r=e.y,i=e.rx,a=e.ry,o=this.getHitLineWidth(),s=i+o/2,l=a+o/2;return{minX:n-s,minY:r-l,maxX:n+s,maxY:r+l}},createPath:function t(e){var n=this._attrs,r=n.x,i=n.y,a=n.rx,o=n.ry;e=e||self.get("context");var s=a>o?a:o,l=a>o?1:a/o,u=a>o?o/a:1,c=[1,0,0,0,1,0,0,0,1];jP.mat3.scale(c,c,[l,u]),jP.mat3.translate(c,c,[r,i]),e.beginPath(),e.save(),e.transform(c[0],c[1],c[3],c[4],c[6],c[7]),e.arc(0,0,s,0,2*Math.PI),e.restore(),e.closePath()}});var GP=YP,XP=dC,VP=XA,HP=lA,WP=function t(e){t.superclass.constructor.call(this,e)};WP.ATTRS={x:0,y:0,rs:0,re:0,startAngle:0,endAngle:0,clockwise:!1,lineWidth:1},XP.extend(WP,VP),XP.augment(WP,{canFill:!0,canStroke:!0,type:"fan",getDefaultAttrs:function t(){return{clockwise:!1,lineWidth:1,rs:0,re:0}},calculateBox:function t(){var e,n=this._attrs,r=n.x,i=n.y,a=n.rs,o=n.re,s=n.startAngle,l=n.endAngle,u=n.clockwise,c=this.getHitLineWidth(),h=HP.box(r,i,a,s,l,u),f=HP.box(r,i,o,s,l,u),p,d,g,v,m=c/2;return{minX:Math.min(h.minX,f.minX)-m,minY:Math.min(h.minY,f.minY)-m,maxX:Math.max(h.maxX,f.maxX)+m,maxY:Math.max(h.maxY,f.maxY)+m}},createPath:function t(e){var n=this._attrs,r=n.x,i=n.y,a=n.rs,o=n.re,s=n.startAngle,l=n.endAngle,u=n.clockwise,c={x:Math.cos(s)*a+r,y:Math.sin(s)*a+i},h={x:Math.cos(s)*o+r,y:Math.sin(s)*o+i},f={x:Math.cos(l)*a+r,y:Math.sin(l)*a+i};(e=e||self.get("context")).beginPath(),e.moveTo(c.x,c.y),e.lineTo(h.x,h.y),e.arc(r,i,o,s,l,u),e.lineTo(f.x,f.y),e.arc(r,i,a,l,s,!u),e.closePath()}});var qP=WP,UP=dC,ZP=XA,QP=function t(e){t.superclass.constructor.call(this,e)};QP.ATTRS={x:0,y:0,img:void 0,width:0,height:0,sx:null,sy:null,swidth:null,sheight:null},UP.extend(QP,ZP),UP.augment(QP,{type:"image",isHitBox:function t(){return!1},calculateBox:function t(){var e=this._attrs;this._cfg.attrs&&this._cfg.attrs.img===e.img||this._setAttrImg();var n=e.x,r=e.y,i,a;return{minX:n,minY:r,maxX:n+e.width,maxY:r+e.height}},_beforeSetLoading:function t(e){var n=this.get("canvas");return!1===e&&!0===this.get("toDraw")&&(this._cfg.loading=!1,n.draw()),e},_setAttrImg:function t(){var e=this,n=e._attrs,r=n.img;if(!UP.isString(r))return r instanceof Image?(n.width||e.attr("width",r.width),n.height||e.attr("height",r.height),r):r instanceof HTMLElement&&UP.isString(r.nodeName)&&"CANVAS"===r.nodeName.toUpperCase()?(n.width||e.attr("width",Number(r.getAttribute("width"))),n.height||e.attr("height",Number(r.getAttribute("height"))),r):r instanceof ImageData?(n.width||e.attr("width",r.width),n.height||e.attr("height",r.height),r):null;var i=new Image;i.onload=function(){if(e.get("destroyed"))return!1;e.attr("imgSrc",r),e.attr("img",i);var t=e.get("callback");t&&t.call(e),e.set("loading",!1)},i.src=r,i.crossOrigin="Anonymous",e.set("loading",!0)},drawInner:function t(e){this._cfg.hasUpdate&&this._setAttrImg(),this.get("loading")?this.set("toDraw",!0):(this._drawImage(e),this._cfg.hasUpdate=!1)},_drawImage:function t(e){var n=this._attrs,r=n.x,i=n.y,a=n.img,o=n.width,s=n.height,l=n.sx,u=n.sy,c=n.swidth,h=n.sheight;this.set("toDraw",!1);var f=a;if(f instanceof ImageData&&((f=new Image).src=a),f instanceof Image||f instanceof HTMLElement&&UP.isString(f.nodeName)&&"CANVAS"===f.nodeName.toUpperCase()){if(UP.isNil(l)||UP.isNil(u)||UP.isNil(c)||UP.isNil(h))return void e.drawImage(f,r,i,o,s);if(!(UP.isNil(l)||UP.isNil(u)||UP.isNil(c)||UP.isNil(h)))return void e.drawImage(f,l,u,c,h,r,i,o,s)}}});var $P=QP,JP=dC,KP=XA,tk=wP,ek=zC,nk=function t(e){t.superclass.constructor.call(this,e)};nk.ATTRS={x1:0,y1:0,x2:0,y2:0,lineWidth:1,startArrow:!1,endArrow:!1},JP.extend(nk,KP),JP.augment(nk,{canStroke:!0,type:"line",getDefaultAttrs:function t(){return{lineWidth:1,startArrow:!1,endArrow:!1}},calculateBox:function t(){var e=this._attrs,n=e.x1,r=e.y1,i=e.x2,a=e.y2,o=this.getHitLineWidth();return ek.box(n,r,i,a,o)},createPath:function t(e){var n=this._attrs,r=n.x1,i=n.y1,a=n.x2,o=n.y2;(e=e||self.get("context")).beginPath(),e.moveTo(r,i),e.lineTo(a,o)},afterPath:function t(e){var n=this._attrs,r=n.x1,i=n.y1,a=n.x2,o=n.y2;e=e||this.get("context"),n.startArrow&&tk.addStartArrow(e,n,a,o,r,i),n.endArrow&&tk.addEndArrow(e,n,r,i,a,o)},getPoint:function t(e){var n=this._attrs;return{x:ek.at(n.x1,n.x2,e),y:ek.at(n.y1,n.y2,e)}}});var rk=nk,ik=dC,ak=XA,ok=UA,sk=cP,lk=function t(e){t.superclass.constructor.call(this,e)};lk.Symbols={circle:function t(e,n,r){return[["M",e,n],["m",-r,0],["a",r,r,0,1,0,2*r,0],["a",r,r,0,1,0,2*-r,0]]},square:function t(e,n,r){return[["M",e-r,n-r],["L",e+r,n-r],["L",e+r,n+r],["L",e-r,n+r],["Z"]]},diamond:function t(e,n,r){return[["M",e-r,n],["L",e,n-r],["L",e+r,n],["L",e,n+r],["Z"]]},triangle:function t(e,n,r){var i=r*Math.sin(1/3*Math.PI);return[["M",e-r,n+i],["L",e,n-i],["L",e+r,n+i],["z"]]},"triangle-down":function t(e,n,r){var i=r*Math.sin(1/3*Math.PI);return[["M",e-r,n-i],["L",e+r,n-i],["L",e,n+i],["Z"]]}},lk.ATTRS={path:null,lineWidth:1},ik.extend(lk,ak),ik.augment(lk,{type:"marker",canFill:!0,canStroke:!0,getDefaultAttrs:function t(){return{x:0,y:0,lineWidth:1}},calculateBox:function t(){var e=this._attrs,n=e.x,r=e.y,i=e.radius,a,o=this.getHitLineWidth()/2+i;return{minX:n-o,minY:r-o,maxX:n+o,maxY:r+o}},_getPath:function t(){var e=this._attrs,n=e.x,r=e.y,i=e.radius||e.r,a=e.symbol||"circle",o;return(o=ik.isFunction(a)?a:lk.Symbols[a])?o(n,r,i):(console.warn(a+" marker is not supported."),null)},createPath:function t(e){var n=this._cfg.segments;if(!n||this._cfg.hasUpdate){var r=ok.parsePath(this._getPath()),i;e.beginPath(),n=[];for(var a=0;a<r.length;a++){var o=r[a];i=new sk(o,i,a===r.length-1),n.push(i),i.draw(e)}this._cfg.segments=n,this._cfg.hasUpdate=!1}else{e.beginPath();for(var s=0;s<n.length;s++)n[s].draw(e)}}});var uk=lk,ck=hC,hk="\t\n\v\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029",fk=new RegExp("([a-z])["+hk+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+hk+"]*,?["+hk+"]*)+)","ig"),pk=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+hk+"]*,?["+hk+"]*","ig"),dk=function t(e){if(!e)return null;if(typeof e==typeof[])return e;var n={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},r=[];return String(e).replace(fk,(function(t,e,i){var a=[],o=e.toLowerCase();if(i.replace(pk,(function(t,e){e&&a.push(+e)})),"m"===o&&a.length>2&&(r.push([e].concat(a.splice(0,2))),o="l",e="m"===e?"l":"L"),"o"===o&&1===a.length&&r.push([e,a[0]]),"r"===o)r.push([e].concat(a));else for(;a.length>=n[o]&&(r.push([e].concat(a.splice(0,n[o]))),n[o]););})),r},gk=function t(e,n){for(var r=[],i=0,a=e.length;a-2*!n>i;i+=2){var o=[{x:+e[i-2],y:+e[i-1]},{x:+e[i],y:+e[i+1]},{x:+e[i+2],y:+e[i+3]},{x:+e[i+4],y:+e[i+5]}];n?i?a-4===i?o[3]={x:+e[0],y:+e[1]}:a-2===i&&(o[2]={x:+e[0],y:+e[1]},o[3]={x:+e[2],y:+e[3]}):o[0]={x:+e[a-2],y:+e[a-1]}:a-4===i?o[3]=o[2]:i||(o[0]={x:+e[i],y:+e[i+1]}),r.push(["C",(-o[0].x+6*o[1].x+o[2].x)/6,(-o[0].y+6*o[1].y+o[2].y)/6,(o[1].x+6*o[2].x-o[3].x)/6,(o[1].y+6*o[2].y-o[3].y)/6,o[2].x,o[2].y])}return r},vk=function t(e,n,r,i,a){var o=[];if(null===a&&null===i&&(i=r),e=+e,n=+n,r=+r,i=+i,null!==a){var s=Math.PI/180,l=e+r*Math.cos(-i*s),u=e+r*Math.cos(-a*s),c,h;o=[["M",l,n+r*Math.sin(-i*s)],["A",r,r,0,+(a-i>180),0,u,n+r*Math.sin(-a*s)]]}else o=[["M",e,n],["m",0,-i],["a",r,i,0,1,1,0,2*i],["a",r,i,0,1,1,0,-2*i],["z"]];return o},mk=function t(e){if(!(e=dk(e))||!e.length)return[["M",0,0]];var n=[],r=0,i=0,a=0,o=0,s=0,l,u;"M"===e[0][0]&&(a=r=+e[0][1],o=i=+e[0][2],s++,n[0]=["M",r,i]);for(var c=3===e.length&&"M"===e[0][0]&&"R"===e[1][0].toUpperCase()&&"Z"===e[2][0].toUpperCase(),h,f,p=s,d=e.length;p<d;p++){if(n.push(h=[]),(l=(f=e[p])[0])!==l.toUpperCase())switch(h[0]=l.toUpperCase(),h[0]){case"A":h[1]=f[1],h[2]=f[2],h[3]=f[3],h[4]=f[4],h[5]=f[5],h[6]=+f[6]+r,h[7]=+f[7]+i;break;case"V":h[1]=+f[1]+i;break;case"H":h[1]=+f[1]+r;break;case"R":for(var g=2,v=(u=[r,i].concat(f.slice(1))).length;g<v;g++)u[g]=+u[g]+r,u[++g]=+u[g]+i;n.pop(),n=n.concat(gk(u,c));break;case"O":n.pop(),(u=vk(r,i,f[1],f[2])).push(u[0]),n=n.concat(u);break;case"U":n.pop(),n=n.concat(vk(r,i,f[1],f[2],f[3])),h=["U"].concat(n[n.length-1].slice(-2));break;case"M":a=+f[1]+r,o=+f[2]+i;break;default:for(var m=1,y=f.length;m<y;m++)h[m]=+f[m]+(m%2?r:i)}else if("R"===l)u=[r,i].concat(f.slice(1)),n.pop(),n=n.concat(gk(u,c)),h=["R"].concat(f.slice(-2));else if("O"===l)n.pop(),(u=vk(r,i,f[1],f[2])).push(u[0]),n=n.concat(u);else if("U"===l)n.pop(),n=n.concat(vk(r,i,f[1],f[2],f[3])),h=["U"].concat(n[n.length-1].slice(-2));else for(var x=0,_=f.length;x<_;x++)h[x]=f[x];if("O"!==(l=l.toUpperCase()))switch(h[0]){case"Z":r=+a,i=+o;break;case"H":r=h[1];break;case"V":i=h[1];break;case"M":a=h[h.length-2],o=h[h.length-1];break;default:r=h[h.length-2],i=h[h.length-1]}}return n},yk=function t(e,n,r,i){return[e,n,r,i,r,i]},xk=function t(e,n,r,i,a,o){var s=1/3,l=2/3;return[s*e+l*r,s*n+l*i,s*a+l*r,s*o+l*i,a,o]},_k=function t(e,n,r,i,a,o,s,l,u,c){r===i&&(r+=1);var h=120*Math.PI/180,f=Math.PI/180*(+a||0),p=[],d,g,v,m,y,x=function t(e,n,r){var i,a;return{x:e*Math.cos(r)-n*Math.sin(r),y:e*Math.sin(r)+n*Math.cos(r)}};if(c)g=c[0],v=c[1],m=c[2],y=c[3];else{e=(d=x(e,n,-f)).x,n=d.y,l=(d=x(l,u,-f)).x,u=d.y,e===l&&n===u&&(l+=1,u+=1);var _=(e-l)/2,b=(n-u)/2,w=_*_/(r*r)+b*b/(i*i);w>1&&(r*=w=Math.sqrt(w),i*=w);var S=r*r,M=i*i,C=(o===s?-1:1)*Math.sqrt(Math.abs((S*M-S*b*b-M*_*_)/(S*b*b+M*_*_)));m=C*r*b/i+(e+l)/2,y=C*-i*_/r+(n+u)/2,g=Math.asin(((n-y)/i).toFixed(9)),v=Math.asin(((u-y)/i).toFixed(9)),g=e<m?Math.PI-g:g,v=l<m?Math.PI-v:v,g<0&&(g=2*Math.PI+g),v<0&&(v=2*Math.PI+v),s&&g>v&&(g-=2*Math.PI),!s&&v>g&&(v-=2*Math.PI)}var A=v-g;if(Math.abs(A)>h){var P=v,k=l,T=u;v=g+h*(s&&v>g?1:-1),p=t(l=m+r*Math.cos(v),u=y+i*Math.sin(v),r,i,a,0,s,k,T,[v,P,m,y])}A=v-g;var I=Math.cos(g),E=Math.sin(g),O=Math.cos(v),L=Math.sin(v),D=Math.tan(A/4),F=4/3*r*D,B=4/3*i*D,R=[e,n],N=[e+F*E,n-B*I],j=[l+F*L,u-B*O],z=[l,u];if(N[0]=2*R[0]-N[0],N[1]=2*R[1]-N[1],c)return[N,j,z].concat(p);for(var Y=[],G=0,X=(p=[N,j,z].concat(p).join().split(",")).length;G<X;G++)Y[G]=G%2?x(p[G-1],p[G],f).y:x(p[G],p[G+1],f).x;return Y},bk=function t(e,n){var r=mk(e),i=n&&mk(n),a={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},o={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},s=[],l=[],u="",c="",h,f=function t(e,n,r){var i,a;if(!e)return["C",n.x,n.y,n.x,n.y,n.x,n.y];switch(!(e[0]in{T:1,Q:1})&&(n.qx=n.qy=null),e[0]){case"M":n.X=e[1],n.Y=e[2];break;case"A":e=["C"].concat(_k.apply(0,[n.x,n.y].concat(e.slice(1))));break;case"S":"C"===r||"S"===r?(i=2*n.x-n.bx,a=2*n.y-n.by):(i=n.x,a=n.y),e=["C",i,a].concat(e.slice(1));break;case"T":"Q"===r||"T"===r?(n.qx=2*n.x-n.qx,n.qy=2*n.y-n.qy):(n.qx=n.x,n.qy=n.y),e=["C"].concat(xk(n.x,n.y,n.qx,n.qy,e[1],e[2]));break;case"Q":n.qx=e[1],n.qy=e[2],e=["C"].concat(xk(n.x,n.y,e[1],e[2],e[3],e[4]));break;case"L":e=["C"].concat(yk(n.x,n.y,e[1],e[2]));break;case"H":e=["C"].concat(yk(n.x,n.y,e[1],n.y));break;case"V":e=["C"].concat(yk(n.x,n.y,n.x,e[1]));break;case"Z":e=["C"].concat(yk(n.x,n.y,n.X,n.Y))}return e},p=function t(e,n){if(e[n].length>7){e[n].shift();for(var a=e[n];a.length;)s[n]="A",i&&(l[n]="A"),e.splice(n++,0,["C"].concat(a.splice(0,6)));e.splice(n,1),h=Math.max(r.length,i&&i.length||0)}},d=function t(e,n,a,o,s){e&&n&&"M"===e[s][0]&&"M"!==n[s][0]&&(n.splice(s,0,["M",o.x,o.y]),a.bx=0,a.by=0,a.x=e[s][1],a.y=e[s][2],h=Math.max(r.length,i&&i.length||0))};h=Math.max(r.length,i&&i.length||0);for(var g=0;g<h;g++){r[g]&&(u=r[g][0]),"C"!==u&&(s[g]=u,g&&(c=s[g-1])),r[g]=f(r[g],a,c),"A"!==s[g]&&"C"===u&&(s[g]="C"),p(r,g),i&&(i[g]&&(u=i[g][0]),"C"!==u&&(l[g]=u,g&&(c=l[g-1])),i[g]=f(i[g],o,c),"A"!==l[g]&&"C"===u&&(l[g]="C"),p(i,g)),d(r,i,a,o,g),d(i,r,o,a,g);var v=r[g],m=i&&i[g],y=v.length,x=i&&m.length;a.x=v[y-2],a.y=v[y-1],a.bx=parseFloat(v[y-4])||a.x,a.by=parseFloat(v[y-3])||a.y,o.bx=i&&(parseFloat(m[x-4])||o.x),o.by=i&&(parseFloat(m[x-3])||o.y),o.x=i&&m[x-2],o.y=i&&m[x-1]}return i?[r,i]:r},wk=/,?([a-z]),?/gi,Sk=function t(e){return e.join(",").replace(wk,"$1")},Mk=function t(e,n,r,i,a){var o,s;return e*(e*(-3*n+9*r-9*i+3*a)+6*n-12*r+6*i)-3*n+3*r},Ck=function t(e,n,r,i,a,o,s,l,u){null===u&&(u=1);for(var c=(u=u>1?1:u<0?0:u)/2,h=12,f=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],p=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],d=0,g=0;g<h;g++){var v=c*f[g]+c,m=Mk(v,e,r,a,s),y=Mk(v,n,i,o,l),x=m*m+y*y;d+=p[g]*Math.sqrt(x)}return c*d},Ak=function t(e,n,r,i,a,o,s,l){for(var u=[],c=[[],[]],h,f,p,d,g=0;g<2;++g)if(0===g?(f=6*e-12*r+6*a,h=-3*e+9*r-9*a+3*s,p=3*r-3*e):(f=6*n-12*i+6*o,h=-3*n+9*i-9*o+3*l,p=3*i-3*n),Math.abs(h)<1e-12){if(Math.abs(f)<1e-12)continue;(d=-p/f)>0&&d<1&&u.push(d)}else{var v=f*f-4*p*h,m=Math.sqrt(v);if(!(v<0)){var y=(-f+m)/(2*h);y>0&&y<1&&u.push(y);var x=(-f-m)/(2*h);x>0&&x<1&&u.push(x)}}for(var _=u.length,b=_,w;_--;)w=1-(d=u[_]),c[0][_]=w*w*w*e+3*w*w*d*r+3*w*d*d*a+d*d*d*s,c[1][_]=w*w*w*n+3*w*w*d*i+3*w*d*d*o+d*d*d*l;return c[0][b]=e,c[1][b]=n,c[0][b+1]=s,c[1][b+1]=l,c[0].length=c[1].length=b+2,{min:{x:Math.min.apply(0,c[0]),y:Math.min.apply(0,c[1])},max:{x:Math.max.apply(0,c[0]),y:Math.max.apply(0,c[1])}}},Pk=function t(e,n,r,i,a,o,s,l){if(!(Math.max(e,r)<Math.min(a,s)||Math.min(e,r)>Math.max(a,s)||Math.max(n,i)<Math.min(o,l)||Math.min(n,i)>Math.max(o,l))){var u,c,h=(e-r)*(o-l)-(n-i)*(a-s);if(h){var f=((e*i-n*r)*(a-s)-(e-r)*(a*l-o*s))/h,p=((e*i-n*r)*(o-l)-(n-i)*(a*l-o*s))/h,d=+f.toFixed(2),g=+p.toFixed(2);if(!(d<+Math.min(e,r).toFixed(2)||d>+Math.max(e,r).toFixed(2)||d<+Math.min(a,s).toFixed(2)||d>+Math.max(a,s).toFixed(2)||g<+Math.min(n,i).toFixed(2)||g>+Math.max(n,i).toFixed(2)||g<+Math.min(o,l).toFixed(2)||g>+Math.max(o,l).toFixed(2)))return{x:f,y:p}}}},kk=function t(e,n,r){return n>=e.x&&n<=e.x+e.width&&r>=e.y&&r<=e.y+e.height},Tk=function t(e,n,r,i,a){if(a)return[["M",+e+ +a,n],["l",r-2*a,0],["a",a,a,0,0,1,a,a],["l",0,i-2*a],["a",a,a,0,0,1,-a,a],["l",2*a-r,0],["a",a,a,0,0,1,-a,-a],["l",0,2*a-i],["a",a,a,0,0,1,a,-a],["z"]];var o=[["M",e,n],["l",r,0],["l",0,i],["l",-r,0],["z"]];return o.parsePathArray=Sk,o},Ik=function t(e,n,r,i){return null===e&&(e=n=r=i=0),null===n&&(n=e.y,r=e.width,i=e.height,e=e.x),{x:e,y:n,width:r,w:r,height:i,h:i,x2:e+r,y2:n+i,cx:e+r/2,cy:n+i/2,r1:Math.min(r,i)/2,r2:Math.max(r,i)/2,r0:Math.sqrt(r*r+i*i)/2,path:Tk(e,n,r,i),vb:[e,n,r,i].join(" ")}},Ek=function t(e,n){return e=Ik(e),n=Ik(n),kk(n,e.x,e.y)||kk(n,e.x2,e.y)||kk(n,e.x,e.y2)||kk(n,e.x2,e.y2)||kk(e,n.x,n.y)||kk(e,n.x2,n.y)||kk(e,n.x,n.y2)||kk(e,n.x2,n.y2)||(e.x<n.x2&&e.x>n.x||n.x<e.x2&&n.x>e.x)&&(e.y<n.y2&&e.y>n.y||n.y<e.y2&&n.y>e.y)},Ok=function t(e,n,r,i,a,o,s,l){ck.isArray(e)||(e=[e,n,r,i,a,o,s,l]);var u=Ak.apply(null,e);return Ik(u.min.x,u.min.y,u.max.x-u.min.x,u.max.y-u.min.y)},Lk=function t(e,n,r,i,a,o,s,l,u){var c=1-u,h=Math.pow(c,3),f=Math.pow(c,2),p=u*u,d=p*u,g,v,m=e+2*u*(r-e)+p*(a-2*r+e),y=n+2*u*(i-n)+p*(o-2*i+n),x=r+2*u*(a-r)+p*(s-2*a+r),_=i+2*u*(o-i)+p*(l-2*o+i),b,w,S,M,C;return{x:h*e+3*f*u*r+3*c*u*u*a+d*s,y:h*n+3*f*u*i+3*c*u*u*o+d*l,m:{x:m,y:y},n:{x:x,y:_},start:{x:c*e+u*r,y:c*n+u*i},end:{x:c*a+u*s,y:c*o+u*l},alpha:90-180*Math.atan2(m-x,y-_)/Math.PI}},Dk=function t(e,n,r){var i=Ok(e),a=Ok(n);if(!Ek(i,a))return r?0:[];for(var o,s,l=~~(Ck.apply(0,e)/8),u=~~(Ck.apply(0,n)/8),c=[],h=[],f={},p=r?0:[],d=0;d<l+1;d++){var g=Lk.apply(0,e.concat(d/l));c.push({x:g.x,y:g.y,t:d/l})}for(var v=0;v<u+1;v++){var m=Lk.apply(0,n.concat(v/u));h.push({x:m.x,y:m.y,t:v/u})}for(var y=0;y<l;y++)for(var x=0;x<u;x++){var _=c[y],b=c[y+1],w=h[x],S=h[x+1],M=Math.abs(b.x-_.x)<.001?"y":"x",C=Math.abs(S.x-w.x)<.001?"y":"x",A=Pk(_.x,_.y,b.x,b.y,w.x,w.y,S.x,S.y);if(A){if(f[A.x.toFixed(4)]===A.y.toFixed(4))continue;f[A.x.toFixed(4)]=A.y.toFixed(4);var P=_.t+Math.abs((A[M]-_[M])/(b[M]-_[M]))*(b.t-_.t),k=w.t+Math.abs((A[C]-w[C])/(S[C]-w[C]))*(S.t-w.t);P>=0&&P<=1&&k>=0&&k<=1&&(r?p++:p.push({x:A.x,y:A.y,t1:P,t2:k}))}}return p},Fk=function t(e,n,r){var i,a,o,s,l,u,c,h,f,p;e=bk(e),n=bk(n);for(var d=r?0:[],g=0,v=e.length;g<v;g++){var m=e[g];if("M"===m[0])i=l=m[1],a=u=m[2];else{"C"===m[0]?(f=[i,a].concat(m.slice(1)),i=f[6],a=f[7]):(f=[i,a,i,a,l,u,l,u],i=l,a=u);for(var y=0,x=n.length;y<x;y++){var _=n[y];if("M"===_[0])o=c=_[1],s=h=_[2];else{"C"===_[0]?(p=[o,s].concat(_.slice(1)),o=p[6],s=p[7]):(p=[o,s,o,s,c,h,c,h],o=c,s=h);var b=Dk(f,p,r);if(r)d+=b;else{for(var w=0,S=b.length;w<S;w++)b[w].segment1=g,b[w].segment2=y,b[w].bez1=f,b[w].bez2=p;d=d.concat(b)}}}}}return d},Bk;function Rk(t,e){var n=[],r=[];function i(t,e){if(1===t.length)n.push(t[0]),r.push(t[0]);else{for(var a=[],o=0;o<t.length-1;o++)0===o&&n.push(t[0]),o===t.length-2&&r.push(t[o+1]),a[o]=[(1-e)*t[o][0]+e*t[o+1][0],(1-e)*t[o][1]+e*t[o+1][1]];i(a,e)}}return t.length&&i(t,e),{left:n,right:r.reverse()}}function Nk(t,e,n){var r=[[t[1],t[2]]];n=n||2;var i=[],a;"A"===e[0]?(r.push(e[6]),r.push(e[7])):"C"===e[0]?(r.push([e[1],e[2]]),r.push([e[3],e[4]]),r.push([e[5],e[6]])):"S"===e[0]||"Q"===e[0]?(r.push([e[1],e[2]]),r.push([e[3],e[4]])):r.push([e[1],e[2]]);for(var o=r,s=1/n,l=0;l<n-1;l++){var u,c=Rk(o,s/(1-s*l));i.push(c.left),o=c.right}return i.push(o),i.map((function(t){var e=[];return 4===t.length&&(e.push("C"),e=e.concat(t[2])),t.length>=3&&(3===t.length&&e.push("Q"),e=e.concat(t[1])),2===t.length&&e.push("L"),e=e.concat(t[t.length-1])}))}var jk=function t(e,n,r){if(1===r)return[[].concat(e)];var i=[];if("L"===n[0]||"C"===n[0]||"Q"===n[0])i=i.concat(Nk(e,n,r));else{var a=[].concat(e);"M"===a[0]&&(a[0]="L");for(var o=0;o<=r-1;o++)i.push(a)}return i},zk=function t(e,n){if(1===e.length)return e;var r=e.length-1,i=n.length-1,a=r/i,o=[];if(1===e.length&&"M"===e[0][0]){for(var s=0;s<i-r;s++)e.push(e[0]);return e}for(var l=0;l<i;l++){var u=Math.floor(a*l);o[u]=(o[u]||0)+1}var c=o.reduce((function(t,n,i){return i===r?t.concat(e[r]):t.concat(jk(e[i],e[i+1],n))}),[]);return c.unshift(e[0]),"Z"!==n[i]&&"z"!==n[i]||c.push("Z"),c},Yk=function t(e,n){if(e.length!==n.length)return!1;var r=!0;return ck.each(e,(function(t,e){if(t!==n[e])return r=!1,!1})),r};function Gk(t,e,n){var r=null,i=n;return e<i&&(i=e,r="add"),t<i&&(i=t,r="del"),{type:r,min:i}}var Xk=function t(e,n){var r=e.length,i=n.length,a,o,s=0;if(0===r||0===i)return null;for(var l=[],u=0;u<=r;u++)l[u]=[],l[u][0]={min:u};for(var c=0;c<=i;c++)l[0][c]={min:c};for(var h=1;h<=r;h++){a=e[h-1];for(var f=1;f<=i;f++){o=n[f-1],s=Yk(a,o)?0:1;var p=l[h-1][f].min+1,d=l[h][f-1].min+1,g=l[h-1][f-1].min+s;l[h][f]=Gk(p,d,g)}}return l},Vk=function t(e,n){var r=Xk(e,n),i=e.length,a=n.length,o=[],s=1,l=1;if(r[i][a]!==i){for(var u=1;u<=i;u++){var c=r[u][u].min;l=u;for(var h=s;h<=a;h++)r[u][h].min<c&&(c=r[u][h].min,l=h);s=l,r[u][s].type&&o.push({index:u-1,type:r[u][s].type})}for(var f=o.length-1;f>=0;f--)s=o[f].index,"add"===o[f].type?e.splice(s,0,[].concat(e[s])):e.splice(s,1)}var p=a-(i=e.length);if(i<a)for(var d=0;d<p;d++)"z"===e[i-1][0]||"Z"===e[i-1][0]?e.splice(i-2,0,e[i-2]):e.push(e[i-1]),i+=1;return e};function Hk(t,e,n){for(var r=[].concat(t),i,a=1/(n+1),o=Wk(e)[0],s=1;s<=n;s++)a*=s,0===(i=Math.floor(t.length*a))?r.unshift([o[0]*a+t[i][0]*(1-a),o[1]*a+t[i][1]*(1-a)]):r.splice(i,0,[o[0]*a+t[i][0]*(1-a),o[1]*a+t[i][1]*(1-a)]);return r}function Wk(t){var e=[];switch(t[0]){case"M":case"L":case"T":e.push([t[1],t[2]]);break;case"A":e.push([t[6],t[7]]);break;case"Q":case"S":e.push([t[3],t[4]]),e.push([t[1],t[2]]);break;case"C":e.push([t[5],t[6]]),e.push([t[1],t[2]]),e.push([t[3],t[4]]);break;case"H":case"V":e.push([t[1],t[1]])}return e}var qk=function t(e,n){if(e.length<=1)return e;for(var r,i=0;i<n.length;i++)if(e[i][0]!==n[i][0])switch(r=Wk(e[i]),n[i][0]){case"M":e[i]=["M"].concat(r[0]);break;case"L":e[i]=["L"].concat(r[0]);break;case"A":e[i]=[].concat(n[i]),e[i][6]=r[0][0],e[i][7]=r[0][1];break;case"Q":if(r.length<2){if(!(i>0)){e[i]=n[i];break}r=Hk(r,e[i-1],1)}e[i]=["Q"].concat(r.reduce((function(t,e){return t.concat(e)}),[]));break;case"T":e[i]=["T"].concat(r[0]);break;case"C":if(r.length<3){if(!(i>0)){e[i]=n[i];break}r=Hk(r,e[i-1],2)}e[i]=["C"].concat(r.reduce((function(t,e){return t.concat(e)}),[]));break;case"S":if(r.length<2){if(!(i>0)){e[i]=n[i];break}r=Hk(r,e[i-1],1)}e[i]=["S"].concat(r.reduce((function(t,e){return t.concat(e)}),[]));break;default:e[i]=n[i]}return e},Uk={parsePathString:dk,parsePathArray:Sk,pathTocurve:bk,pathToAbsolute:mk,catmullRomToBezier:gk,rectPath:Tk,fillPath:zk,fillPathByDiff:Vk,formatPath:qk,intersection:function t(e,n){return Fk(e,n)}},Zk=dC,Qk=XA,$k=cP,Jk=UA,Kk=wP,tT=Uk,eT=eA,nT=function t(e){t.superclass.constructor.call(this,e)};nT.ATTRS={path:null,lineWidth:1,startArrow:!1,endArrow:!1},Zk.extend(nT,Qk),Zk.augment(nT,{canFill:!0,canStroke:!0,type:"path",getDefaultAttrs:function t(){return{lineWidth:1,startArrow:!1,endArrow:!1}},_afterSetAttrPath:function t(e){var n=this;if(Zk.isNil(e))return n.setSilent("segments",null),void n.setSilent("box",void 0);var r=Jk.parsePath(e),i,a=[];if(Zk.isArray(r)&&0!==r.length&&("M"===r[0][0]||"m"===r[0][0])){for(var o=r.length,s=0;s<r.length;s++){var l=r[s];i=new $k(l,i,s===o-1),a.push(i)}n.setSilent("segments",a),n.setSilent("tCache",null),n.setSilent("box",null)}},calculateBox:function t(){var e,n=this.get("segments");if(!n)return null;var r=this.getHitLineWidth(),i=1/0,a=-1/0,o=1/0,s=-1/0;return Zk.each(n,(function(t){t.getBBox(r);var e=t.box;e&&(e.minX<i&&(i=e.minX),e.maxX>a&&(a=e.maxX),e.minY<o&&(o=e.minY),e.maxY>s&&(s=e.maxY))})),i===1/0||o===1/0?{minX:0,minY:0,maxX:0,maxY:0}:{minX:i,minY:o,maxX:a,maxY:s}},_setTcache:function t(){var e=0,n=0,r=[],i,a,o,s,l=this._cfg.curve;l&&(Zk.each(l,(function(t,n){o=l[n+1],s=t.length,o&&(e+=eT.len(t[s-2],t[s-1],o[1],o[2],o[3],o[4],o[5],o[6]))})),Zk.each(l,(function(t,u){o=l[u+1],s=t.length,o&&((i=[])[0]=n/e,a=eT.len(t[s-2],t[s-1],o[1],o[2],o[3],o[4],o[5],o[6]),n+=a,i[1]=n/e,r.push(i))})),this._cfg.tCache=r)},_calculateCurve:function t(){var e,n,r=this._attrs.path;this._cfg.curve=tT.pathTocurve(r)},getStartTangent:function t(){var e=this.get("segments"),n,r,i,a;if(e.length>1)if(n=e[0].endPoint,r=e[1].endPoint,i=e[1].startTangent,a=[],Zk.isFunction(i)){var o=i();a.push([n.x-o[0],n.y-o[1]]),a.push([n.x,n.y])}else a.push([r.x,r.y]),a.push([n.x,n.y]);return a},getEndTangent:function t(){var e=this.get("segments"),n=e.length,r,i,a,o;if(n>1)if(r=e[n-2].endPoint,i=e[n-1].endPoint,a=e[n-1].endTangent,o=[],Zk.isFunction(a)){var s=a();o.push([i.x-s[0],i.y-s[1]]),o.push([i.x,i.y])}else o.push([r.x,r.y]),o.push([i.x,i.y]);return o},getPoint:function t(e){var n=this._cfg.tCache,r,i;n||(this._calculateCurve(),this._setTcache(),n=this._cfg.tCache);var a=this._cfg.curve;if(!n)return a?{x:a[0][1],y:a[0][2]}:null;Zk.each(n,(function(t,n){e>=t[0]&&e<=t[1]&&(r=(e-t[0])/(t[1]-t[0]),i=n)}));var o=a[i];if(Zk.isNil(o)||Zk.isNil(i))return null;var s=o.length,l=a[i+1];return{x:eT.at(o[s-2],l[1],l[3],l[5],1-r),y:eT.at(o[s-1],l[2],l[4],l[6],1-r)}},createPath:function t(e){var n=this,r=n.get("segments");if(Zk.isArray(r)){(e=e||n.get("context")).beginPath();for(var i=r.length,a=0;a<i;a++)r[a].draw(e)}},afterPath:function t(e){var n=this,r=n._attrs,i=n.get("segments"),a=r.path;if(e=e||n.get("context"),Zk.isArray(i)&&1!==i.length&&(r.startArrow||r.endArrow)&&"z"!==a[a.length-1]&&"Z"!==a[a.length-1]&&!r.fill){var o=n.getStartTangent();Kk.addStartArrow(e,r,o[0][0],o[0][1],o[1][0],o[1][1]);var s=n.getEndTangent();Kk.addEndArrow(e,r,s[0][0],s[0][1],s[1][0],s[1][1])}}});var rT=nT,iT=dC,aT=XA,oT=function t(e){t.superclass.constructor.call(this,e)};oT.ATTRS={points:null,lineWidth:1},iT.extend(oT,aT),iT.augment(oT,{canFill:!0,canStroke:!0,type:"polygon",getDefaultAttrs:function t(){return{lineWidth:1}},calculateBox:function t(){var e,n,r=this._attrs.points,i=this.getHitLineWidth();if(!r||0===r.length)return null;var a=1/0,o=1/0,s=-1/0,l=-1/0;iT.each(r,(function(t){var e=t[0],n=t[1];e<a&&(a=e),e>s&&(s=e),n<o&&(o=n),n>l&&(l=n)}));var u=i/2;return{minX:a-u,minY:o-u,maxX:s+u,maxY:l+u}},createPath:function t(e){var n=this,r,i=n._attrs.points;i.length<2||((e=e||n.get("context")).beginPath(),iT.each(i,(function(t,n){0===n?e.moveTo(t[0],t[1]):e.lineTo(t[0],t[1])})),e.closePath())}});var sT=oT,lT=dC,uT=XA,cT=wP,hT=zC,fT=function t(e){t.superclass.constructor.call(this,e)};fT.ATTRS={points:null,lineWidth:1,startArrow:!1,endArrow:!1,tCache:null},lT.extend(fT,uT),lT.augment(fT,{canStroke:!0,type:"polyline",tCache:null,getDefaultAttrs:function t(){return{lineWidth:1,startArrow:!1,endArrow:!1}},calculateBox:function t(){var e,n=this._attrs,r=this.getHitLineWidth(),i=n.points;if(!i||0===i.length)return null;var a=1/0,o=1/0,s=-1/0,l=-1/0;lT.each(i,(function(t){var e=t[0],n=t[1];e<a&&(a=e),e>s&&(s=e),n<o&&(o=n),n>l&&(l=n)}));var u=r/2;return{minX:a-u,minY:o-u,maxX:s+u,maxY:l+u}},_setTcache:function t(){var e,n,r=this._attrs.points,i=0,a=0,o=[],s,l;r&&0!==r.length&&(lT.each(r,(function(t,e){r[e+1]&&(i+=hT.len(t[0],t[1],r[e+1][0],r[e+1][1]))})),i<=0||(lT.each(r,(function(t,e){r[e+1]&&((s=[])[0]=a/i,l=hT.len(t[0],t[1],r[e+1][0],r[e+1][1]),a+=l,s[1]=a/i,o.push(s))})),this.tCache=o))},createPath:function t(e){var n=this,r,i=n._attrs.points,a,o;if(!(i.length<2)){for((e=e||n.get("context")).beginPath(),e.moveTo(i[0][0],i[0][1]),o=1,a=i.length-1;o<a;o++)e.lineTo(i[o][0],i[o][1]);e.lineTo(i[a][0],i[a][1])}},getStartTangent:function t(){var e=this.__attrs.points,n=[];return n.push([e[1][0],e[1][1]]),n.push([e[0][0],e[0][1]]),n},getEndTangent:function t(){var e=this.__attrs.points,n=e.length-1,r=[];return r.push([e[n-1][0],e[n-1][1]]),r.push([e[n][0],e[n][1]]),r},afterPath:function t(e){var n=this,r=n._attrs,i=r.points,a=i.length-1;e=e||n.get("context"),r.startArrow&&cT.addStartArrow(e,r,i[1][0],i[1][1],i[0][0],i[0][1]),r.endArrow&&cT.addEndArrow(e,r,i[a-1][0],i[a-1][1],i[a][0],i[a][1])},getPoint:function t(e){var n,r=this._attrs.points,i=this.tCache,a,o;return i||(this._setTcache(),i=this.tCache),lT.each(i,(function(t,n){e>=t[0]&&e<=t[1]&&(a=(e-t[0])/(t[1]-t[0]),o=n)})),{x:hT.at(r[o][0],r[o+1][0],a),y:hT.at(r[o][1],r[o+1][1],a)}}});var pT=fT,dT=dC,gT,vT=UA.parseRadius,mT=XA,yT=function t(e){t.superclass.constructor.call(this,e)};yT.ATTRS={x:0,y:0,width:0,height:0,radius:0,lineWidth:1},dT.extend(yT,mT),dT.augment(yT,{canFill:!0,canStroke:!0,type:"rect",getDefaultAttrs:function t(){return{lineWidth:1,radius:0}},calculateBox:function t(){var e,n=this._attrs,r=n.x,i=n.y,a=n.width,o=n.height,s,l=this.getHitLineWidth()/2;return{minX:r-l,minY:i-l,maxX:r+a+l,maxY:i+o+l}},createPath:function t(e){var n=this,r=n._attrs,i=r.x,a=r.y,o=r.width,s=r.height,l=r.radius;if((e=e||n.get("context")).beginPath(),0===l)e.rect(i,a,o,s);else{var u=vT(l);e.moveTo(i+u.r1,a),e.lineTo(i+o-u.r2,a),0!==u.r2&&e.arc(i+o-u.r2,a+u.r2,u.r2,-Math.PI/2,0),e.lineTo(i+o,a+s-u.r3),0!==u.r3&&e.arc(i+o-u.r3,a+s-u.r3,u.r3,0,Math.PI/2),e.lineTo(i+u.r4,a+s),0!==u.r4&&e.arc(i+u.r4,a+s-u.r4,u.r4,Math.PI/2,Math.PI),e.lineTo(i,a+u.r1),0!==u.r1&&e.arc(i+u.r1,a+u.r1,u.r1,Math.PI,1.5*Math.PI),e.closePath()}}});var xT=yT,_T=dC,bT=XA,wT=function t(e){t.superclass.constructor.call(this,e)};wT.ATTRS={x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom",lineHeight:null,textArr:null},_T.extend(wT,bT),_T.augment(wT,{canFill:!0,canStroke:!0,type:"text",getDefaultAttrs:function t(){return{lineWidth:1,lineCount:1,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"}},initTransform:function t(){var e=this._attrs.fontSize;e&&+e<12&&this.transform([["t",-1*this._attrs.x,-1*this._attrs.y],["s",+e/12,+e/12],["t",this._attrs.x,this._attrs.y]])},_assembleFont:function t(){var e=this._attrs,n=e.fontSize,r=e.fontFamily,i=e.fontWeight,a=e.fontStyle,o=e.fontVariant;e.font=[a,o,i,n+"px",r].join(" ")},_setAttrText:function t(){var e=this._attrs,n=e.text,r=null;if(_T.isString(n)&&-1!==n.indexOf("\n")){var i=(r=n.split("\n")).length;e.lineCount=i}e.textArr=r},_getTextHeight:function t(){var e=this._attrs,n=e.lineCount,r=1*e.fontSize,i;return n>1?r*n+this._getSpaceingY()*(n-1):r},isHitBox:function t(){return!1},calculateBox:function t(){var e=this,n=e._attrs,r=this._cfg;r.attrs&&!r.hasUpdate||(this._assembleFont(),this._setAttrText()),n.textArr||this._setAttrText();var i=n.x,a=n.y,o=e.measureText();if(!o)return{minX:i,minY:a,maxX:i,maxY:a};var s=e._getTextHeight(),l=n.textAlign,u=n.textBaseline,c=e.getHitLineWidth(),h={x:i,y:a-s};l&&("end"===l||"right"===l?h.x-=o:"center"===l&&(h.x-=o/2)),u&&("top"===u?h.y+=s:"middle"===u&&(h.y+=s/2)),this.set("startPoint",h);var f=c/2;return{minX:h.x-f,minY:h.y-f,maxX:h.x+o+f,maxY:h.y+s+f}},_getSpaceingY:function t(){var e=this._attrs,n=e.lineHeight,r=1*e.fontSize;return n?n-r:.14*r},drawInner:function t(e){var n=this,r=n._attrs,i=this._cfg;i.attrs&&!i.hasUpdate||(this._assembleFont(),this._setAttrText()),e.font=r.font;var a=r.text;if(a){var o=r.textArr,s=r.x,l=r.y;if(e.beginPath(),n.hasStroke()){var u=r.strokeOpacity;_T.isNil(u)||1===u||(e.globalAlpha=u),o?n._drawTextArr(e,!1):e.strokeText(a,s,l),e.globalAlpha=1}if(n.hasFill()){var c=r.fillOpacity;_T.isNil(c)||1===c||(e.globalAlpha=c),o?n._drawTextArr(e,!0):e.fillText(a,s,l)}i.hasUpdate=!1}},_drawTextArr:function t(e,n){var r=this._attrs.textArr,i=this._attrs.textBaseline,a=1*this._attrs.fontSize,o=this._getSpaceingY(),s=this._attrs.x,l=this._attrs.y,u=this.getBBox(),c=u.maxY-u.minY,h;_T.each(r,(function(t,r){h=l+r*(o+a)-c+a,"middle"===i&&(h+=c-a-(c-a)/2),"top"===i&&(h+=c-a),n?e.fillText(t,s,h):e.strokeText(t,s,h)}))},measureText:function t(){var e,n=this._attrs,r=n.text,i=n.font,a=n.textArr,o,s=0;if(!_T.isNil(r)){var l=document.createElement("canvas").getContext("2d");return l.save(),l.font=i,a?_T.each(a,(function(t){o=l.measureText(t).width,s<o&&(s=o),l.restore()})):(s=l.measureText(r).width,l.restore()),s}}});var ST=wT,MT=XA;MT.Arc=IP,MT.Circle=DP,MT.Dom=NP,MT.Ellipse=GP,MT.Fan=qP,MT.Image=$P,MT.Line=rk,MT.Marker=uk,MT.Path=rT,MT.Polygon=sT,MT.Polyline=pT,MT.Rect=xT,MT.Text=ST;var CT,AT=dC,PT=NC,kT=MT,TT={},IT="_INDEX";function ET(t){return function(e,n){var r=t(e,n);return 0===r?e._INDEX-n._INDEX:r}}function OT(t,e,n){for(var r,i=t.length-1;i>=0;i--){var a=t[i];if(a._cfg.visible&&a._cfg.capture&&(a.isGroup?r=a.getShape(e,n):a.isHit(e,n)&&(r=a)),r)break}return r}var LT=function t(e){t.superclass.constructor.call(this,e),this.set("children",[]),this.set("tobeRemoved",[]),this._beforeRenderUI(),this._renderUI(),this._bindUI()};function DT(t){if(!t._cfg&&t!==LT){var e=t.superclass.constructor;e&&!e._cfg&&DT(e),t._cfg={},AT.merge(t._cfg,e._cfg),AT.merge(t._cfg,t.CFG)}}AT.extend(LT,PT),AT.augment(LT,{isGroup:!0,type:"group",canFill:!0,canStroke:!0,getDefaultCfg:function t(){return DT(this.constructor),AT.merge({},this.constructor._cfg)},_beforeRenderUI:function t(){},_renderUI:function t(){},_bindUI:function t(){},addShape:function t(e,n){var r=this.get("canvas");n=n||{};var i=TT[e];if(i||(i=AT.upperFirst(e),TT[e]=i),n.attrs&&r){var a=n.attrs;if("text"===e){var o=r.get("fontFamily");o&&(a.fontFamily=a.fontFamily?a.fontFamily:o)}}n.canvas=r,n.type=e;var s=new kT[i](n);return this.add(s),s},addGroup:function t(e,n){var r=this.get("canvas"),i;if(n=AT.merge({},n),AT.isFunction(e))n?(n.canvas=r,n.parent=this,i=new e(n)):i=new e({canvas:r,parent:this}),this.add(i);else if(AT.isObject(e))e.canvas=r,i=new LT(e),this.add(i);else{if(void 0!==e)return!1;i=new LT,this.add(i)}return i},renderBack:function t(e,n){var r=this.get("backShape"),i=this.getBBox();return AT.merge(n,{x:i.minX-e[3],y:i.minY-e[0],width:i.width+e[1]+e[3],height:i.height+e[0]+e[2]}),r?r.attr(n):r=this.addShape("rect",{zIndex:-1,attrs:n}),this.set("backShape",r),this.sort(),r},removeChild:function t(e,n){if(arguments.length>=2)this.contain(e)&&e.remove(n);else{if(1===arguments.length){if(!AT.isBoolean(e))return this.contain(e)&&e.remove(!0),this;n=e}0===arguments.length&&(n=!0),LT.superclass.remove.call(this,n)}return this},add:function t(e){var n=this,r=n.get("children");if(AT.isArray(e))AT.each(e,(function(t){var e=t.get("parent");e&&e.removeChild(t,!1),n._setCfgProperty(t)})),n._cfg.children=r.concat(e);else{var i=e,a=i.get("parent");a&&a.removeChild(i,!1),n._setCfgProperty(i),r.push(i)}return n},_setCfgProperty:function t(e){var n=this._cfg;e.set("parent",this),e.set("canvas",n.canvas),n.timeline&&e.set("timeline",n.timeline)},contain:function t(e){var n;return this.get("children").indexOf(e)>-1},getChildByIndex:function t(e){var n;return this.get("children")[e]},getFirst:function t(){return this.getChildByIndex(0)},getLast:function t(){var e=this.get("children").length-1;return this.getChildByIndex(e)},getBBox:function t(){var e,n=1/0,r=-1/0,i=1/0,a=-1/0,o=this.get("children");o.length>0?AT.each(o,(function(t){if(t.get("visible")){if(t.isGroup&&0===t.get("children").length)return;var e=t.getBBox();if(!e)return!0;var o=[e.minX,e.minY,1],s=[e.minX,e.maxY,1],l=[e.maxX,e.minY,1],u=[e.maxX,e.maxY,1];t.apply(o),t.apply(s),t.apply(l),t.apply(u);var c=Math.min(o[0],s[0],l[0],u[0]),h=Math.max(o[0],s[0],l[0],u[0]),f=Math.min(o[1],s[1],l[1],u[1]),p=Math.max(o[1],s[1],l[1],u[1]);c<n&&(n=c),h>r&&(r=h),f<i&&(i=f),p>a&&(a=p)}})):(n=0,r=0,i=0,a=0);var s={minX:n,minY:i,maxX:r,maxY:a};return s.x=s.minX,s.y=s.minY,s.width=s.maxX-s.minX,s.height=s.maxY-s.minY,s},getCount:function t(){return this.get("children").length},sort:function t(){var e=this.get("children");return AT.each(e,(function(t,e){return t._INDEX=e,t})),e.sort(ET((function(t,e){return t.get("zIndex")-e.get("zIndex")}))),this},findById:function t(e){return this.find((function(t){return t.get("id")===e}))},find:function t(e){if(AT.isString(e))return this.findById(e);var n=this.get("children"),r=null;return AT.each(n,(function(t){if(e(t)?r=t:t.find&&(r=t.find(e)),r)return!1})),r},findAll:function t(e){var n=this.get("children"),r=[],i=[];return AT.each(n,(function(t){e(t)&&r.push(t),t.findAllBy&&(i=t.findAllBy(e),r=r.concat(i))})),r},findBy:function t(e){var n=this.get("children"),r=null;return AT.each(n,(function(t){if(e(t)?r=t:t.findBy&&(r=t.findBy(e)),r)return!1})),r},findAllBy:function t(e){var n=this.get("children"),r=[],i=[];return AT.each(n,(function(t){e(t)&&r.push(t),t.findAllBy&&(i=t.findAllBy(e),r=r.concat(i))})),r},getShape:function t(e,n){var r=this,i=r._attrs.clip,a=r._cfg.children,o;if(i){var s=[e,n,1];i.invert(s,r.get("canvas")),i.isPointInPath(s[0],s[1])&&(o=OT(a,e,n))}else o=OT(a,e,n);return o},clearTotalMatrix:function t(){var e;if(this.get("totalMatrix")){this.setSilent("totalMatrix",null);for(var n=this._cfg.children,r=0;r<n.length;r++){var i;n[r].clearTotalMatrix()}}},clear:function t(e){for(var n=this._cfg.children,r=n.length-1;r>=0;r--)n[r].remove(!0,e);return this._cfg.children=[],this},destroy:function t(){this.get("destroyed")||(this.clear(),LT.superclass.destroy.call(this))},clone:function t(){var e,n=this._cfg.children,r=new LT;return AT.each(n,(function(t){r.add(t.clone())})),r}});var FT=LT,BT=dC,RT=Uk,NT=lf,jT=np,zT=vg,YT=zT.interpolate,GT=zT.interpolateArray,XT=function t(e){this._animators=[],this._current=0,this._timer=null,this.canvas=e};function VT(t,e,n){var r={},i=e.toAttrs,a=e.fromAttrs,o=e.toMatrix;if(!t.get("destroyed")){var s;for(var l in i)if(!BT.isEqual(a[l],i[l]))if("path"===l){var u=i[l],c=a[l];u.length>c.length?(u=RT.parsePathString(i[l]),c=RT.parsePathString(a[l]),c=RT.fillPathByDiff(c,u),c=RT.formatPath(c,u),e.fromAttrs.path=c,e.toAttrs.path=u):e.pathFormatted||(u=RT.parsePathString(i[l]),c=RT.parsePathString(a[l]),c=RT.formatPath(c,u),e.fromAttrs.path=c,e.toAttrs.path=u,e.pathFormatted=!0),r[l]=[];for(var h=0;h<u.length;h++){for(var f=u[h],p=c[h],d=[],g=0;g<f.length;g++)BT.isNumber(f[g])&&p&&BT.isNumber(p[g])?(s=YT(p[g],f[g]),d.push(s(n))):d.push(f[g]);r[l].push(d)}}else s=YT(a[l],i[l]),r[l]=s(n);if(o){var v,m=GT(e.fromMatrix,o)(n);t.setMatrix(m)}t.attr(r)}}function HT(t,e,n){var r=e.startTime,i;if(n<r+e.delay||e.isPaused)return!1;var a=e.duration,o=e.easing;if(n=n-r-e.delay,e.toAttrs.repeat)i=n%a/a,i=jT[o](i);else{if(!((i=n/a)<1))return t.attr(e.toAttrs),e.toMatrix&&t.setMatrix(e.toMatrix),!0;i=jT[o](i)}return VT(t,e,i),!1}BT.augment(XT,{initTimer:function t(){var e=this,n=this,r=!1,i,a,o;n._timer=NT.timer((function(t){if(n._current=t,e._animators.length>0){for(var s=e._animators.length-1;s>=0;s--)if((i=e._animators[s]).get("destroyed"))n.removeAnimator(s);else{if(!i.get("pause").isPaused)for(var l=(a=i.get("animators")).length-1;l>=0;l--)o=a[l],(r=HT(i,o,t))&&(a.splice(l,1),r=!1,o.callback&&o.callback());0===a.length&&n.removeAnimator(s)}e.canvas.draw()}}))},addAnimator:function t(e){this._animators.push(e)},removeAnimator:function t(e){this._animators.splice(e,1)},isAnimating:function t(){return!!this._animators.length},stop:function t(){this._timer&&this._timer.stop()},stopAllAnimations:function t(){this._animators.forEach((function(t){t.stopAnimate()})),this._animators=[],this.canvas.draw()},getTime:function t(){return this._current}});var WT=XT,qT=dC,UT=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,ZT=/[^\s\,]+/gi,QT=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,$T=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,JT=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,KT=/[\d.]+:(#[^\s]+|[^\)]+\))/gi,tI={};function eI(t,e){var n=t.match(KT);qT.each(n,(function(t){t=t.split(":"),e.addColorStop(t[0],t[1])}))}function nI(t,e,n){var r=QT.exec(t),i=qT.mod(qT.toRadian(parseFloat(r[1])),2*Math.PI),a=r[2],o=e.getBBox(),s,l;i>=0&&i<.5*Math.PI?(s={x:o.minX,y:o.minY},l={x:o.maxX,y:o.maxY}):.5*Math.PI<=i&&i<Math.PI?(s={x:o.maxX,y:o.minY},l={x:o.minX,y:o.maxY}):Math.PI<=i&&i<1.5*Math.PI?(s={x:o.maxX,y:o.maxY},l={x:o.minX,y:o.minY}):(s={x:o.minX,y:o.maxY},l={x:o.maxX,y:o.minY});var u=Math.tan(i),c=u*u,h=(l.x-s.x+u*(l.y-s.y))/(c+1)+s.x,f=u*(l.x-s.x+u*(l.y-s.y))/(c+1)+s.y,p=n.createLinearGradient(s.x,s.y,h,f);return eI(a,p),p}function rI(t,e,n){var r=$T.exec(t),i=parseFloat(r[1]),a=parseFloat(r[2]),o=parseFloat(r[3]),s=r[4];if(0===o){var l=s.match(KT);return l[l.length-1].split(":")[1]}var u=e.getBBox(),c=u.maxX-u.minX,h=u.maxY-u.minY,f=Math.sqrt(c*c+h*h)/2,p=n.createRadialGradient(u.minX+c*i,u.minY+h*a,o*f,u.minX+c/2,u.minY+h/2,f);return eI(s,p),p}function iI(t,e,n){if(e.get("patternSource")&&e.get("patternSource")===t)return e.get("pattern");var r,i,a=JT.exec(t),o=a[1],s=a[2];function l(){r=n.createPattern(i,o),e.setSilent("pattern",r),e.setSilent("patternSource",t)}switch(o){case"a":o="repeat";break;case"x":o="repeat-x";break;case"y":o="repeat-y";break;default:o="no-repeat"}return i=new Image,s.match(/^data:/i)||(i.crossOrigin="Anonymous"),i.src=s,i.complete?l():(i.onload=l,i.src=i.src),r}var aI={parsePath:function t(e){return e=e||[],qT.isArray(e)?e:qT.isString(e)?(e=e.match(UT),qT.each(e,(function(t,n){if((t=t.match(ZT))[0].length>1){var r=t[0].charAt(0);t.splice(1,0,t[0].substr(1)),t[0]=r}qT.each(t,(function(e,n){isNaN(e)||(t[n]=+e)})),e[n]=t})),e):void 0},parseStyle:function t(e,n,r){if(qT.isString(e)){if("("===e[1]||"("===e[2]){if("l"===e[0])return nI(e,n,r);if("r"===e[0])return rI(e,n,r);if("p"===e[0])return iI(e,n,r)}return e}},numberToColor:function t(e){var n=tI[e];if(!n){for(var r=e.toString(16),i=r.length;i<6;i++)r="0"+r;n="#"+r,tI[e]=n}return n}},oI=dC,sI=aI,lI=["fillStyle","font","globalAlpha","lineCap","lineWidth","lineJoin","miterLimit","shadowBlur","shadowColor","shadowOffsetX","shadowOffsetY","strokeStyle","textAlign","textBaseline","lineDash","lineDashOffset"],uI=function(){function t(t){if(!t)return null;var e=oI.uniqueId("canvas_"),n=oI.createDom('<canvas id="'+e+'"></canvas>');return t.appendChild(n),this.type="canvas",this.canvas=n,this.context=n.getContext("2d"),this.toDraw=!1,this}var e=t.prototype;return e.beforeDraw=function t(){var e=this.canvas;this.context&&this.context.clearRect(0,0,e.width,e.height)},e.draw=function t(e){var n=this;function r(){n.animateHandler=oI.requestAnimationFrame((function(){n.animateHandler=void 0,n.toDraw&&r()})),n.beforeDraw();try{n._drawGroup(e)}catch(t){console.warn("error in draw canvas, detail as:"),console.warn(t),n.toDraw=!1}n.toDraw=!1}n.animateHandler?n.toDraw=!0:r()},e.drawSync=function t(e){this.beforeDraw(),this._drawGroup(e)},e._drawGroup=function t(e){if(!e._cfg.removed&&!e._cfg.destroyed&&e._cfg.visible){var n=this,r=e._cfg.children,i=null;this.setContext(e);for(var a=0;a<r.length;a++)i=r[a],r[a].isGroup?n._drawGroup(i):n._drawShape(i);this.restoreContext(e)}},e._drawShape=function t(e){e._cfg.removed||e._cfg.destroyed||!e._cfg.visible||(this.setContext(e),e.drawInner(this.context),this.restoreContext(e),e._cfg.attrs=e._attrs,e._cfg.hasUpdate=!1)},e.setContext=function t(e){var n=this.context,r=e._attrs.clip;n.save(),r&&(r.resetTransform(n),r.createPath(n),n.clip()),this.resetContext(e),e.resetTransform(n)},e.restoreContext=function t(){this.context.restore()},e.resetContext=function t(e){var n=this.context,r=e._attrs;if(!e.isGroup)for(var i in r)if(lI.indexOf(i)>-1){var a=r[i];"fillStyle"===i&&(a=sI.parseStyle(a,e,n)),"strokeStyle"===i&&(a=sI.parseStyle(a,e,n)),"lineDash"===i&&n.setLineDash?oI.isArray(a)?n.setLineDash(a):oI.isString(a)&&n.setLineDash(a.split(" ")):n[i]=a}},t}(),cI,hI={painter:uI},fI=dC,pI=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,dI=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,gI=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function vI(t){var e=t.match(gI);if(!e)return"";var n="";return e.sort((function(t,e){return t=t.split(":"),e=e.split(":"),Number(t[0])-Number(e[0])})),fI.each(e,(function(t){t=t.split(":"),n+='<stop offset="'+t[0]+'" stop-color="'+t[1]+'"></stop>'})),n}function mI(t,e){var n=pI.exec(t),r=fI.mod(fI.toRadian(parseFloat(n[1])),2*Math.PI),i=n[2],a,o;r>=0&&r<.5*Math.PI?(a={x:0,y:0},o={x:1,y:1}):.5*Math.PI<=r&&r<Math.PI?(a={x:1,y:0},o={x:0,y:1}):Math.PI<=r&&r<1.5*Math.PI?(a={x:1,y:1},o={x:0,y:0}):(a={x:0,y:1},o={x:1,y:0});var s=Math.tan(r),l=s*s,u=(o.x-a.x+s*(o.y-a.y))/(l+1)+a.x,c=s*(o.x-a.x+s*(o.y-a.y))/(l+1)+a.y;e.setAttribute("x1",a.x),e.setAttribute("y1",a.y),e.setAttribute("x2",u),e.setAttribute("y2",c),e.innerHTML=vI(i)}function yI(t,e){var n=dI.exec(t),r=parseFloat(n[1]),i=parseFloat(n[2]),a=parseFloat(n[3]),o=n[4];e.setAttribute("cx",r),e.setAttribute("cy",i),e.setAttribute("r",a),e.innerHTML=vI(o)}var xI,_I=function(){function t(t){var e=null,n=fI.uniqueId("gradient_");return"l"===t.toLowerCase()[0]?mI(t,e=document.createElementNS("http://www.w3.org/2000/svg","linearGradient")):yI(t,e=document.createElementNS("http://www.w3.org/2000/svg","radialGradient")),e.setAttribute("id",n),this.el=e,this.id=n,this.cfg=t,this}var e;return t.prototype.match=function t(e,n){return this.cfg===n},t}(),bI=dC,wI={shadowColor:"color",shadowOpacity:"opacity",shadowBlur:"blur",shadowOffsetX:"dx",shadowOffsetY:"dy"},SI={x:"-40%",y:"-40%",width:"200%",height:"200%"},MI=function(){function t(t){this.type="filter";var e=document.createElementNS("http://www.w3.org/2000/svg","filter");return bI.each(SI,(function(t,n){e.setAttribute(n,t)})),this.el=e,this.id=bI.uniqueId("filter_"),this.el.id=this.id,this.cfg=t,this._parseShadow(t,e),this}var e=t.prototype;return e.match=function t(e,n){if(this.type!==e)return!1;var r=!0,i=this.cfg;return bI.each(Object.keys(i),(function(t){if(i[t]!==n[t])return r=!1,!1})),r},e.update=function t(e,n){var r=this.cfg;return r[wI[e]]=n,this._parseShadow(r,this.el),this},e._parseShadow=function t(e,n){var r='<feDropShadow \n      dx="'+(e.dx||0)+'" \n      dy="'+(e.dy||0)+'" \n      stdDeviation="'+(e.blur?e.blur/10:0)+'"\n      flood-color="'+(e.color?e.color:"#000")+'"\n      flood-opacity="'+(e.opacity?e.opacity:1)+'"\n      />';n.innerHTML=r},t}(),CI,AI=dC,PI,kI,TI=dC,II,EI,OI=dC,LI=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,DI,FI,BI=dC,RI=_I,NI=MI,jI=function(){function t(t,e){var n=document.createElementNS("http://www.w3.org/2000/svg","marker"),r=AI.uniqueId("marker_");n.setAttribute("id",r);var i=document.createElementNS("http://www.w3.org/2000/svg","path");return i.setAttribute("stroke","none"),i.setAttribute("fill",t.stroke||"#000"),n.appendChild(i),n.setAttribute("overflow","visible"),n.setAttribute("orient","auto-start-reverse"),this.el=n,this.child=i,this.id=r,this.cfg=t["marker-start"===e?"startArrow":"endArrow"],this.stroke=t.stroke||"#000",!0===this.cfg?this._setDefaultPath(e,i):this._setMarker(t.lineWidth,i),this}var e=t.prototype;return e.match=function t(){return!1},e._setDefaultPath=function t(e,n){var r=this.el;n.setAttribute("d","M0,0 L6,3 L0,6 L3,3Z"),r.setAttribute("refX",3),r.setAttribute("refY",3)},e._setMarker=function t(e,n){var r=this.el,i=this.cfg.path,a=this.cfg.d;AI.isArray(i)&&(i=i.map((function(t){return t.join(" ")})).join("")),n.setAttribute("d",i),r.appendChild(n),a&&r.setAttribute("refX",a/e)},e.update=function t(e){var n=this.child;n.attr?n.attr("fill",e):n.setAttribute("fill",e)},t}(),zI=function(){function t(t){this.type="clip";var e=document.createElementNS("http://www.w3.org/2000/svg","clipPath");this.el=e,this.id=TI.uniqueId("clip_"),e.id=this.id;var n=t._cfg.el;return e.appendChild(n.cloneNode(!0)),this.cfg=t,this}var e=t.prototype;return e.match=function t(){return!1},e.remove=function t(){var e=this.el;e.parentNode.removeChild(e)},t}(),YI=function(){function t(t){var e=document.createElementNS("http://www.w3.org/2000/svg","pattern");e.setAttribute("patternUnits","userSpaceOnUse");var n=document.createElementNS("http://www.w3.org/2000/svg","image");e.appendChild(n);var r=OI.uniqueId("pattern_");e.id=r,this.el=e,this.id=r,this.cfg=t;var i,a=LI.exec(t)[2];n.setAttribute("href",a);var o=new Image;function s(){console.log(o.width,o.height),e.setAttribute("width",o.width),e.setAttribute("height",o.height)}return a.match(/^data:/i)||(o.crossOrigin="Anonymous"),o.src=a,o.complete?s():(o.onload=s,o.src=o.src),this}var e;return t.prototype.match=function t(e,n){return this.cfg===n},t}(),GI=function(){function t(t){var e=document.createElementNS("http://www.w3.org/2000/svg","defs"),n=BI.uniqueId("defs_");e.id=n,t.appendChild(e),this.children=[],this.defaultArrow={},this.el=e,this.canvas=t}var e=t.prototype;return e.find=function t(e,n){for(var r=this.children,i=null,a=0;a<r.length;a++)if(r[a].match(e,n)){i=r[a].id;break}return i},e.findById=function t(e){for(var n=this.children,r=null,i=0;i<n.length;i++)if(n[i].id===e){r=n[i];break}return r},e.add=function t(e){this.children.push(e),e.canvas=this.canvas,e.parent=this},e.getDefaultArrow=function t(e,n){var r=e.stroke||e.strokeStyle;if(this.defaultArrow[r])return this.defaultArrow[r].id;var i=new jI(e,n);return this.defaultArrow[r]=i,this.el.appendChild(i.el),i.id},e.addGradient=function t(e){var n=new RI(e);return this.el.appendChild(n.el),this.add(n),n.id},e.addArrow=function t(e,n){var r=new jI(e,n);return this.el.appendChild(r.el),r.id},e.addShadow=function t(e){var n=new NI(e);return this.el.appendChild(n.el),this.add(n),n.id},e.addPattern=function t(e){var n=new YI(e);return this.el.appendChild(n.el),this.add(n),n.id},e.addClip=function t(e){var n=new zI(e);return this.el.appendChild(n.el),this.add(n),n.id},t}(),XI,VI=dC,HI,WI=UA.parseRadius,qI=uk,UI=GI,ZI={rect:"path",circle:"circle",line:"line",path:"path",marker:"path",text:"text",polygon:"polygon",image:"image",ellipse:"ellipse",dom:"foreignObject",fan:"path",group:"g"},QI=.3,$I={opacity:"opacity",fillStyle:"fill",strokeOpacity:"stroke-opacity",fillOpacity:"fill-opacity",strokeStyle:"stroke",x:"x",y:"y",r:"r",width:"width",height:"height",x1:"x1",x2:"x2",y1:"y1",y2:"y2",lineCap:"stroke-linecap",lineJoin:"stroke-linejoin",lineWidth:"stroke-width",lineDash:"stroke-dasharray",lineDashOffset:"stroke-dashoffset",miterLimit:"stroke-miterlimit",font:"font",fontSize:"font-size",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",fontFamily:"font-family",startArrow:"marker-start",endArrow:"marker-end",path:"d",class:"class",id:"id",style:"style",preserveAspectRatio:"preserveAspectRatio"},JI={top:"before-edge",middle:"central",bottom:"after-edge",alphabetic:"baseline",hanging:"hanging"},KI={left:"left",start:"left",center:"middle",right:"end",end:"end"},tE=function(){function t(t){if(!t)return null;var e=VI.uniqueId("canvas_"),n=VI.createDom('<svg id="'+e+'"></svg>');return t.appendChild(n),this.type="svg",this.canvas=n,this.context=new UI(n),this.toDraw=!1,this}var e=t.prototype;return e.draw=function t(e){var n=this;function r(){n.animateHandler=VI.requestAnimationFrame((function(){n.animateHandler=void 0,n.toDraw&&r()}));try{e.resetMatrix(),n._drawGroup(e,!1)}catch(t){console.warn("error in draw canvas, detail as:"),console.warn(t),n.toDraw=!1}n.toDraw=!1}n.animateHandler?n.toDraw=!0:r()},e.drawSync=function t(e){this._drawChildren(e,!1)},e._drawGroup=function t(e,n){var r=e._cfg;r.removed||r.destroyed||(!r.el&&r.attrs&&(n=!0),r.tobeRemoved&&(VI.each(r.tobeRemoved,(function(t){t.parentNode&&t.parentNode.removeChild(t)})),r.tobeRemoved=[]),this._drawShape(e,n),r.children&&r.children.length>0&&this._drawChildren(e,n))},e._drawChildren=function t(e,n){var r=this,i=e._cfg.children,a;if(i){if(e._cfg.el&&!n){var o=e._cfg.el.childNodes.length+1;0!==o&&o!==i.length&&(n=!0)}for(var s=0;s<i.length;s++)(a=i[s]).isGroup?r._drawGroup(a,n):r._drawShape(a,n)}},e._drawShape=function t(e,n){var r=this,i=e._attrs,a=e._cfg,o=a.el;a.removed||a.destroyed?o&&o.parentNode.removeChild(a.el):(n&&o&&(o.parentNode&&o.parentNode.removeChild(o),o=null),!o&&a.parent&&(r._createDom(e),r._updateShape(e)),o=a.el,!1!==a.visible?(a.visible&&o.hasAttribute("visibility")&&o.removeAttribute("visibility"),a.hasUpdate&&r._updateShape(e),i.clip&&i.clip._cfg.hasUpdate&&r._updateShape(i.clip)):o.setAttribute("visibility","hidden"))},e._updateShape=function t(e){var n=this,r=e._attrs,i=e._cfg.attrs;if(i)if(e._cfg.el||n._createDom(e),"clip"in r&&this._setClip(e,r.clip),("shadowOffsetX"in r||"shadowOffsetY"in r||"shadowBlur"in r||"shadowColor"in r)&&this._setShadow(e),"text"!==e.type){for(var a in"fan"===e.type&&n._updateFan(e),"marker"===e.type&&e._cfg.el.setAttribute("d",n._assembleMarker(r)),"rect"===e.type&&e._cfg.el.setAttribute("d",n._assembleRect(r)),r)r[a]!==i[a]&&n._setAttribute(e,a,r[a]);e._cfg.attrs=VI.deepMix({},e._attrs),e._cfg.hasUpdate=!1}else n._updateText(e)},e._setAttribute=function t(e,n,r){var i=e.type,a=e._attrs,o=e._cfg.el,s=this.context;if("marker"!==i&&"rect"!==i||!~["x","y","radius","r"].indexOf(n))if(~["circle","ellipse"].indexOf(i)&&~["x","y"].indexOf(n))o.setAttribute("c"+n,parseInt(r,10));else{if("polygon"===i&&"points"===n)return r&&0!==r.length||(r=""),VI.isArray(r)&&(r=(r=r.map((function(t){return t[0]+","+t[1]}))).join(" ")),void o.setAttribute("points",r);if("path"===n&&VI.isArray(r))o.setAttribute("d",this._formatPath(r));else if("img"!==n){if("transform"===n)return r?void this._setTransform(e):void o.removeAttribute("transform");if("rotate"===n)return r?void this._setTransform(e):void o.removeAttribute("transform");if("matrix"!==n)if("fillStyle"!==n&&"strokeStyle"!==n){if("clip"!==n)if(~n.indexOf("Arrow"))if(n=$I[n],r){var l=null;l="boolean"==typeof r?s.getDefaultArrow(a,n):s.addArrow(a,n),o.setAttribute(n,"url(#"+l+")"),e._cfg[n]=l}else e._cfg[n]=null,o.removeAttribute(n);else"html"===n&&("string"==typeof r?o.innerHTML=r:(o.innerHTML="",o.appendChild(r))),$I[n]&&o.setAttribute($I[n],r)}else this._setColor(e,n,r);else this._setTransform(e)}else this._setImage(e,r)}},e._createDom=function t(e){var n=ZI[e.type],r=e._attrs;if(!n)throw new Error("the type"+e.type+"is not supported by svg");var i=document.createElementNS("http://www.w3.org/2000/svg",n);return e._cfg.el=i,e._cfg.parent&&e._cfg.parent.get("el").appendChild(i),e._cfg.attrs={},"text"===e.type?(i.setAttribute("paint-order","stroke"),i.setAttribute("style","stroke-linecap:butt; stroke-linejoin:miter;")):(r.stroke||r.strokeStyle||i.setAttribute("stroke","none"),r.fill||r.fillStyle||i.setAttribute("fill","none")),i},e._assembleMarker=function t(e){var n=e.r;if(void 0===e.r&&(n=e.radius),isNaN(Number(e.x))||isNaN(Number(e.y))||isNaN(Number(n)))return"";var r="";return r="function"==typeof e.symbol?e.symbol(e.x,e.y,n):qI.Symbols[e.symbol||"circle"](e.x,e.y,n),VI.isArray(r)&&(r=r.map((function(t){return t.join(" ")})).join("")),r},e._assembleRect=function t(e){var n=e.x,r=e.y,i=e.width,a=e.height,o=e.radius;if(!o)return"M "+n+","+r+" l "+i+",0 l 0,"+a+" l"+-i+" 0 z";var s=WI(o),l;return VI.isArray(o)?1===o.length?s.r1=s.r2=s.r3=s.r4=o[0]:2===o.length?(s.r1=s.r3=o[0],s.r2=s.r4=o[1]):3===o.length?(s.r1=o[0],s.r2=s.r4=o[1],s.r3=o[2]):(s.r1=o[0],s.r2=o[1],s.r3=o[2],s.r4=o[3]):s.r1=s.r2=s.r3=s.r4=o,[["M "+(n+s.r1)+","+r],["l "+(i-s.r1-s.r2)+",0"],["a "+s.r2+","+s.r2+",0,0,1,"+s.r2+","+s.r2],["l 0,"+(a-s.r2-s.r3)],["a "+s.r3+","+s.r3+",0,0,1,"+-s.r3+","+s.r3],["l "+(s.r3+s.r4-i)+",0"],["a "+s.r4+","+s.r4+",0,0,1,"+-s.r4+","+-s.r4],["l 0,"+(s.r4+s.r1-a)],["a "+s.r1+","+s.r1+",0,0,1,"+s.r1+","+-s.r1],["z"]].join(" ")},e._formatPath=function t(e){return~(e=e.map((function(t){return t.join(" ")})).join("")).indexOf("NaN")?"":e},e._setTransform=function t(e){for(var n=e._attrs.matrix,r=e._cfg.el,i=[],a=0;a<9;a+=3)i.push(n[a]+","+n[a+1]);-1===(i=i.join(",")).indexOf("NaN")?r.setAttribute("transform","matrix("+i+")"):console.warn("invalid matrix:",n)},e._setImage=function t(e,n){var r=e._attrs,i=e._cfg.el;if(VI.isString(n))i.setAttribute("href",n);else if(n instanceof Image)r.width||(i.setAttribute("width",n.width),e._attrs.width=n.width),r.height||(i.setAttribute("height",n.height),e._attrs.height=n.height),i.setAttribute("href",n.src);else if(n instanceof HTMLElement&&VI.isString(n.nodeName)&&"CANVAS"===n.nodeName.toUpperCase())i.setAttribute("href",n.toDataURL());else if(n instanceof ImageData){var a=document.createElement("canvas");a.setAttribute("width",n.width),a.setAttribute("height",n.height),a.getContext("2d").putImageData(n,0,0),r.width||(i.setAttribute("width",n.width),e._attrs.width=n.width),r.height||(i.setAttribute("height",n.height),e._attrs.height=n.height),i.setAttribute("href",a.toDataURL())}},e._updateFan=function t(e){function n(t,e,n){return{x:e*Math.cos(t)+n.x,y:e*Math.sin(t)+n.y}}var r=e._attrs,i=e._cfg,a={x:r.x,y:r.y},o=[],s=r.startAngle,l=r.endAngle;VI.isNumberEqual(l-s,2*Math.PI)&&(l-=1e-5);var u=n(s,r.re,a),c=n(l,r.re,a),h=l>s?1:0,f=Math.abs(l-s)>Math.PI?1:0,p=r.rs,d=r.re,g=n(s,r.rs,a),v=n(l,r.rs,a);r.rs>0?(o.push("M "+c.x+","+c.y),o.push("L "+v.x+","+v.y),o.push("A "+p+","+p+",0,"+f+","+(1===h?0:1)+","+g.x+","+g.y),o.push("L "+u.x+" "+u.y)):(o.push("M "+a.x+","+a.y),o.push("L "+u.x+","+u.y)),o.push("A "+d+","+d+",0,"+f+","+h+","+c.x+","+c.y),r.rs>0?o.push("L "+v.x+","+v.y):o.push("Z"),i.el.setAttribute("d",o.join(" "))},e._updateText=function t(e){var n=this,r=e._attrs,i=e._cfg.attrs,a=e._cfg.el;for(var o in this._setFont(e),r)if(r[o]!==i[o]){if("text"===o){n._setText(e,""+r[o]);continue}if("fillStyle"===o||"strokeStyle"===o){this._setColor(e,o,r[o]);continue}if("matrix"===o){this._setTransform(e);continue}$I[o]&&a.setAttribute($I[o],r[o])}e._cfg.attrs=Object.assign({},e._attrs),e._cfg.hasUpdate=!1},e._setFont=function t(e){var n=e.get("el"),r=e._attrs,i=r.fontSize;n.setAttribute("alignment-baseline",JI[r.textBaseline]||"baseline"),n.setAttribute("text-anchor",KI[r.textAlign]||"left"),i&&+i<12&&(r.matrix=[1,0,0,0,1,0,0,0,1],e.transform([["t",-r.x,-r.y],["s",+i/12,+i/12],["t",r.x,r.y]]))},e._setText=function t(e,n){var r=e._cfg.el,i=e._attrs.textBaseline||"bottom";if(n)if(~n.indexOf("\n")){var a=e._attrs.x,o=n.split("\n"),s=o.length-1,l="";VI.each(o,(function(t,e){0===e?"alphabetic"===i?l+='<tspan x="'+a+'" dy="'+-s+'em">'+t+"</tspan>":"top"===i?l+='<tspan x="'+a+'" dy="0.9em">'+t+"</tspan>":"middle"===i?l+='<tspan x="'+a+'" dy="'+-(s-1)/2+'em">'+t+"</tspan>":"bottom"===i?l+='<tspan x="'+a+'" dy="-'+(s+.3)+'em">'+t+"</tspan>":"hanging"===i&&(l+='<tspan x="'+a+'" dy="'+(-(s-1)-.3)+'em">'+t+"</tspan>"):l+='<tspan x="'+a+'" dy="1em">'+t+"</tspan>"})),r.innerHTML=l}else r.innerHTML=n;else r.innerHTML=""},e._setClip=function t(e,n){var r=e._cfg.el;if(n)if(r.hasAttribute("clip-path"))n._cfg.hasUpdate&&this._updateShape(n);else{this._createDom(n),this._updateShape(n);var i=this.context.addClip(n);r.setAttribute("clip-path","url(#"+i+")")}else r.removeAttribute("clip-path")},e._setColor=function t(e,n,r){var i=e._cfg.el,a=this.context;if(r)if(r=r.trim(),/^[r,R,L,l]{1}[\s]*\(/.test(r)){var o=a.find("gradient",r);o||(o=a.addGradient(r)),i.setAttribute($I[n],"url(#"+o+")")}else if(/^[p,P]{1}[\s]*\(/.test(r)){var s=a.find("pattern",r);s||(s=a.addPattern(r)),i.setAttribute($I[n],"url(#"+s+")")}else i.setAttribute($I[n],r);else i.setAttribute($I[n],"none")},e._setShadow=function t(e){var n=e._cfg.el,r=e._attrs,i={dx:r.shadowOffsetX,dy:r.shadowOffsetY,blur:r.shadowBlur,color:r.shadowColor};if(i.dx||i.dy||i.blur||i.color){var a=this.context.find("filter",i);a||(a=this.context.addShadow(i,this)),n.setAttribute("filter","url(#"+a+")")}else n.removeAttribute("filter")},t}(),eE,nE={svg:"svg",circle:"circle",rect:"rect",text:"text",path:"path",foreignObject:"foreignObject",polygon:"polygon",ellipse:"ellipse",image:"image"},rE,iE,aE,oE=dC,sE=mC,lE=FT,uE=WT,cE={canvas:hI,svg:{painter:tE,getShape:function t(e,n,r){var i=r.target||r.srcElement;if(!nE[i.tagName]){for(var a=i.parentNode;a&&!nE[a.tagName];)a=a.parentNode;i=a}return this._cfg.el===i?this:this.find((function(t){return t._cfg&&t._cfg.el===i}))}}},hE=function t(e){t.superclass.constructor.call(this,e)};hE.CFG={eventEnable:!0,width:null,height:null,widthCanvas:null,heightCanvas:null,widthStyle:null,heightStyle:null,containerDOM:null,canvasDOM:null,pixelRatio:null,renderer:"canvas"},oE.extend(hE,lE),oE.augment(hE,{init:function t(){hE.superclass.init.call(this),this._setGlobalParam(),this._setContainer(),this._initPainter(),this._scale(),this.get("eventEnable")&&this._registEvents()},getEmitter:function t(e,n){if(e){if(!oE.isEmpty(e._getEvents()))return e;var r=e.get("parent");if(r&&!n.propagationStopped)return this.getEmitter(r,n)}},_getEventObj:function t(e,n,r,i){var a=new sE(e,n,!0,!0);return a.x=r.x,a.y=r.y,a.clientX=n.clientX,a.clientY=n.clientY,a.currentTarget=i,a.target=i,a},_triggerEvent:function t(e,n){var r=this.getPointByClient(n.clientX,n.clientY),i=this.getShape(r.x,r.y,n),a=this.get("el"),o;if("mousemove"===e){var s=this.get("preShape");if(s&&s!==i){var l=this._getEventObj("mouseleave",n,r,s);(o=this.getEmitter(s,n))&&o.emit("mouseleave",l),a.style.cursor="default"}if(i){var u=this._getEventObj("mousemove",n,r,i);if((o=this.getEmitter(i,n))&&o.emit("mousemove",u),s!==i){var c=this._getEventObj("mouseenter",n,r,i);o&&o.emit("mouseenter",c,n)}}else{var h=this._getEventObj("mousemove",n,r,this);this.emit("mousemove",h)}this.set("preShape",i)}else{var f=this._getEventObj(e,n,r,i||this);(o=this.getEmitter(i,n))&&o!==this&&o.emit(e,f),this.emit(e,f)}i&&!i.get("destroyed")&&(a.style.cursor=i.attr("cursor")||"default")},_registEvents:function t(){var e=this,n=e.get("el"),r=["mouseout","mouseover","mousemove","mousedown","mouseleave","mouseup","click","dblclick"];oE.each(r,(function(t){n.addEventListener(t,(function(n){e._triggerEvent(t,n)}),!1)})),n.addEventListener("touchstart",(function(t){oE.isEmpty(t.touches)||e._triggerEvent("touchstart",t.touches[0])}),!1),n.addEventListener("touchmove",(function(t){oE.isEmpty(t.touches)||e._triggerEvent("touchmove",t.touches[0])}),!1),n.addEventListener("touchend",(function(t){oE.isEmpty(t.changedTouches)||e._triggerEvent("touchend",t.changedTouches[0])}),!1)},_scale:function t(){var e=this.get("pixelRatio");this.scale(e,e)},_setGlobalParam:function t(){var e;this.get("pixelRatio")||this.set("pixelRatio",oE.getRatio());var n=cE[this.get("renderer")||"canvas"];this._cfg.renderer=n,this._cfg.canvas=this;var r=new uE(this);this._cfg.timeline=r},_setContainer:function t(){var e=this.get("containerId"),n=this.get("containerDOM");n||(n=document.getElementById(e),this.set("containerDOM",n)),oE.modifyCSS(n,{position:"relative"})},_initPainter:function t(){var e=this.get("containerDOM"),n=new this._cfg.renderer.painter(e);this._cfg.painter=n,this._cfg.canvasDOM=this._cfg.el=n.canvas,this.changeSize(this.get("width"),this.get("height"))},_resize:function t(){var e=this.get("canvasDOM"),n=this.get("widthCanvas"),r=this.get("heightCanvas"),i=this.get("widthStyle"),a=this.get("heightStyle");e.style.width=i,e.style.height=a,e.setAttribute("width",n),e.setAttribute("height",r)},getWidth:function t(){var e=this.get("pixelRatio"),n;return this.get("width")*e},getHeight:function t(){var e=this.get("pixelRatio"),n;return this.get("height")*e},changeSize:function t(e,n){var r=this.get("pixelRatio"),i=e*r,a=n*r;this.set("widthCanvas",i),this.set("heightCanvas",a),this.set("widthStyle",e+"px"),this.set("heightStyle",n+"px"),this.set("width",e),this.set("height",n),this._resize()},getPointByClient:function t(e,n){var r=this.get("el"),i=this.get("pixelRatio")||1,a=r.getBoundingClientRect();return{x:(e-a.left)*i,y:(n-a.top)*i}},getClientByPoint:function t(e,n){var r,i=this.get("el").getBoundingClientRect(),a=this.get("pixelRatio")||1;return{clientX:e/a+i.left,clientY:n/a+i.top}},draw:function t(){this._cfg.painter.draw(this)},getShape:function t(e,n,r){return 3===arguments.length&&this._cfg.renderer.getShape?this._cfg.renderer.getShape.call(this,e,n,r):hE.superclass.getShape.call(this,e,n)},_drawSync:function t(){this._cfg.painter.drawSync(this)},destroy:function t(){var e=this._cfg,n=e.containerDOM,r=e.canvasDOM;r&&n&&n.removeChild(r),e.timeline.stop(),hE.superclass.destroy.call(this)}});var fE,pE={Canvas:hE,Group:FT,Shape:XA,Arc:IP,Circle:DP,Dom:NP,Ellipse:GP,Fan:qP,Image:$P,Line:rk,Marker:uk,Path:rT,Polygon:sT,Polyline:pT,Rect:xT,Text:ST,PathSegment:cP,PathUtil:Uk,Event:mC,version:"3.3.6"},dE=pE,gE=nw,vE,mE=gE.mix({assign:gE.mix,isFinite:isFinite,isNaN:isNaN,Group:dE.Group,Event:dE.Event},gE);function yE(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xE(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,_E(t,e)}function _E(t,e){return(_E=Object.setPrototypeOf||function t(e,n){return e.__proto__=n,e})(t,e)}var bE,wE=mE,SE,ME=function(t){xE(n,t);var e=n.prototype;function n(e){var n,r=yE(n=t.call(this)||this),i={visible:!0},a=r.getDefaultCfg();return r._attrs=i,wE.deepMix(i,a,e),n}return e.getDefaultCfg=function t(){return{}},e.get=function t(e){return this._attrs[e]},e.set=function t(e,n){this._attrs[e]=n},e.changeVisible=function t(){},e.destroy=function t(){var e=this;e._attrs={},e.removeAllListeners(),e.destroyed=!0},n}(Lw.exports);function CE(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,AE(t,e)}function AE(t,e){return(AE=Object.setPrototypeOf||function t(e,n){return e.__proto__=n,e})(t,e)}var PE,kE,TE=function(t){function e(){return t.apply(this,arguments)||this}CE(e,t);var n=e.prototype;return n.getDefaultCfg=function t(){return{_id:null,canvas:null,container:null,group:null,capture:!1,coord:null,offset:[0,0],plotRange:null,position:[0,0],visible:!0,zIndex:1}},n._init=function t(){},n.clear=function t(){},n.destroy=function e(){t.prototype.destroy.call(this)},n.beforeRender=function t(){},n.render=function t(){},n.afterRender=function t(){},n.beforeDraw=function t(){},n.draw=function t(){},n.afterDraw=function t(){},n.show=function t(){},n.hide=function t(){},n.setOffset=function t(){},n.setPosition=function t(){},n.setVisible=function t(){},n.setZIndex=function t(){},e}(ME),IE,EE=pE.Group,OE=mE,LE=function t(e){t.superclass.constructor.call(this,e)};OE.extend(LE,EE),OE.augment(LE,{getDefaultCfg:function t(){return{zIndex:1,type:"line",lineStyle:null,items:null,alternateColor:null,matrix:null,hideFirstLine:!1,hideLastLine:!1,hightLightZero:!1,zeroLineStyle:{stroke:"#595959",lineDash:[0,0]}}},_renderUI:function t(){LE.superclass._renderUI.call(this),this._drawLines()},_drawLines:function t(){var e=this,n=e.get("lineStyle"),r=e.get("items");r&&r.length&&(e._precessItems(r),e._drawGridLines(r,n))},_precessItems:function t(e){var n=this,r;OE.each(e,(function(t,e){r&&n.get("alternateColor")&&n._drawAlternativeBg(t,r,e),r=t}))},_drawGridLines:function t(e,n){var r=this,i=this.get("type"),a,o,s,l,u=e.length;"line"===i||"polygon"===i?OE.each(e,(function(t,e){r.get("hideFirstLine")&&0===e||r.get("hideLastLine")&&e===u-1||(l=t.points,o=[],"line"===i?(o.push(["M",l[0].x,l[0].y]),o.push(["L",l[l.length-1].x,l[l.length-1].y])):OE.each(l,(function(t,e){0===e?o.push(["M",t.x,t.y]):o.push(["L",t.x,t.y])})),s=r._drawZeroLine(i,e)?OE.mix({},r.get("zeroLineStyle"),{path:o}):OE.mix({},n,{path:o}),(a=r.addShape("path",{attrs:s})).name="axis-grid",a._id=t._id,a.set("coord",r.get("coord")),r.get("appendInfo")&&a.setSilent("appendInfo",r.get("appendInfo")))})):OE.each(e,(function(t,e){r.get("hideFirstLine")&&0===e||r.get("hideLastLine")&&e===u-1||(l=t.points,o=[],OE.each(l,(function(t,e){var n=t.radius;0===e?o.push(["M",t.x,t.y]):o.push(["A",n,n,0,0,t.flag,t.x,t.y])})),s=OE.mix({},n,{path:o}),(a=r.addShape("path",{attrs:s})).name="axis-grid",a._id=t._id,a.set("coord",r.get("coord")),r.get("appendInfo")&&a.setSilent("appendInfo",r.get("appendInfo")))}))},_drawZeroLine:function t(e,n){var r=this,i=r.get("tickValues");return!("line"!==e||!i||0!==i[n]||!r.get("hightLightZero"))},_drawAlternativeBg:function t(e,n,r){var i=this,a=i.get("alternateColor"),o,s,l;OE.isString(a)?s=a:OE.isArray(a)&&(s=a[0],l=a[1]),r%2==0?l&&(o=i._getBackItem(n.points,e.points,l)):s&&(o=i._getBackItem(n.points,e.points,s));var u=i.addShape("Path",{attrs:o});u.name="axis-grid-rect",u._id=e._id&&e._id.replace("grid","grid-rect"),u.set("coord",i.get("coord")),i.get("appendInfo")&&u.setSilent("appendInfo",i.get("appendInfo"))},_getBackItem:function t(e,n,r){var i=[],a=this.get("type");if("line"===a)i.push(["M",e[0].x,e[0].y]),i.push(["L",e[e.length-1].x,e[e.length-1].y]),i.push(["L",n[n.length-1].x,n[n.length-1].y]),i.push(["L",n[0].x,n[0].y]),i.push(["Z"]);else if("polygon"===a){OE.each(e,(function(t,e){0===e?i.push(["M",t.x,t.y]):i.push(["L",t.x,t.y])}));for(var o=n.length-1;o>=0;o--)i.push(["L",n[o].x,n[o].y]);i.push(["Z"])}else{var s=e[0].flag;OE.each(e,(function(t,e){var n=t.radius;0===e?i.push(["M",t.x,t.y]):i.push(["A",n,n,0,0,t.flag,t.x,t.y])}));for(var l=n.length-1;l>=0;l--){var u=n[l],c=u.radius;l===n.length-1?i.push(["M",u.x,u.y]):i.push(["A",c,c,0,0,1===s?0:1,u.x,u.y])}}return{fill:r,path:i}}});var DE=LE,FE=function(){function t(){this.bitmap=[]}var e=t.prototype;return e.hasGap=function t(e){for(var n=!0,r=this.bitmap,i=Math.floor(e.minX),a=Math.ceil(e.maxX),o=Math.floor(e.minY),s=Math.ceil(e.maxY)-1,l=i;l<a;l++)if(r[l]){if(l===i||l===a-1){for(var u=o;u<=s;u++)if(r[l][u]){n=!1;break}}else if(r[l][o]||r[l][s]){n=!1;break}}else r[l]=[];return n},e.fillGap=function t(e){for(var n=this.bitmap,r=Math.floor(e.minX),i=Math.ceil(e.maxX)-1,a=Math.floor(e.minY),o=Math.ceil(e.maxY)-1,s=r;s<=i;s++){for(var l=a;l<o;l+=8)n[s]||(n[s]=[]),n[s][l]=!0;n[s][o]=!0}for(var u=a;u<=o;u++)n[r][u]=!0,n[i][u]=!0},t}(),BE=FE,RE=FE;function NE(t,e,n,r){var i=t.getBBox(),a=i.width,o=i.height,s={x:e,y:n,textAlign:"center"};switch(r){case 0:s.y-=o/2,s.textAlign="left";break;case 1:s.y-=o/2,s.textAlign="right";break;case 2:s.y+=o/2,s.textAlign="right";break;case 3:s.y+=o/2,s.textAlign="left";break;case 5:s.y-=o/2;break;case 6:s.y+=o/2;break;case 7:s.x+=a/2,s.textAlign="left";break;case 8:s.x-=a/2,s.textAlign="right"}return t.attr(s),t.getBBox()}var jE=function(t){for(var e=new RE,n=[],r,i,a,o,s,l=0;l<t.length;l++){a=(i=t[l]).attr("x"),o=i.attr("y"),s=!1;for(var u=0;u<8;u++)if(r=NE(i,a,o,u),e.hasGap(r)){e.fillGap(r),s=!0;break}s||n.push(i)}for(var c=0;c<n.length;c++)n[c].remove();return s},zE=FE,YE=20;function GE(t,e){var n=-1,r=t.attr("x"),i=t.attr("y"),a=t.getBBox(),o=Math.sqrt(a.width*a.width+a.height*a.height),s,l=1,u=0,c=0,h=function t(e){return[(e*=.1)*Math.cos(e),e*Math.sin(e)]};if(e.hasGap(a))return e.fillGap(a),!0;for(var f=!1,p=0;Math.min(Math.abs(u),Math.abs(c))<o&&p<20;)if(u=~~(s=h(l+=n))[0],c=~~s[1],t.attr({x:r+u,y:i+c}),p++,e.hasGap(t.getBBox())){e.fillGap(a),f=!0;break}return f}var XE=function(t){for(var e,n=new zE,r=[],i=0;i<t.length;i++)GE(e=t[i],n)||r.push(e);for(var a=0;a<r.length;a++)r[a].remove()},VE=function t(e,n){for(var r,i,a=[],o=0;o<e.length;o++)r=e[o].getBBox(),i=n[o].getBBox(),(r.width>i.width||r.height>i.height||r.width*r.height>i.width*i.height)&&a.push(e[o]);for(var s=0;s<a.length;s++)a[s].remove()};function HE(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,WE(t,e)}function WE(t,e){return(WE=Object.setPrototypeOf||function t(e,n){return e.__proto__=n,e})(t,e)}var qE=mE,UE=qE.DomUtil,ZE,QE,$E,JE,KE={scatter:jE,map:XE,treemap:VE},tO=function(t){function e(){return t.apply(this,arguments)||this}HE(e,t);var n=e.prototype;return n.getDefaultCfg=function e(){var n=t.prototype.getDefaultCfg.call(this);return qE.mix({},n,{name:"label",type:"default",textStyle:null,formatter:null,items:null,useHtml:!1,containerTpl:'<div class="g-labels" style="position:absolute;top:0;left:0;"></div>',itemTpl:'<div class="g-label" style="position:absolute;">{text}</div>',labelLine:!1,lineGroup:null,shapes:null,config:!0,capture:!0})},n.clear=function e(){var n=this.get("group"),r=this.get("container");n&&!n.get("destroyed")&&n.clear(),r&&(r.innerHTML=""),t.prototype.clear.call(this)},n.destroy=function e(){var n=this.get("group"),r=this.get("container");n.destroy||n.destroy(),r&&r.parentNode&&r.parentNode.removeChild(r),t.prototype.destroy.call(this)},n.render=function t(){this.clear(),this._init(),this.beforeDraw(),this.draw(),this.afterDraw()},n._dryDraw=function t(){var e=this,n=e.get("items"),r=e.getLabels(),i=r.length;qE.each(n,(function(t,n){if(n<i){var a=r[n];e.changeLabel(a,t)}else{var o=e._addLabel(t,n);o&&(o._id=t._id,o.set("coord",t.coord))}}));for(var a=i-1;a>=n.length;a--)r[a].remove();e._adjustLabels(),!e.get("labelLine")&&e.get("config")||e.drawLines()},n.draw=function t(){this._dryDraw(),this.get("canvas").draw()},n.changeLabel=function t(e,n){if(e)if(e.tagName){var r=this._createDom(n);e.innerHTML=r.innerHTML,this._setCustomPosition(n,e)}else e._id=n._id,e.attr("text",n.text),e.attr("x")===n.x&&e.attr("y")===n.y||(e.resetMatrix(),n.textStyle.rotate&&(e.rotateAtStart(n.textStyle.rotate),delete n.textStyle.rotate),e.attr(n))},n.show=function t(){var e=this.get("group"),n=this.get("container");e&&e.show(),n&&(n.style.opacity=1)},n.hide=function t(){var e=this.get("group"),n=this.get("container");e&&e.hide(),n&&(n.style.opacity=0)},n.drawLines=function t(){var e=this,n;"boolean"==typeof e.get("labelLine")&&e.set("labelLine",{});var r=e.get("lineGroup");!r||r.get("destroyed")?(r=e.get("group").addGroup({elCls:"x-line-group"}),e.set("lineGroup",r)):r.clear(),qE.each(e.get("items"),(function(t){e.lineToLabel(t,r)}))},n.lineToLabel=function t(e,n){var r=this;if(r.get("config")||e.labelLine){var i=e.labelLine||r.get("labelLine"),a=void 0===e.capture?r.get("capture"):e.capture,o=i.path;if(o&&qE.isFunction(i.path)&&(o=i.path(e)),!o){var s=e.start||{x:e.x-e._offset.x,y:e.y-e._offset.y};o=[["M",s.x,s.y],["L",e.x,e.y]]}var l=e.color;l||(l=e.textStyle&&e.textStyle.fill?e.textStyle.fill:"#000");var u=n.addShape("path",{attrs:qE.mix({path:o,fill:null,stroke:l},i),capture:a});u.name=r.get("name"),u._id=e._id&&e._id.replace("glabel","glabelline"),u.set("coord",r.get("coord"))}},n._adjustLabels=function t(){var e=this,n=e.get("type"),r=e.getLabels(),i=e.get("shapes"),a=KE[n];"default"!==n&&a&&a(r,i)},n.getLabels=function t(){var e=this.get("container");return e?qE.toArray(e.childNodes):this.get("group").get("children")},n._addLabel=function t(e,n){var r=e;return this.get("config")&&(r=this._getLabelCfg(e,n)),this._createText(r)},n._getLabelCfg=function t(e,n){var r=this.get("textStyle")||{},i=this.get("formatter"),a=this.get("htmlTemplate"),o;if(!qE.isObject(e)){var s=e;(e={}).text=s}return qE.isFunction(r)&&(r=r(e.text,e,n)),i&&(e.text=i(e.text,e,n)),a&&(e.useHtml=!0,qE.isFunction(a)&&(e.text=a(e.text,e,n))),qE.isNil(e.text)&&(e.text=""),e.text=e.text+"",qE.mix({},e,{textStyle:r},{x:e.x||0,y:e.y||0})},n._init=function t(){if(!this.get("group")){var e=this.get("canvas").addGroup({id:"label-group"});this.set("group",e)}},n.initHtmlContainer=function t(){var e=this.get("container");if(e)qE.isString(e)&&(e=document.getElementById(e))&&this.set("container",e);else{var n=this.get("containerTpl"),r=this.get("canvas").get("el").parentNode;e=UE.createDom(n),r.style.position="relative",r.appendChild(e),this.set("container",e)}return e},n._createText=function t(e){var n=qE.deepMix({},e),r=this.get("container"),i=void 0===n.capture?this.get("capture"):n.capture,a;if(!n.useHtml&&!n.htmlTemplate){var o=this.get("name"),s=n.point,l=this.get("group");delete n.point;var u=n.rotate;return n.textStyle&&(n.textStyle.rotate&&(u=n.textStyle.rotate,delete n.textStyle.rotate),n=qE.mix({x:n.x,y:n.y,textAlign:n.textAlign,text:n.text},n.textStyle)),a=l.addShape("text",{attrs:n,capture:i}),u&&(Math.abs(u)>2*Math.PI&&(u=u/180*Math.PI),a.transform([["t",-n.x,-n.y],["r",u],["t",n.x,n.y]])),a.setSilent("origin",s||n),a.name=o,this.get("appendInfo")&&a.setSilent("appendInfo",this.get("appendInfo")),a}r||(r=this.initHtmlContainer());var c=this._createDom(n);r.appendChild(c),this._setCustomPosition(n,c)},n._createDom=function t(e){var n=this.get("itemTpl"),r=qE.substitute(n,{text:e.text});return UE.createDom(r)},n._setCustomPosition=function t(e,n){var r=e.textAlign||"left",i=e.y,a=e.x,o=UE.getOuterWidth(n),s;i-=UE.getOuterHeight(n)/2,"center"===r?a-=o/2:"right"===r&&(a-=o),n.style.top=parseInt(i,10)+"px",n.style.left=parseInt(a,10)+"px"},e}(TE),eO=tO,nO={FONT_FAMILY:'BlinkMacSystemFont, "Segoe UI", Roboto,"Helvetica Neue", Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei",SimSun, "sans-serif"'};function rO(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,iO(t,e)}function iO(t,e){return(iO=Object.setPrototypeOf||function t(e,n){return e.__proto__=n,e})(t,e)}var aO,oO=mE,sO=DE,lO=eO,uO,cO=nO.FONT_FAMILY,hO=function(t){function e(){return t.apply(this,arguments)||this}rO(e,t);var n=e.prototype;return n.getDefaultCfg=function e(){var n=t.prototype.getDefaultCfg.call(this);return oO.mix({},n,{_id:null,zIndex:4,ticks:null,line:null,tickLine:null,subTickCount:0,subTickLine:null,grid:null,label:{offset:0,offsetX:0,offsetY:0,textStyle:{},autoRotate:!0,autoHide:!1,formatter:null},labelItems:[],title:{autoRotate:!0,textStyle:{}},autoPaint:!0})},n.beforeRender=function t(){var e=this,n=e.get("title"),r=e.get("label"),i=e.get("grid");n&&e.set("title",oO.deepMix({autoRotate:!0,textStyle:{fontSize:12,fill:"#ccc",textBaseline:"middle",fontFamily:cO,textAlign:"center"},offset:48},n)),r&&e.set("label",oO.deepMix({autoRotate:!0,autoHide:!0,textStyle:{fontSize:12,fill:"#ccc",textBaseline:"middle",fontFamily:cO},offset:10},r)),i&&e.set("grid",oO.deepMix({lineStyle:{lineWidth:1,stroke:"#C0D0E0"}},i))},n.render=function t(){var e=this,n;e.beforeRender(),e.get("label")&&e.renderLabels(),e.get("autoPaint")&&e.paint(),oO.isNil(e.get("title"))||e.renderTitle(),e.get("group").sort()},n.renderLabels=function t(){var e=this,n=e.get("group"),r=e.get("label"),i=new lO({name:"axis-label"});e.set("labelRenderer",i),i.set("labelCfg",r);var a=["formatter","htmlTemplate","labelLine","textStyle","useHtml"];oO.each(a,(function(t){r[t]&&i.set(t,r[t])})),i.set("coord",e.get("coord")),i.set("group",n.addGroup()),i.set("canvas",e.get("canvas"))},n._parseTicks=function t(e){for(var n=(e=e||[]).length,r=0;r<n;r++){var i=e[r];oO.isObject(i)||(e[r]=this.parseTick(i,r,n))}return this.set("ticks",e),e},n._addTickItem=function t(e,n,r,i){void 0===i&&(i="");var a=this.get("tickItems"),o=this.get("subTickItems"),s=this.getTickEnd(n,r,e),l={x1:n.x,y1:n.y,x2:s.x,y2:s.y};a||(a=[]),o||(o=[]),"sub"===i?o.push(l):a.push(l),this.set("tickItems",a),this.set("subTickItems",o)},n._renderLine=function t(){var e=this,n=e.get("line"),r;if(n){r=e.getLinePath(),n=oO.mix({path:r},n);var i,a=e.get("group").addShape("path",{attrs:n});a.name="axis-line",e.get("appendInfo")&&a.setSilent("appendInfo",e.get("appendInfo")),e.set("lineShape",a)}},n._processCatTicks=function t(){var e=this,n=e.get("label"),r=e.get("tickLine"),i=e.get("ticks");i=e._parseTicks(i);for(var a=e._getNormalizedTicks(i),o=0;o<a.length;o+=3){var s=e.getTickPoint(a[o]),l=e.getTickPoint(a[o+1]),u=e.getTickPoint(a[o+2]),c=Math.floor(o/3),h=i[c];r&&(0===c&&e._addTickItem(c,l,r.length),e._addTickItem(c,u,r.length)),n&&e.addLabel(h,s,c)}},n._getNormalizedTicks=function t(e){var n=0;e.length>1&&(n=(e[1].value-e[0].value)/2);for(var r=[],i=0;i<e.length;i++){var a=e[i],o=a.value,s=a.value-n,l=a.value+n;r.push(o,s,l)}var u=oO.arrayUtil.getRange(r);return r.map((function(t){var e;return(t-u.min)/(u.max-u.min)}))},n.addLabel=function t(e,n,r){var i=this,a=i.get("labelItems"),o=i.get("labelRenderer"),s=oO.deepMix({},i.get("label")),l;if(o){var u=i.get("_labelOffset");oO.isNil(i.get("label").offset)||(u=i.get("label").offset);var c=i.getSideVector(u,n,r);n={x:n.x+c[0]+s.offsetX,y:n.y+c[1]+s.offsetY},s.text=e.text,s.x=n.x,s.y=n.y,s.point=n,s.textAlign=i.getTextAnchor(c),n.rotate&&(s.rotate=n.rotate),a.push(s)}return l},n._processTicks=function t(){var e=this,n=e.get("label"),r=e.get("subTickCount"),i=e.get("tickLine"),a=e.get("ticks");if(a=e._parseTicks(a),oO.each(a,(function(t,r){var a=e.getTickPoint(t.value,r);i&&e._addTickItem(r,a,i.length),n&&e.addLabel(t,a,r)})),r){var o=e.get("subTickLine");oO.each(a,(function(t,n){if(n>0){var s=t.value-a[n-1].value;s/=e.get("subTickCount")+1;for(var l=1;l<=r;l++){var u={text:"",value:n?a[n-1].value+l*s:l*s},c=e.getTickPoint(u.value),h=void 0;h=o&&o.length?o.length:parseInt(.6*i.length,10),e._addTickItem(l-1,c,h,"sub")}}}))}},n._addTickLine=function t(e,n){var r=this,i=oO.mix({},n),a=[];oO.each(e,(function(t){a.push(["M",t.x1,t.y1]),a.push(["L",t.x2,t.y2])})),delete i.length,i.path=a;var o,s=r.get("group").addShape("path",{attrs:i});s.name="axis-ticks",s._id=r.get("_id")+"-ticks",s.set("coord",r.get("coord")),r.get("appendInfo")&&s.setSilent("appendInfo",r.get("appendInfo"))},n._renderTicks=function t(){var e=this,n=e.get("tickItems"),r=e.get("subTickItems");if(!oO.isEmpty(n)){var i=e.get("tickLine");e._addTickLine(n,i)}if(!oO.isEmpty(r)){var a=e.get("subTickLine")||e.get("tickLine");e._addTickLine(r,a)}},n._renderGrid=function t(){var e=this.get("grid");if(e){e.coord=this.get("coord"),e.appendInfo=this.get("appendInfo");var n=this.get("group");this.set("gridGroup",n.addGroup(sO,e))}},n._renderLabels=function t(){var e=this,n=e.get("labelRenderer"),r=e.get("labelItems");n&&(n.set("items",r),n._dryDraw())},n.paint=function t(){var e=this,n=e.get("tickLine"),r=!0;n&&n.hasOwnProperty("alignWithLabel")&&(r=n.alignWithLabel),e._renderLine();var i=e.get("type"),a;("cat"===i||"timeCat"===i)&&!1===r?e._processCatTicks():e._processTicks(),e._renderTicks(),e._renderGrid(),e._renderLabels();var o=this.get("label");o&&o.autoRotate&&e.autoRotateLabels(),o&&o.autoHide&&e.autoHideLabels()},n.parseTick=function t(e,n,r){return{text:e,value:n/(r-1)}},n.getTextAnchor=function t(e){var n,r;return r=Math.abs(e[1]/e[0])>=1?"center":e[0]>0?"start":"end"},n.getMaxLabelWidth=function t(e){var n=e.getLabels(),r=0;return oO.each(n,(function(t){var e,n=t.getBBox().width;r<n&&(r=n)})),r},n.getMaxLabelHeight=function t(e){var n=e.getLabels(),r=0;return oO.each(n,(function(t){var e,n=t.getBBox().height;r<n&&(r=n)})),r},n.destroy=function e(){var n=this;if(!n.destroyed){var r=n.get("gridGroup");r&&r.remove();var i=this.get("labelRenderer"),a;i&&i.destroy(),n.get("group").destroy(),t.prototype.destroy.call(this)}},n.clear=function t(){var e=this,n=e.get("group");if(!n.get("destroyed")&&n.get("children").length){var r=e.get("gridGroup");r&&r.clear();var i=this.get("labelRenderer"),a;i&&i.clear(),e.get("group").clear()}},n.autoRotateLabels=function t(){},n.autoHideLabels=function t(){},n.renderTitle=function t(){},n.getLinePath=function t(){},n.getTickPoint=function t(){},n.getTickEnd=function t(){},n.getSideVector=function t(){},e}(TE),fO=hO;function pO(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,dO(t,e)}function dO(t,e){return(dO=Object.setPrototypeOf||function t(e,n){return e.__proto__=n,e})(t,e)}var gO=mE,vO=fO,mO=gO.MatrixUtil.vec2,yO,xO=function(t){function e(){return t.apply(this,arguments)||this}pO(e,t);var n=e.prototype;return n.getDefaultCfg=function e(){var n=t.prototype.getDefaultCfg.call(this);return gO.mix({},n,{type:"circle",tickInterval:null,startAngle:-Math.PI/2,endAngle:3*Math.PI/2,line:{lineWidth:1,stroke:"#C0D0E0"},tickLine:{lineWidth:1,stroke:"#C0D0E0",length:5},_labelOffset:5})},n.parseTick=function t(e,n,r){return{text:e,value:n/r}},n._getCirclePoint=function t(e,n){var r=this,i=r.get("center");return n=n||r.get("radius"),{x:i.x+Math.cos(e)*n,y:i.y+Math.sin(e)*n}},n.getTickPoint=function t(e){var n=this,r=n.get("startAngle"),i,a=r+(n.get("endAngle")-r)*e;return n._getCirclePoint(a)},n.getSideVector=function t(e,n){var r,i=this.get("center"),a=[n.x-i.x,n.y-i.y];if(!gO.isNil(e)){var o=mO.length(a);mO.scale(a,a,e/o)}return a},n.getSidePoint=function t(e,n){var r,i=this.getSideVector(n,e);return{x:e.x+i[0],y:e.y+i[1]}},n.getTickEnd=function t(e,n){var r=this,i=r.get("tickLine");return n=n||i.length,r.getSidePoint(e,n)},n.getTextAnchor=function t(e){var n;return gO.snapEqual(e[0],0)?n="center":e[0]>0?n="left":e[0]<0&&(n="right"),n},n.getLinePath=function t(){var e=this,n=e.get("center"),r=n.x,i=n.y,a=e.get("radius"),o=a,s=e.get("startAngle"),l=e.get("endAngle"),u=e.get("inner"),c=[];if(Math.abs(l-s)===2*Math.PI)c=[["M",r,i],["m",0,-o],["a",a,o,0,1,1,0,2*o],["a",a,o,0,1,1,0,-2*o],["z"]];else{var h=e._getCirclePoint(s),f=e._getCirclePoint(l),p=Math.abs(l-s)>Math.PI?1:0,d=s>l?0:1;if(u){var g=e.getSideVector(u*a,h),v=e.getSideVector(u*a,f),m={x:g[0]+r,y:g[1]+i},y={x:v[0]+r,y:v[1]+i};c=[["M",m.x,m.y],["L",h.x,h.y],["A",a,o,0,p,d,f.x,f.y],["L",y.x,y.y],["A",a*u,o*u,0,p,Math.abs(d-1),m.x,m.y]]}else c=[["M",r,i],["L",h.x,h.y],["A",a,o,0,p,d,f.x,f.y],["L",r,i]]}return c},n.addLabel=function e(n,r,i){var a=this,o=a.get("label").offset||a.get("_labelOffset")||.001;r=a.getSidePoint(r,o),t.prototype.addLabel.call(this,n,r,i)},n.autoRotateLabels=function t(){var e=this,n=e.get("ticks"),r=e.get("labelRenderer");if(r&&n.length>12){var i=e.get("radius"),a=e.get("startAngle"),o,s=e.get("endAngle")-a,l=s/(n.length-1),u=Math.sin(l/2)*i*2,c=e.getMaxLabelWidth(r);gO.each(r.get("group").get("children"),(function(t,e){var r,i=n[e].value*s+a,o=i%(2*Math.PI);c<u?(o<=0&&(i+=Math.PI),o>Math.PI&&(i-=Math.PI),i-=Math.PI/2,t.attr("textAlign","center")):o>Math.PI/2?i-=Math.PI:o<Math.PI/2*-1&&(i+=Math.PI),t.rotateAtStart(i)}))}},e}(vO);function _O(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,bO(t,e)}function bO(t,e){return(bO=Object.setPrototypeOf||function t(e,n){return e.__proto__=n,e})(t,e)}var wO=mE,SO=fO,MO=wO.MatrixUtil,CO=wO.PathUtil,AO=MO.vec2,PO,kO=function(t){function e(){return t.apply(this,arguments)||this}_O(e,t);var n=e.prototype;return n.getDefaultCfg=function e(){var n=t.prototype.getDefaultCfg.call(this);return wO.mix({},n,{inner:0,type:"helix",line:{lineWidth:1,stroke:"#C0D0E0"},tickLine:{lineWidth:1,stroke:"#C0D0E0",length:5},startAngle:1.25*Math.PI,endAngle:7.25*Math.PI,a:0,center:null,axisStart:null,crp:[]})},n.getLinePath=function t(){var e=this,n=e.get("crp"),r=e.get("axisStart"),i=CO.catmullRomToBezier(n);return i.unshift(["M",r.x,r.y]),i},n.getTickPoint=function t(e){var n=this,r=n.get("startAngle"),i,a=r+(n.get("endAngle")-r)*e;return n._getHelixPoint(a)},n._getHelixPoint=function t(e){var n=this,r=n.get("center"),i,a=n.get("a")*e+n.get("inner");return{x:r.x+Math.cos(e)*a,y:r.y+Math.sin(e)*a}},n.getSideVector=function t(e,n){var r,i=this.get("center"),a=[n.x-i.x,n.y-i.y];if(e){var o=AO.length(a);AO.scale(a,a,e/o)}return a},n.getSidePoint=function t(e,n){var r,i=this.getSideVector(n,e);return{x:e.x+i[0],y:e.y+i[1]}},n.getTickEnd=function t(e,n){var r=this,i=r.get("tickLine");return n=n||i.length,r.getSidePoint(e,n)},e}(SO);function TO(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,IO(t,e)}function IO(t,e){return(IO=Object.setPrototypeOf||function t(e,n){return e.__proto__=n,e})(t,e)}var EO=fO,OO=mE,LO,DO=OO.MatrixUtil.vec2,FO=function(t){function e(){return t.apply(this,arguments)||this}TO(e,t);var n=e.prototype;return n.getDefaultCfg=function e(){var n=t.prototype.getDefaultCfg.call(this);return OO.mix({},n,{x:null,y:null,line:{lineWidth:1,stroke:"#C0D0E0"},tickLine:{lineWidth:1,stroke:"#C0D0E0",length:5},isVertical:!1,start:null,end:null})},n._getAvgLabelLength=function t(e){var n=e.get("group").get("children");return n[1].attr("x")-n[0].attr("x")},n._getAvgLabelHeightSpace=function t(e){var n=e.get("group").get("children");return n[1].attr("y")-n[0].attr("y")},n.getSideVector=function t(e){var n=this,r=n.get("isVertical"),i=n.get("factor");if(!OO.isNumber(e))return[0,0];var a=n.get("start"),o=n.get("end"),s=n.getAxisVector(),l=DO.normalize([],s),u=!1;(r&&a.y<o.y||!r&&a.x>o.x)&&(u=!0);var c=DO.vertical([],l,u);return DO.scale([],c,e*i)},n.getAxisVector=function t(){var e=this.get("start"),n=this.get("end");return[n.x-e.x,n.y-e.y]},n.getLinePath=function t(){var e=this,n=e.get("start"),r=e.get("end"),i=[];return i.push(["M",n.x,n.y]),i.push(["L",r.x,r.y]),i},n.getTickEnd=function t(e,n){var r,i=this.getSideVector(n);return{x:e.x+i[0],y:e.y+i[1]}},n.getTickPoint=function t(e){var n=this,r=n.get("start"),i=n.get("end"),a=i.x-r.x,o=i.y-r.y;return{x:r.x+a*e,y:r.y+o*e}},n.renderTitle=function t(){var e=this,n=e.get("title"),r=e.getTickPoint(.5),i=n.offset;if(OO.isNil(i)){i=20;var a=e.get("labelsGroup"),o,s;if(a)i+=e.getMaxLabelWidth(a)+(e.get("label").offset||e.get("_labelOffset"))}var l=n.textStyle,u=OO.mix({},l);if(n.text){var c=e.getAxisVector();if(n.autoRotate&&OO.isNil(l.rotate)){var h=0;if(!OO.snapEqual(c[1],0)){var f=[1,0],p=[c[0],c[1]];h=DO.angleTo(p,f,!0)}u.rotate=h*(180/Math.PI)}else OO.isNil(l.rotate)||(u.rotate=l.rotate/180*Math.PI);var d=e.getSideVector(i),g,v=n.position;g="start"===v?{x:this.get("start").x+d[0],y:this.get("start").y+d[1]}:"end"===v?{x:this.get("end").x+d[0],y:this.get("end").y+d[1]}:{x:r.x+d[0],y:r.y+d[1]},u.x=g.x,u.y=g.y,u.text=n.text;var m,y=e.get("group").addShape("Text",{zIndex:2,attrs:u});y.name="axis-title",e.get("appendInfo")&&y.setSilent("appendInfo",e.get("appendInfo"))}},n.autoRotateLabels=function t(){var e=this,n=e.get("labelRenderer"),r=e.get("title");if(n){var i,a=n.get("group").get("children"),o=e.get("label").offset,s=12,l=r?r.offset:48;if(l<0)return;var u=e.getAxisVector(),c,h;if(OO.snapEqual(u[0],0)&&r&&r.text)(h=e.getMaxLabelWidth(n))>l-o-s&&(c=-1*Math.acos((l-o-s)/h));else if(OO.snapEqual(u[1],0)&&a.length>1){var f=Math.abs(e._getAvgLabelLength(n));(h=e.getMaxLabelWidth(n))>f&&(c=Math.asin(1.25*(l-o-s)/h))}if(c){var p=e.get("factor");OO.each(a,(function(t){t.rotateAtStart(c),OO.snapEqual(u[1],0)&&(p>0?t.attr("textAlign","left"):t.attr("textAlign","right"))}))}}},n.autoHideLabels=function t(){var e=this,n=e.get("labelRenderer"),r,i,a=8;if(n){var o,s=n.get("group").get("children"),l=e.getAxisVector();if(s.length<2)return;if(OO.snapEqual(l[0],0)){var u=e.getMaxLabelHeight(n)+8,c=Math.abs(e._getAvgLabelHeightSpace(n));u>c&&(r=u,i=c)}else if(OO.snapEqual(l[1],0)&&s.length>1){var h=e.getMaxLabelWidth(n)+8,f=Math.abs(e._getAvgLabelLength(n));h>f&&(r=h,i=f)}if(r&&i){var p=Math.ceil(r/i);OO.each(s,(function(t,e){e%p!=0&&t.attr("text","")}))}}},e}(EO),BO=FO;function RO(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,NO(t,e)}function NO(t,e){return(NO=Object.setPrototypeOf||function t(e,n){return e.__proto__=n,e})(t,e)}var jO=mE,zO=fO,YO=jO.MatrixUtil,GO=jO.PathUtil,XO=YO.vec2,VO,HO=function(t){function e(){return t.apply(this,arguments)||this}RO(e,t);var n=e.prototype;return n.getDefaultCfg=function e(){var n=t.prototype.getDefaultCfg.call(this);return jO.mix({},n,{type:"polyline"})},n.getLinePath=function t(){var e=this,n=e.get("tickPoints"),r=e.get("start"),i=e.get("end"),a=[];a.push(r.x),a.push(r.y),jO.each(n,(function(t){a.push(t.x),a.push(t.y)})),a.push(i.x),a.push(i.y);var o=GO.catmullRomToBezier(a);return o.unshift(["M",r.x,r.y]),o},n.getTickPoint=function t(e,n){var r;return this.get("tickPoints")[n]},n.getTickEnd=function t(e,n,r){var i=this,a=i.get("tickLine"),o=n||a.length,s=i.getSideVector(o,e,r);return{x:e.x+s[0],y:e.y+s[1]}},n.getSideVector=function t(e,n,r){var i=this,a,o;if(0===r){if((a=i.get("start")).x===n.x&&a.y===n.y)return[0,0]}else a=i.get("tickPoints")[r-1];var s=[n.x-a.x,n.y-a.y],l=XO.normalize([],s),u=XO.vertical([],l,!1);return XO.scale([],u,e)},e}(zO),WO=fO;WO.Base=WO,WO.Circle=xO,WO.Grid=DE,WO.Helix=kO,WO.Line=BO,WO.Polyline=HO;var qO=WO,UO=mE,ZO={getFirstScale:function t(e){var n;return UO.each(e,(function(t){if(t)return n=t,!1})),n}};function QO(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,$O(t,e)}function $O(t,e){return($O=Object.setPrototypeOf||function t(e,n){return e.__proto__=n,e})(t,e)}var JO=mE,KO=ZO,tL,eL=["min","max","median","start","end"],nL,rL=function(t){function e(){return t.apply(this,arguments)||this}QO(e,t);var n=e.prototype;return n.getDefaultCfg=function e(){var n=t.prototype.getDefaultCfg.call(this);return JO.mix({},n,{xScales:null,yScales:null,el:null})},n.render=function t(){},n.clear=function t(){var e,n=this.get("el");n&&n.remove(),this.set("el",null)},n.destroy=function e(){this.clear(),t.prototype.destroy.call(this)},n.changeVisible=function t(e){var n=this;n.set("visible",e);var r=n.get("el");r&&(r.set?r.set("visible",e):r.style.display=e?"":"none")},n.parsePoint=function t(e,n){var r=this,i=r.get("xScales"),a=r.get("yScales"),o,s;if(JO.isFunction(n)&&(n=n(i,a)),JO.isArray(n)&&JO.isString(n[0])&&-1!==n[0].indexOf("%"))return this._parsePercentPoint(e,n);if(JO.isArray(n))o=r._getNormalizedValue(n[0],KO.getFirstScale(i)),s=r._getNormalizedValue(n[1],KO.getFirstScale(a));else for(var l in n){var u=n[l];i[l]&&(o=r._getNormalizedValue(u,i[l])),a[l]&&(s=r._getNormalizedValue(u,a[l],"y"))}return JO.isNil(o)||JO.isNil(s)||isNaN(o)||isNaN(s)?null:e.convert({x:o,y:s})},n._getNormalizedValue=function t(e,n){var r,i;-1!==JO.indexOf(eL,e)?"start"===e?r=0:"end"===e?r=1:"median"===e?(i=n.isCategory?(n.values.length-1)/2:(n.min+n.max)/2,r=n.scale(i)):(i=n.isCategory?"min"===e?0:n.values.length-1:n[e],r=n.scale(i)):r=n.scale(e);return r},n._parsePercentPoint=function t(e,n){var r=parseFloat(n[0])/100,i=parseFloat(n[1])/100,a=e.start,o=e.end,s=Math.min(a.x,o.x),l=Math.min(a.y,o.y),u,c;return{x:e.width*r+s,y:e.height*i+l}},e}(TE);function iL(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,aL(t,e)}function aL(t,e){return(aL=Object.setPrototypeOf||function t(e,n){return e.__proto__=n,e})(t,e)}var oL=mE,sL=rL,lL=Math.PI,uL=Math.atan;function cL(t,e){var n=t.x-e.x,r=t.y-e.y,i;return 0===r?i=n<0?lL/2:270*lL/180:n>=0&&r>0?i=2*lL-uL(n/r):n<=0&&r<0?i=lL-uL(n/r):n>0&&r<0?i=lL+uL(-n/r):n<0&&r>0&&(i=uL(n/-r)),i}var hL,fL=function(t){function e(){return t.apply(this,arguments)||this}iL(e,t);var n=e.prototype;return n.getDefaultCfg=function e(){var n=t.prototype.getDefaultCfg.call(this);return oL.mix({},n,{name:"arc",start:null,end:null,style:{stroke:"#999",lineWidth:1}})},n.render=function t(e,n){var r=this,i=r.parsePoint(e,r.get("start")),a=r.parsePoint(e,r.get("end"));if(i&&a){var o=e.getCenter(),s=Math.sqrt((i.x-o.x)*(i.x-o.x)+(i.y-o.y)*(i.y-o.y)),l,u=cL(i,o),c=cL(a,o);if(c<u&&(c+=2*lL),oL.isNumberEqual(i.x,a.x)&&oL.isNumberEqual(i.y,a.y)&&(r.get("start")[0]!==r.get("end")[0]||r.get("start")[1]!==r.get("end")[1]))l=[["M",i.x,i.y],["A",s,s,0,1,1,2*o.x-i.x,2*o.y-i.y],["A",s,s,0,1,1,i.x,i.y]];else{var h,f=(c-u)%(2*lL)>lL?1:0;l=[["M",i.x,i.y],["A",s,s,0,f,1,a.x,a.y]]}var p=n.addShape("path",{zIndex:r.get("zIndex"),attrs:oL.mix({path:l},r.get("style"))});p.name="guide-arc",r.get("appendInfo")&&p.setSilent("appendInfo",r.get("appendInfo")),r.set("el",p)}},e}(sL);function pL(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,dL(t,e)}function dL(t,e){return(dL=Object.setPrototypeOf||function t(e,n){return e.__proto__=n,e})(t,e)}var gL=mE,vL,mL,yL=function(t){function e(){return t.apply(this,arguments)||this}pL(e,t);var n=e.prototype;return n.getDefaultCfg=function e(){var n=t.prototype.getDefaultCfg.call(this);return gL.mix({},n,{name:"dataMarker",zIndex:1,top:!0,position:null,style:{point:{r:3,fill:"#FFFFFF",stroke:"#1890FF",lineWidth:2},line:{stroke:"#A3B1BF",lineWidth:1},text:{fill:"#000000",opacity:.65,fontSize:12,textAlign:"start"}},display:{point:!0,line:!0,text:!0},lineLength:20,direction:"upward",autoAdjust:!0})},n.render=function t(e,n){var r=this,i=r.parsePoint(e,r.get("position"));if(i){var a=n.addGroup();a.name="guide-data-marker";var o=r._getElementPosition(i),s=r.get("display"),l,u;if(s.line){var c=o.line;l=r._drawLine(c,a)}if(s.text&&r.get("content")){var h=o.text;u=r._drawText(h,a)}if(s.point){var f=o.point;r._drawPoint(f,a)}if(r.get("autoAdjust")){var p=a.getBBox(),d=p.minX,g=p.minY,v=p.maxX,m=p.maxY,y=e.start,x=e.end;if(u){d<=y.x&&u.attr("textAlign","start"),v>=x.x&&u.attr("textAlign","end");var _=r.get("direction");if("upward"===_&&g<=x.y||"upward"!==_&&m>=y.y){var b,w;"upward"===_&&g<=x.y?(b="top",w=1):(b="bottom",w=-1),u.attr("textBaseline",b);var S=0;if(r.get("display").line){S=r.get("lineLength");var M=[["M",i.x,i.y],["L",i.x,i.y+S*w]];l.attr("path",M)}var C=i.y+(S+2)*w;u.attr("y",C)}}}r.get("appendInfo")&&a.setSilent("appendInfo",r.get("appendInfo")),r.set("el",a)}},n._getElementPosition=function t(e){var n=this,r=e.x,i=e.y,a=n.get("display").line?n.get("lineLength"):0,o=n.get("direction"),s;n.get("style").text.textBaseline="upward"===o?"bottom":"top";var l="upward"===o?-1:1,u,c,h,f;return{point:{x:r,y:i},line:[{x:r,y:i},{x:r,y:a*l+i}],text:{x:r,y:(a+2)*l+i}}},n._drawLine=function t(e,n){var r,i=this.get("style").line,a=[["M",e[0].x,e[0].y],["L",e[1].x,e[1].y]],o;return n.addShape("path",{attrs:gL.mix({path:a},i)})},n._drawText=function t(e,n){var r=this,i=this.get("style").text,a;return n.addShape("text",{attrs:gL.mix({text:r.get("content")},i,e)})},n._drawPoint=function t(e,n){var r,i=this.get("style").point,a;return n.addShape("circle",{attrs:gL.mix({},i,e)})},e}(rL);function xL(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,_L(t,e)}function _L(t,e){return(_L=Object.setPrototypeOf||function t(e,n){return e.__proto__=n,e})(t,e)}var bL=mE,wL=ZO,SL,ML=function(t){function e(){return t.apply(this,arguments)||this}xL(e,t);var n=e.prototype;return n.getDefaultCfg=function e(){var n=t.prototype.getDefaultCfg.call(this);return bL.mix({},n,{name:"dataRegion",start:null,end:null,content:"",style:{region:{lineWidth:0,fill:"#000000",opacity:.04},text:{textAlign:"center",textBaseline:"bottom",fontSize:12,fill:"rgba(0, 0, 0, .65)"}}})},n.render=function t(e,n,r){var i=this,a=i.get("lineLength")||0,o=i._getRegionData(e,r);if(o.length){var s=i._getBBox(o),l=[];l.push(["M",o[0].x,s.yMin-a]);for(var u=0,c=o.length;u<c;u++){var h=["L",o[u].x,o[u].y];l.push(h)}l.push(["L",o[o.length-1].x,s.yMin-a]);var f=i.get("style"),p=f.region,d=f.text,g=n.addGroup();g.name="guide-data-region",g.addShape("path",{attrs:bL.mix({path:l},p)});var v=i.get("content");v&&g.addShape("Text",{attrs:bL.mix({x:(s.xMin+s.xMax)/2,y:s.yMin-a,text:v},d)}),i.get("appendInfo")&&g.setSilent("appendInfo",i.get("appendInfo")),i.set("el",g)}},n._getRegionData=function t(e,n){for(var r=this,i=r.get("start"),a=r.get("end"),o=wL.getFirstScale(r.get("xScales")).field,s=wL.getFirstScale(r.get("yScales")).field,l=bL.isArray(i)?i[0]:i[o],u=bL.isArray(a)?a[0]:a[o],c,h=[],f=0,p=n.length;f<p;f++){var d=n[f];if(d[o]===l&&(c=f),f>=c){var g=r.parsePoint(e,[d[o],d[s]]);g&&h.push(g)}if(d[o]===u)break}return h},n._getBBox=function t(e){for(var n=[],r=[],i=0;i<e.length;i++)n.push(e[i].x),r.push(e[i].y);var a=bL.arrayUtil.getRange(n),o=bL.arrayUtil.getRange(r);return{xMin:a.min,xMax:a.max,yMin:o.min,yMax:o.max}},e}(rL),CL=ML;function AL(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,PL(t,e)}function PL(t,e){return(PL=Object.setPrototypeOf||function t(e,n){return e.__proto__=n,e})(t,e)}var kL=mE,TL=kL.DomUtil,IL,EL,OL=function(t){function e(){return t.apply(this,arguments)||this}AL(e,t);var n=e.prototype;return n.getDefaultCfg=function e(){var n=t.prototype.getDefaultCfg.call(this);return kL.mix({},n,{name:"html",zIndex:7,position:null,alignX:"middle",alignY:"middle",offsetX:null,offsetY:null,html:null})},n.render=function t(e,n){var r=this,i=r.parsePoint(e,r.get("position"));if(i){var a=n.get("canvas").get("el").parentNode,o=TL.createDom('<div class="g-guide"></div>');a.appendChild(o);var s=r.get("htmlContent")||r.get("html"),l,u;if(kL.isFunction(s))s=s(r.get("xScales"),r.get("yScales"));var c=TL.createDom(s);o.appendChild(c),TL.modifyCSS(o,{position:"absolute"}),r._setDomPosition(o,c,i),r.set("el",o)}},n._setDomPosition=function t(e,n,r){var i=this,a=i.get("alignX"),o=i.get("alignY"),s=TL.getOuterWidth(n),l=TL.getOuterHeight(n),u={x:r.x,y:r.y};"middle"===a&&"top"===o?u.x-=Math.round(s/2):"middle"===a&&"bottom"===o?(u.x-=Math.round(s/2),u.y-=Math.round(l)):"left"===a&&"bottom"===o?u.y-=Math.round(l):"left"===a&&"middle"===o?u.y-=Math.round(l/2):"left"===a&&"top"===o?(u.x=r.x,u.y=r.y):"right"===a&&"bottom"===o?(u.x-=Math.round(s),u.y-=Math.round(l)):"right"===a&&"middle"===o?(u.x-=Math.round(s),u.y-=Math.round(l/2)):"right"===a&&"top"===o?u.x-=Math.round(s):(u.x-=Math.round(s/2),u.y-=Math.round(l/2));var c=i.get("offsetX");c&&(u.x+=c);var h=i.get("offsetY");h&&(u.y+=h),TL.modifyCSS(e,{top:Math.round(u.y)+"px",left:Math.round(u.x)+"px",visibility:"visible",zIndex:i.get("zIndex")})},n.clear=function t(){var e,n=this.get("el");n&&n.parentNode&&n.parentNode.removeChild(n)},e}(rL);function LL(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,DL(t,e)}function DL(t,e){return(DL=Object.setPrototypeOf||function t(e,n){return e.__proto__=n,e})(t,e)}var FL=mE,BL,RL,NL=function(t){function e(){return t.apply(this,arguments)||this}LL(e,t);var n=e.prototype;return n.getDefaultCfg=function e(){var n=t.prototype.getDefaultCfg.call(this);return FL.mix({},n,{type:"image",start:null,end:null,src:null,offsetX:null,offsetY:null})},n.render=function t(e,n){var r=this,i=r.parsePoint(e,r.get("start"));if(i){var a={x:i.x,y:i.y};if(a.img=r.get("src"),r.get("end")){var o=r.parsePoint(e,r.get("end"));if(!o)return;a.width=o.x-i.x,a.height=o.y-i.y}else a.width=r.get("width")||32,a.height=r.get("height")||32;r.get("offsetX")&&(a.x+=r.get("offsetX")),r.get("offsetY")&&(a.y+=r.get("offsetY"));var s=n.addShape("Image",{zIndex:1,attrs:a});s.name="guide-image",r.get("appendInfo")&&s.setSilent("appendInfo",r.get("appendInfo")),r.set("el",s)}},e}(rL);function jL(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,zL(t,e)}function zL(t,e){return(zL=Object.setPrototypeOf||function t(e,n){return e.__proto__=n,e})(t,e)}var YL=mE,GL=rL,XL=YL.MatrixUtil.vec2,VL,HL=nO.FONT_FAMILY,WL,qL;function UL(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,ZL(t,e)}function ZL(t,e){return(ZL=Object.setPrototypeOf||function t(e,n){return e.__proto__=n,e})(t,e)}var QL=mE,$L,JL,KL;function tD(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,eD(t,e)}function eD(t,e){return(eD=Object.setPrototypeOf||function t(e,n){return e.__proto__=n,e})(t,e)}var nD=mE,rD,iD,aD,oD={Guide:rL,Arc:fL,DataMarker:yL,DataRegion:CL,Html:OL,Image:NL,Line:function(t){function e(){return t.apply(this,arguments)||this}jL(e,t);var n=e.prototype;return n.getDefaultCfg=function e(){var n=t.prototype.getDefaultCfg.call(this);return YL.mix({},n,{name:"line",start:null,end:null,lineStyle:{stroke:"#000",lineWidth:1},text:{position:"end",autoRotate:!0,style:{fill:"#999",fontSize:12,fontWeight:500,fontFamily:HL},content:null}})},n.render=function t(e,n){var r=this,i=r.parsePoint(e,r.get("start")),a=r.parsePoint(e,r.get("end"));if(i&&a){var o=n.addGroup({viewId:n.get("viewId")});r._drawLines(i,a,o);var s=r.get("text");s&&s.content&&r._drawText(i,a,o),r.set("el",o)}},n._drawLines=function t(e,n,r){var i=[["M",e.x,e.y],["L",n.x,n.y]],a=r.addShape("Path",{attrs:YL.mix({path:i},this.get("lineStyle"))});a.name="guide-line",this.get("appendInfo")&&a.setSilent("appendInfo",this.get("appendInfo"))},n._drawText=function t(e,n,r){var i=this.get("text"),a=i.position,o=i.style||{},s;((s="start"===a?0:"center"===a?.5:YL.isString(a)&&-1!==a.indexOf("%")?parseInt(a,10)/100:YL.isNumber(a)?a:1)>1||s<0)&&(s=1);var l={x:e.x+(n.x-e.x)*s,y:e.y+(n.y-e.y)*s};if(i.offsetX&&(l.x+=i.offsetX),i.offsetY&&(l.y+=i.offsetY),l.text=i.content,l=YL.mix({},l,o),i.autoRotate&&YL.isNil(o.rotate)){var u=XL.angleTo([n.x-e.x,n.y-e.y],[1,0],1);l.rotate=u}else YL.isNil(o.rotate)||(l.rotate=o.rotate*Math.PI/180);var c=r.addShape("Text",{attrs:l});c.name="guide-line-text",this.get("appendInfo")&&c.setSilent("appendInfo",this.get("appendInfo"))},e}(GL),Region:function(t){function e(){return t.apply(this,arguments)||this}UL(e,t);var n=e.prototype;return n.getDefaultCfg=function e(){var n=t.prototype.getDefaultCfg.call(this);return QL.mix({},n,{name:"region",zIndex:1,start:null,end:null,style:{lineWidth:0,fill:"#CCD7EB",opacity:.4}})},n.render=function t(e,n){var r=this,i=r.get("style"),a=r._getPath(e);if(a.length){var o=n.addShape("path",{zIndex:r.get("zIndex"),attrs:QL.mix({path:a},i)});o.name="guide-region",r.get("appendInfo")&&o.setSilent("appendInfo",r.get("appendInfo")),r.set("el",o)}},n._getPath=function t(e){var n=this,r=n.parsePoint(e,n.get("start")),i=n.parsePoint(e,n.get("end")),a;return r&&i?[["M",r.x,r.y],["L",i.x,r.y],["L",i.x,i.y],["L",r.x,i.y],["z"]]:[]},e}(rL),Text:function(t){function e(){return t.apply(this,arguments)||this}tD(e,t);var n=e.prototype;return n.getDefaultCfg=function e(){var n=t.prototype.getDefaultCfg.call(this);return nD.mix({},n,{name:"text",position:null,content:null,style:{fill:"#999",fontSize:12,fontWeight:500,textAlign:"center"},offsetX:null,offsetY:null,top:!0})},n.render=function t(e,n){var r=this,i=r.parsePoint(e,r.get("position"));if(i){var a=nD.mix({},r.get("style")),o=r.get("offsetX"),s=r.get("offsetY");o&&(i.x+=o),s&&(i.y+=s),a.rotate&&(a.rotate=a.rotate*Math.PI/180);var l=n.addShape("Text",{zIndex:r.get("zIndex"),attrs:nD.mix({text:r.get("content")},a,i)});l.name="guide-text",r.get("appendInfo")&&l.setSilent("appendInfo",r.get("appendInfo")),r.set("el",l)}},e}(rL)},sD,lD=eO;function uD(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,cD(t,e)}function cD(t,e){return(cD=Object.setPrototypeOf||function t(e,n){return e.__proto__=n,e})(t,e)}var hD=mE,fD,pD,dD=nO.FONT_FAMILY,gD,vD=function(t){uD(n,t);var e=n.prototype;function n(e){var n;return(n=t.call(this,e)||this)._init(),n.beforeRender(),n.render(),n._adjustPositionOffset(),n._bindEvents(),n}return e.getDefaultCfg=function t(){return{container:null,title:null,formatter:null,hoverable:!0,titleGap:15,position:[0,0],offset:[0,0],offsetX:null,offsetY:null}},e._init=function t(){var e=this.get("group"),n=this.get("container");this.set("canvas",n.get("canvas"));var r=this.get("position");e||(e=n.addGroup({x:0-r[0],y:0-r[1]})),this.set("group",e)},e._adjustPositionOffset=function t(){var e=this.get("position"),n=this.get("offset"),r=this.get("offsetX"),i=this.get("offsetY"),a;hD.isArray(n)||(n="vertical"===this.get("layout")?[n,0]:[0,n]);r&&(n[0]=r),i&&(n[1]=i);var o=this.get("group").getBBox();this.move(-o.minX+e[0]+n[0],-o.minY+e[1]+n[1])},e.beforeRender=function t(){var e,n=this.get("group").addGroup();this.set("itemsGroup",n)},e.render=function t(){this._renderTitle()},e._renderTitle=function t(){var e=this.get("title"),n=this.get("titleGap");if(n=n||0,e&&e.text){var r,i=this.get("group").addShape("text",{attrs:hD.mix({x:0,y:0-n,fill:"#333",textBaseline:"middle",fontFamily:dD},e)});i.name="legend-title",this.get("appendInfo")&&i.setSilent("appendInfo",this.get("appendInfo")),this.set("titleShape",i)}},e.getCheckedCount=function t(){var e,n=this.get("itemsGroup").get("children"),r;return hD.filter(n,(function(t){return t.get("checked")})).length},e.setItems=function t(e){this.set("items",e),this.clear(),this.render()},e.addItem=function t(e){var n;this.get("items").push(e),this.clear(),this.render()},e.clear=function t(){var e,n;this.get("itemsGroup").clear(),this.get("group").clear(),this.beforeRender()},e.destroy=function e(){var n=this.get("group");n&&n.destroy(),this._attrs={},this.removeAllListeners(),t.prototype.destroy.call(this)},e.getWidth=function t(){var e;return this.get("group").getBBox().width},e.getHeight=function t(){var e;return this.get("group").getBBox().height},e.move=function t(e,n){this.get("group").move(e,n)},e.draw=function t(){this.get("canvas").draw()},n}(TE);function mD(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,yD(t,e)}function yD(t,e){return(yD=Object.setPrototypeOf||function t(e,n){return e.__proto__=n,e})(t,e)}var xD=mE,_D=vD,bD,wD=nO.FONT_FAMILY,SD=xD.Event,MD=xD.Group;function CD(t,e){var n=null,r=e instanceof MD||"legendGroup"===e.name?e.get("value"):e;return xD.each(t,(function(t){if(t.value===r)return n=t,!1})),n}function AD(t,e){return t.findBy((function(t){return t.name===e}))}var PD,kD=function(t){function e(){return t.apply(this,arguments)||this}mD(e,t);var n=e.prototype;return n.getDefaultCfg=function e(){var n=t.prototype.getDefaultCfg.call(this);return xD.mix({},n,{type:"category-legend",items:null,itemGap:5,itemMarginBottom:8,itemsGroup:null,layout:"horizontal",allowAllCanceled:!1,backPadding:[0,0,0,0],unCheckColor:"#ccc",background:{fill:"#fff",fillOpacity:0},itemWidth:null,textStyle:{fill:"#333",fontSize:12,textAlign:"start",textBaseline:"middle",fontFamily:wD},_wordSpaceing:8,clickable:!0,selectedMode:"multiple",reversed:!1,autoWrap:!0,highlight:!1,activeOpacity:.7,inactiveOpacity:1})},n.render=function e(){t.prototype.render.call(this),this._renderItems(),this.get("autoWrap")&&this._adjustItems()},n._bindEvents=function t(){this.get("hoverable")&&(this.get("group").on("mousemove",xD.wrapBehavior(this,"_onMousemove")),this.get("group").on("mouseleave",xD.wrapBehavior(this,"_onMouseleave"))),this.get("clickable")&&this.get("group").on("click",xD.wrapBehavior(this,"_onClick"))},n._getLegendItem=function t(e){var n=e.get("parent");return n&&"legendGroup"===n.name?n:null},n.activate=function t(e){var n=this,r=this,i,a=r.get("itemsGroup").get("children"),o=void 0;a.forEach((function(t){if(o=AD(t,"legend-marker")){var i=t.get("checked");n.get("highlight")?t.get("value")===e&&i?o.attr("stroke","#333"):o.attr("stroke",null):t.get("value")===e&&o.attr("fillOpacity",r.get("activeOpacity"))}})),this.get("canvas").draw()},n.deactivate=function t(){var e=this,n=this,r,i=n.get("itemsGroup").get("children"),a=void 0,o=this.get("unCheckColor");i.forEach((function(t){if(a=AD(t,"legend-marker"))if(e.get("highlight")){var r=a.get("oriStroke"),i=t.get("checked");r=r&&!i?o:"",a.attr("stroke",r)}else a.attr("fillOpacity",n.get("inactiveOpacity"))})),this.get("canvas").draw()},n._onMousemove=function t(e){var n=this._getLegendItem(e.currentTarget);if(n&&n.get("checked")){var r=this.get("items"),i=new SD("itemhover",e,!0,!0);i.item=CD(r,n),i.checked=n.get("checked"),i.currentTarget=e.currentTarget,this.deactivate(),this.activate(n.get("value")),this.emit("itemhover",i)}else this.deactivate(),this.emit("itemunhover",e);this.get("canvas").draw()},n._onMouseleave=function t(e){this.deactivate(),this.get("canvas").draw(),this.emit("itemunhover",e)},n._onClick=function t(e){var n=this._getLegendItem(e.currentTarget),r=this.get("items");if(n&&!n.get("destroyed")){var i=n.get("checked"),a=this.get("selectedMode"),o=CD(r,n),s=new SD("itemclick",e,!0,!0);if(s.item=o,s.currentTarget=n,s.appendInfo=e.currentTarget.get("appendInfo"),s.checked="single"===a||!i,!this.get("allowAllCanceled")&&i&&1===this.getCheckedCount())return void this.emit("clicklastitem",s);var l=this.get("unCheckColor"),u=this.get("textStyle").fill,c=void 0,h=void 0,f=void 0;if("single"===a){var p,d=this.get("itemsGroup").get("children");xD.each(d,(function(t){c=AD(t,"legend-marker"),h=AD(t,"legend-text"),f=AD(t,"legend-item"),t!==n?(c.attr("fill")&&c.attr("fill",l),c.attr("stroke")&&c.attr("stroke",l),h.attr("fill",l),c.setSilent("checked",!1),h.setSilent("checked",!1),f.setSilent("checked",!1),t.setSilent("checked",!1)):(c.attr("fill")&&o&&o.marker&&c.attr("fill",o.marker.fill),c.attr("stroke")&&o&&o.marker&&c.attr("stroke",o.marker.stroke),h.attr("fill",u),c.setSilent("checked",!0),h.setSilent("checked",!0),f.setSilent("checked",!0),t.setSilent("checked",!0))}))}else c=AD(n,"legend-marker"),h=AD(n,"legend-text"),f=AD(n,"legend-item"),c.attr("fill")&&o&&o.marker&&c.attr("fill",i?l:o.marker.fill),c.attr("stroke")&&o&&o.marker&&c.attr("stroke",i?l:o.marker.stroke),h.attr("fill",i?l:u),n.setSilent("checked",!i),c.setSilent("checked",!i),h.setSilent("checked",!i),f.setSilent("checked",!i);this.emit("itemclick",s)}this.get("canvas").draw()},n._renderItems=function t(){var e=this,n=this.get("items");if(this.get("reversed")&&n.reverse(),xD.each(n,(function(t,n){e._addItem(t,n)})),this.get("highlight")){var r,i=this.get("itemsGroup").get("children"),a=void 0;i.forEach((function(t){var e;(a=AD(t,"legend-marker")).get("oriStroke")||(a.attr("stroke")?a.set("oriStroke",a.attr("stroke")):a.set("oriStroke",""))}))}},n._formatItemValue=function t(e){var n=this.get("formatter")||this.get("itemFormatter");return n&&(e=n.call(this,e)),e},n._getNextX=function t(){var e=this.get("layout"),n=this.get("itemGap"),r=this.get("itemsGroup"),i=this.get("itemWidth"),a=r.get("children"),o=0;return"horizontal"===e&&xD.each(a,(function(t){o+=(i||t.getBBox().width)+n})),o},n._getNextY=function t(){var e=this.get("itemMarginBottom"),n=this.get("titleShape")?this.get("titleGap"):0,r=this.get("layout"),i=this.get("itemsGroup"),a=this.get("titleShape"),o=i.get("children"),s=n;return a&&(s+=a.getBBox().height),"vertical"===r&&xD.each(o,(function(t){s+=t.getBBox().height+e})),s},n._addItem=function t(e){var n=this.get("itemsGroup"),r=this._getNextX(),i=this._getNextY(),a=this.get("unCheckColor"),o=n.addGroup({x:r,y:i,value:e.value,checked:e.checked});o.set("viewId",this.get("viewId"));var s=this.get("textStyle"),l=this.get("_wordSpaceing"),u=0;if(e.marker){var c=xD.mix({},e.marker,{x:e.marker.radius+r,y:i});e.checked||(c.fill&&(c.fill=a),c.stroke&&(c.stroke=a));var h=o.addShape("marker",{type:"marker",attrs:c});h.attr("cursor","pointer"),h.name="legend-marker",u+=h.getBBox().width+l}var f=xD.mix({},{fill:"#333",fontSize:12,textAlign:"start",textBaseline:"middle",fontFamily:wD},s,{x:u+r,y:i,text:this._formatItemValue(e.value)});e.checked||xD.mix(f,{fill:a});var p=o.addShape("text",{attrs:f});p.attr("cursor","pointer"),p.name="legend-text",this.get("appendInfo")&&p.setSilent("appendInfo",this.get("appendInfo"));var d=o.getBBox(),g=this.get("itemWidth"),v=o.addShape("rect",{attrs:{x:r,y:i-d.height/2,fill:"#fff",fillOpacity:0,width:g||d.width,height:d.height}});return v.attr("cursor","pointer"),v.setSilent("origin",e),v.name="legend-item",this.get("appendInfo")&&v.setSilent("appendInfo",this.get("appendInfo")),o.name="legendGroup",o},n._adjustHorizontal=function t(){var e=this.get("itemsGroup"),n=e.get("children"),r=this.get("maxLength"),i=this.get("itemGap"),a=this.get("itemMarginBottom"),o=this.get("titleShape")?this.get("titleGap"):0,s=0,l=0,u=void 0,c=void 0,h=void 0,f=this.get("itemWidth");e.getBBox().width>r&&xD.each(n,(function(t){h=t.getBBox(),u=f||h.width,c=h.height+a,r-l<u&&(s++,l=0),t.move(l,s*c+o),l+=u+i}))},n._adjustVertical=function t(){var e=this.get("itemsGroup"),n=this.get("titleShape"),r=e.get("children"),i=this.get("maxLength"),a=this.get("itemGap"),o=this.get("itemMarginBottom"),s=this.get("titleGap"),l=n?n.getBBox().height+s:0,u=this.get("itemWidth"),c=l,h=void 0,f=void 0,p=void 0,d=0,g=0;e.getBBox().height>i&&xD.each(r,(function(t){p=t.getBBox(),h=p.width,f=p.height,u?d=u+a:h>d&&(d=h+a),i-c<f?(c=l,g+=d,t.move(g,l)):t.move(g,c),c+=f+o}))},n._adjustItems=function t(){var e;"horizontal"===this.get("layout")?this._adjustHorizontal():this._adjustVertical()},n.getWidth=function e(){return t.prototype.getWidth.call(this)},n.getHeight=function e(){return t.prototype.getHeight.call(this)},n.move=function e(n,r){t.prototype.move.call(this,n,r)},e}(_D);function TD(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,ID(t,e)}function ID(t,e){return(ID=Object.setPrototypeOf||function t(e,n){return e.__proto__=n,e})(t,e)}var ED=mE,OD=kD,LD,DD=nO.FONT_FAMILY,FD=ED.DomUtil,BD=ED.Group,RD="g2-legend",ND="g2-legend-title",jD="g2-legend-list",zD="g2-legend-list-item",YD="g2-legend-text",GD="g2-legend-marker";function XD(t,e){return t.getElementsByClassName(e)[0]}function VD(t,e){var n=t.className;return ED.isNil(n)||(n=n.split(" ")).indexOf(e)>-1?t:t.parentNode?"g2-legend"===t.parentNode.className?t.parentNode:VD(t.parentNode,e):null}function HD(t,e){var n=null,r=e instanceof BD?e.get("value"):e;return ED.each(t,(function(t){if(t.value===r)return n=t,!1})),n}var WD,qD=function(t){function e(){return t.apply(this,arguments)||this}TD(e,t);var n=e.prototype;return n.getDefaultCfg=function e(){var n=t.prototype.getDefaultCfg.call(this);return ED.mix({},n,{type:"category-legend",container:null,containerTpl:'<div class="g2-legend"><h4 class="g2-legend-title"></h4><ul class="g2-legend-list"></ul></div>',itemTpl:'<li class="'+zD+' item-{index} {checked}" data-color="{originColor}" data-value="{originValue}"><i class="'+GD+'" style="background-color:{color};"></i><span class="'+YD+'">{value}</span></li>',legendStyle:{},textStyle:{fill:"#333",fontSize:12,textAlign:"middle",textBaseline:"top",fontFamily:DD},abridgeText:!1,tipTpl:'<div class="textTip"></div>',tipStyle:{display:"none",fontSize:"12px",backgroundColor:"#fff",position:"absolute",width:"auto",height:"auto",padding:"3px",boxShadow:"2px 2px 5px #888"},autoPosition:!0})},n._init=function t(){},n.beforeRender=function t(){},n.render=function t(){this._renderHTML()},n._bindEvents=function t(){var e=this,n,r=XD(this.get("legendWrapper"),jD);this.get("hoverable")&&(r.onmousemove=function(t){return e._onMousemove(t)},r.onmouseout=function(t){return e._onMouseleave(t)}),this.get("clickable")&&(r.onclick=function(t){return e._onClick(t)})},n._onMousemove=function t(e){var n=this.get("items"),r=e.target,i=r.className;if(!((i=i.split(" ")).indexOf("g2-legend")>-1||i.indexOf(jD)>-1)){var a=VD(r,zD),o=HD(n,a.getAttribute("data-value"));o?(this.deactivate(),this.activate(a.getAttribute("data-value")),this.emit("itemhover",{item:o,currentTarget:a,checked:o.checked})):o||(this.deactivate(),this.emit("itemunhover",e))}},n._onMouseleave=function t(e){this.deactivate(),this.emit("itemunhover",e)},n._onClick=function t(e){var n=this,r,i=XD(this.get("legendWrapper"),jD),a=this.get("unCheckColor"),o=this.get("items"),s=this.get("selectedMode"),l=i.childNodes,u=e.target,c=u.className;if(!((c=c.split(" ")).indexOf("g2-legend")>-1||c.indexOf(jD)>-1)){var h=VD(u,zD),f=XD(h,YD),p=XD(h,GD),d=HD(o,h.getAttribute("data-value"));if(d){var g=h.className,v=h.getAttribute("data-color");if("single"===s)d.checked=!0,ED.each(l,(function(t){var e,r;t!==h?(XD(t,GD).style.backgroundColor=a,t.className=t.className.replace("checked","unChecked"),t.style.color=a,HD(o,t.getAttribute("data-value")).checked=!1):(f&&(f.style.color=n.get("textStyle").fill),p&&(p.style.backgroundColor=v),h.className=g.replace("unChecked","checked"))}));else{var m=-1!==g.indexOf("checked"),y=0;if(ED.each(l,(function(t){-1!==t.className.indexOf("checked")&&y++})),!this.get("allowAllCanceled")&&m&&1===y)return void this.emit("clicklastitem",{item:d,currentTarget:h,checked:"single"===s||d.checked});d.checked=!d.checked,m?(p&&(p.style.backgroundColor=a),h.className=g.replace("checked","unChecked"),h.style.color=a):(p&&(p.style.backgroundColor=v),h.className=g.replace("unChecked","checked"),h.style.color=this.get("textStyle").fill)}this.emit("itemclick",{item:d,currentTarget:h,checked:"single"===s||d.checked})}}},n.activate=function t(e){var n=this,r=this,i=r.get("items"),a=HD(i,e),o,s,l;XD(r.get("legendWrapper"),jD).childNodes.forEach((function(t){var e=XD(t,GD),o=HD(i,t.getAttribute("data-value"));if(n.get("highlight")){if(o===a&&o.checked)return void(e.style.border="1px solid #333")}else o===a?e.style.opacity=r.get("activeOpacity"):o.checked&&(e.style.opacity=r.get("inactiveOpacity"))}))},n.deactivate=function t(){var e=this,n=this,r,i,a;XD(n.get("legendWrapper"),jD).childNodes.forEach((function(t){var r=XD(t,GD);e.get("highlight")?r.style.border="1px solid #fff":r.style.opacity=n.get("inactiveOpacity")}))},n._renderHTML=function t(){var e=this,n=this.get("container"),r=this.get("title"),i=this.get("containerTpl"),a=FD.createDom(i),o=XD(a,ND),s=XD(a,jD),l=this.get("unCheckColor"),u=ED.deepMix({},{CONTAINER_CLASS:{height:"auto",width:"auto",position:"absolute",overflowY:"auto",fontSize:"12px",fontFamily:DD,lineHeight:"20px",color:"#8C8C8C"},TITLE_CLASS:{marginBottom:this.get("titleGap")+"px",fontSize:"12px",color:"#333",textBaseline:"middle",fontFamily:DD},LIST_CLASS:{listStyleType:"none",margin:0,padding:0,textAlign:"center"},LIST_ITEM_CLASS:{cursor:"pointer",marginBottom:"5px",marginRight:"24px"},MARKER_CLASS:{width:"9px",height:"9px",borderRadius:"50%",display:"inline-block",marginRight:"4px",verticalAlign:"middle"}},this.get("legendStyle"));if(/^\#/.test(n)||"string"==typeof n&&n.constructor===String){var c=n.replace("#","");(n=document.getElementById(c)).appendChild(a)}else{var h=this.get("position"),f={};f="left"===h||"right"===h?{maxHeight:(this.get("maxLength")||n.offsetHeight)+"px"}:{maxWidth:(this.get("maxLength")||n.offsetWidth)+"px"},FD.modifyCSS(a,ED.mix({},u.CONTAINER_CLASS,f,this.get("g2-legend"))),n.appendChild(a)}FD.modifyCSS(s,ED.mix({},u.LIST_CLASS,this.get(jD))),o&&(r&&r.text?(o.innerHTML=r.text,FD.modifyCSS(o,ED.mix({},u.TITLE_CLASS,this.get(ND),r))):a.removeChild(o));var p=this.get("items"),d=this.get("itemTpl"),g=this.get("position"),v=this.get("layout"),m="right"===g||"left"===g||"vertical"===v?"block":"inline-block",y=ED.mix({},u.LIST_ITEM_CLASS,{display:m},this.get(zD)),x=ED.mix({},u.MARKER_CLASS,this.get(GD));if(ED.each(p,(function(t,n){var r=t.checked,i=e._formatItemValue(t.value),o=t.marker.fill||t.marker.stroke,u=r?o:l,c;c=ED.isFunction(d)?d(i,u,r,n):d;var h=ED.substitute(c,ED.mix({},t,{index:n,checked:r?"checked":"unChecked",value:i,color:u,originColor:o,originValue:t.value.replace(/\"/g,"&quot;")})),f=FD.createDom(h);f.style.color=e.get("textStyle").fill;var p=XD(f,GD),g=XD(f,YD);if(FD.modifyCSS(f,y),p&&FD.modifyCSS(p,x),r||(f.style.color=l,p&&(p.style.backgroundColor=l)),s.appendChild(f),e.get("abridgeText")){var v=i,m=f.offsetWidth,_=e.get("textStyle").fontSize;isNaN(_)&&(-1!==_.indexOf("pt")?_=1*parseFloat(_.substr(0,_.length-2))/72*96:-1!==_.indexOf("px")&&(_=parseFloat(_.substr(0,_.length-2))));var b=_*v.length,w=Math.floor(m/_);m<2*_?v="":m<b&&w>1&&(v=v.substr(0,w-1)+"..."),g.innerText=v,f.addEventListener("mouseover",(function(){var t=XD(a.parentNode,"textTip");t.style.display="block",t.style.left=f.offsetLeft+f.offsetWidth+"px",t.style.top=f.offsetTop+15+"px",t.innerText=i})),f.addEventListener("mouseout",(function(){var t;XD(a.parentNode,"textTip").style.display="none"}))}})),this.get("abridgeText")){var _=this.get("tipTpl"),b=FD.createDom(_),w=this.get("tipStyle");FD.modifyCSS(b,w),a.parentNode.appendChild(b),b.addEventListener("mouseover",(function(){b.style.display="none"}))}this.set("legendWrapper",a)},n._adjustPositionOffset=function t(){var e;if(!1!==this.get("autoPosition")){var n=this.get("position"),r=this.get("offset"),i=this.get("offsetX"),a=this.get("offsetY");i&&(r[0]=i),a&&(r[1]=a);var o=this.get("legendWrapper");o.style.left=n[0]+"px",o.style.top=n[1]+"px",o.style.marginLeft=r[0]+"px",o.style.marginTop=r[1]+"px"}},n.getWidth=function t(){return FD.getOuterWidth(this.get("legendWrapper"))},n.getHeight=function t(){return FD.getOuterHeight(this.get("legendWrapper"))},n.move=function e(n,r){/^\#/.test(this.get("container"))?t.prototype.move.call(this,n,r):(FD.modifyCSS(this.get("legendWrapper"),{left:n+"px",top:r+"px"}),this.set("x",n),this.set("y",r))},n.destroy=function e(){var n=this.get("legendWrapper");n&&n.parentNode&&n.parentNode.removeChild(n),t.prototype.destroy.call(this)},e}(OD);function UD(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,ZD(t,e)}function ZD(t,e){return(ZD=Object.setPrototypeOf||function t(e,n){return e.__proto__=n,e})(t,e)}var QD=mE,$D=qD,JD,KD=nO.FONT_FAMILY,tF=QD.DomUtil,eF="g2-legend-list",nF="g2-slip",rF="g2-caret-up",iF="g2-caret-down",aF="rgba(0,0,0,0.65)",oF="rgba(0,0,0,0.25)";function sF(t,e){return t.getElementsByClassName(e)[0]}var lF=function(t){function e(){return t.apply(this,arguments)||this}UD(e,t);var n=e.prototype;return n.getDefaultCfg=function e(){var n=t.prototype.getDefaultCfg.call(this);return QD.mix({},n,{type:"category-page-legend",container:null,caretStyle:{fill:"rgba(0,0,0,0.65)"},pageNumStyle:{display:"inline-block",fontSize:"12px",fontFamily:KD,cursor:"default"},slipDomStyle:{width:"auto",height:"auto",position:"absolute"},slipTpl:'<div class="g2-slip" ><svg viewBox="64 64 896 896" class="g2-caret-up" data-icon="left" style = "display:inline-block;vertical-align:middle;" width="1em" height="1em" aria-hidden="true"><path d="M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 0 0 0 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z"></path></svg><p class="cur-pagenum" style = "display:inline-block;vertical-align:middle;">1</p><p class="next-pagenum" style = "display:inline-block;vertical-align:middle;"">/2</p><svg viewBox="64 64 896 896" class="g2-caret-down" data-icon="right" style = "display:inline-block;vertical-align:middle;" width="1em" height="1em" aria-hidden="true"><path d="M765.7 486.8L314.9 134.7A7.97 7.97 0 0 0 302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 0 0 0-50.4z"></path></svg></div>',slipWidth:65,legendOverflow:"unset"})},n.render=function e(){t.prototype._renderHTML.call(this),this._renderFlipPage()},n._renderFlipPage=function t(){var e=this.get("legendWrapper"),n=sF(e,eF),r=this.get("position"),i=this.get("layout"),a="right"===r||"left"===r||"vertical"===i,o=a?"block":"inline-block",s=e.offsetHeight;if(e.scrollHeight>s){var l=this.get("slipTpl"),u=tF.createDom(l),c=sF(u,"g2-caret-up"),h=sF(u,"g2-caret-down");tF.modifyCSS(c,this.get("caretStyle")),tF.modifyCSS(c,{fill:"rgba(0,0,0,0.25)"}),tF.modifyCSS(h,this.get("caretStyle"));var f=sF(u,"cur-pagenum"),p=sF(u,"next-pagenum"),d=this.get("pageNumStyle");if(tF.modifyCSS(f,QD.mix({},d,{paddingLeft:"10px"})),tF.modifyCSS(p,QD.mix({},d,{opacity:.3,paddingRight:"10px"})),tF.modifyCSS(u,QD.mix({},this.get("slipDomStyle"),a?{top:s+"px"}:{right:0,top:"50%",transform:"translate(0, -50%)"})),e.style.overflow=this.get("legendOverflow"),e.appendChild(u),!a){var g=Math.max(e.offsetWidth-10-u.offsetWidth,0);tF.modifyCSS(n,{maxWidth:g+"px"})}for(var v=n.childNodes,m=0,y=1,x=[],_=0;_<v.length;_++)v[_].style.display=o,(m=v[_].offsetTop+v[_].offsetHeight)>s&&(y++,x.forEach((function(t){t.style.display="none"})),x=[]),x.push(v[_]);p.innerText="/"+y,v.forEach((function(t){t.style.display=o,(m=t.offsetTop+t.offsetHeight)>s&&(t.style.display="none")})),c.addEventListener("click",(function(){if(v[0].style.display!==o){var t=-1;v.forEach((function(e,n){e.style.display===o&&(t=-1===t?n:t,e.style.display="none")}));for(var e=t-1;e>=0&&(v[e].style.display=o,m=v[t-1].offsetTop+v[t-1].offsetHeight,v[e].style.display="none",m<=s);e--)v[e].style.display=o;var n=Number.parseInt(f.innerText,10)-1;c.style.fill=1===n?"rgba(0,0,0,0.25)":"rgba(0,0,0,0.65)",h.style.fill="rgba(0,0,0,0.65)",f.innerText=n}})),h.addEventListener("click",(function(){if(v[v.length-1].style.display!==o){var t=-1;v.forEach((function(e,n){e.style.display===o&&(t=n,e.style.display="none")}));for(var e=t+1;e<v.length&&(v[e].style.display=o,m=v[e].offsetTop+v[e].offsetHeight,v[e].style.display="none",m<=s);e++)v[e].style.display=o;var n=Number.parseInt(f.innerText,10)+1;h.style.fill=n===y?"rgba(0,0,0,0.25)":"rgba(0,0,0,0.65)",c.style.fill="rgba(0,0,0,0.65)",f.innerText=n}})),this.set("slipDom",u)}},n.destroy=function e(){var n=this.get("slipDom");n&&n.parentNode&&n.parentNode.removeChild(n),t.prototype.destroy.call(this)},e}($D),uF=lF,cF=mE,hF=cF.DomUtil,fF=cF.Group,pF=function t(e){t.superclass.constructor.call(this,e)},dF;function gF(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,vF(t,e)}function vF(t,e){return(vF=Object.setPrototypeOf||function t(e,n){return e.__proto__=n,e})(t,e)}cF.extend(pF,fF),cF.augment(pF,{getDefaultCfg:function t(){return{range:null,middleAttr:{fill:"#fff",fillOpacity:0},backgroundElement:null,minHandleElement:null,maxHandleElement:null,middleHandleElement:null,currentTarget:null,layout:"vertical",width:null,height:null,pageX:null,pageY:null}},_beforeRenderUI:function t(){var e=this.get("layout"),n=this.get("backgroundElement"),r=this.get("minHandleElement"),i=this.get("maxHandleElement"),a=this.addShape("rect",{attrs:this.get("middleAttr")}),o="vertical"===e?"ns-resize":"ew-resize";this.add([n,r,i]),this.set("middleHandleElement",a),n.set("zIndex",0),a.set("zIndex",1),r.set("zIndex",2),i.set("zIndex",2),a.attr("cursor","move"),r.attr("cursor",o),i.attr("cursor",o),this.sort()},_renderUI:function t(){"horizontal"===this.get("layout")?this._renderHorizontal():this._renderVertical()},_transform:function t(e){var n=this.get("range"),r=n[0]/100,i=n[1]/100,a=this.get("width"),o=this.get("height"),s=this.get("minHandleElement"),l=this.get("maxHandleElement"),u=this.get("middleHandleElement");s.resetMatrix(),l.resetMatrix(),"horizontal"===e?(u.attr({x:a*r,y:0,width:(i-r)*a,height:o}),s.translate(r*a,o),l.translate(i*a,o)):(u.attr({x:0,y:o*(1-i),width:a,height:(i-r)*o}),s.translate(1,(1-r)*o),l.translate(1,(1-i)*o))},_renderHorizontal:function t(){this._transform("horizontal")},_renderVertical:function t(){this._transform("vertical")},_bindUI:function t(){this.on("mousedown",cF.wrapBehavior(this,"_onMouseDown"))},_isElement:function t(e,n){var r=this.get(n),i;return e===r||!!r.isGroup&&r.get("children").indexOf(e)>-1},_getRange:function t(e,n){var r=e+n;return r=(r=r>100?100:r)<0?0:r},_updateStatus:function t(e,n){var r="x"===e?this.get("width"):this.get("height");e=cF.upperFirst(e);var i=this.get("range"),a=this.get("page"+e),o=this.get("currentTarget"),s=this.get("rangeStash"),l,u="vertical"===this.get("layout")?-1:1,c=n["page"+e],h,f=(c-a)/r*100*u,p;i[1]<=i[0]?(this._isElement(o,"minHandleElement")||this._isElement(o,"maxHandleElement"))&&(i[0]=this._getRange(f,i[0]),i[1]=this._getRange(f,i[0])):(this._isElement(o,"minHandleElement")&&(i[0]=this._getRange(f,i[0])),this._isElement(o,"maxHandleElement")&&(i[1]=this._getRange(f,i[1]))),this._isElement(o,"middleHandleElement")&&(p=s[1]-s[0],i[0]=this._getRange(f,i[0]),i[1]=i[0]+p,i[1]>100&&(i[1]=100,i[0]=i[1]-p)),this.emit("sliderchange",{range:i}),this.set("page"+e,c),this._renderUI(),this.get("canvas").draw()},_onMouseDown:function t(e){var n=e.currentTarget,r=e.event,i=this.get("range");r.stopPropagation(),r.preventDefault(),this.set("pageX",r.pageX),this.set("pageY",r.pageY),this.set("currentTarget",n),this.set("rangeStash",[i[0],i[1]]),this._bindCanvasEvents()},_bindCanvasEvents:function t(){var e=this.get("canvas").get("containerDOM");this.onMouseMoveListener=hF.addEventListener(e,"mousemove",cF.wrapBehavior(this,"_onCanvasMouseMove")),this.onMouseUpListener=hF.addEventListener(e,"mouseup",cF.wrapBehavior(this,"_onCanvasMouseUp")),this.onMouseLeaveListener=hF.addEventListener(e,"mouseleave",cF.wrapBehavior(this,"_onCanvasMouseUp"))},_onCanvasMouseMove:function t(e){var n;this._mouseOutArea(e)||("horizontal"===this.get("layout")?this._updateStatus("x",e):this._updateStatus("y",e))},_onCanvasMouseUp:function t(){this._removeDocumentEvents()},_removeDocumentEvents:function t(){this.onMouseMoveListener.remove(),this.onMouseUpListener.remove()},_mouseOutArea:function t(e){var n,r=this.get("canvas").get("el").getBoundingClientRect(),i=this.get("parent"),a=i.getBBox(),o=i.attr("matrix")[6],s=i.attr("matrix")[7],l=o+a.width,u=s+a.height,c=e.clientX-r.x,h=e.clientY-r.y;return c<o||c>l||h<s||h>u}});var mF=mE,yF=vD,xF=pF,_F,bF=nO.FONT_FAMILY,wF=8,SF=mF.Event,MF=mF.Group,CF,AF=function(t){function e(){return t.apply(this,arguments)||this}gF(e,t);var n=e.prototype;return n.getDefaultCfg=function e(){var n=t.prototype.getDefaultCfg.call(this);return mF.mix({},n,{type:"continuous-legend",items:null,layout:"vertical",width:20,height:156,textStyle:{fill:"#333",textAlign:"center",textBaseline:"middle",stroke:"#fff",lineWidth:5,fontFamily:bF},hoverTextStyle:{fill:"rgba(0,0,0,0.25)"},slidable:!0,triggerAttr:{fill:"#fff",shadowBlur:10,shadowColor:"rgba(0,0,0,0.65)",radius:2},_range:[0,100],middleBackgroundStyle:{fill:"#D9D9D9"},textOffset:4,lineStyle:{lineWidth:1,stroke:"#fff"},pointerStyle:{fill:"rgb(230, 230, 230)"}})},n._calStartPoint=function t(){var e={x:10,y:this.get("titleGap")-8},n=this.get("titleShape");if(n){var r=n.getBBox();e.y+=r.height}return e},n.beforeRender=function e(){var n=this.get("items");mF.isArray(n)&&!mF.isEmpty(n)&&(t.prototype.beforeRender.call(this),this.set("firstItem",n[0]),this.set("lastItem",n[n.length-1]))},n._formatItemValue=function t(e){var n=this.get("formatter")||this.get("itemFormatter");return n&&(e=n.call(this,e)),e},n.render=function e(){t.prototype.render.call(this),this.get("slidable")?this._renderSlider():this._renderUnslidable()},n._renderSlider=function t(){var e=new MF,n=new MF,r=new MF,i=this._calStartPoint(),a,o=this.get("group").addGroup(xF,{minHandleElement:e,maxHandleElement:n,backgroundElement:r,layout:this.get("layout"),range:this.get("_range"),width:this.get("width"),height:this.get("height")}),s;o.translate(i.x,i.y),this.set("slider",o),this._renderSliderShape().attr("clip",o.get("middleHandleElement")),this._renderTrigger()},n._addMiddleBar=function t(e,n,r){return e.addShape(n,{attrs:mF.mix({},r,this.get("middleBackgroundStyle"))}),e.addShape(n,{attrs:r})},n._renderTrigger=function t(){var e=this.get("firstItem"),n=this.get("lastItem"),r=this.get("layout"),i=this.get("textStyle"),a=this.get("triggerAttr"),o=mF.mix({},a),s=mF.mix({},a),l=mF.mix({text:this._formatItemValue(e.value)+""},i),u=mF.mix({text:this._formatItemValue(n.value)+""},i);"vertical"===r?(this._addVerticalTrigger("min",o,l),this._addVerticalTrigger("max",s,u)):(this._addHorizontalTrigger("min",o,l),this._addHorizontalTrigger("max",s,u))},n._addVerticalTrigger=function t(e,n,r){var i,a=this.get("slider").get(e+"HandleElement"),o=this.get("width"),s=a.addShape("rect",{attrs:mF.mix({x:o/2-8-2,y:"min"===e?0:-8,width:18,height:8},n)}),l=a.addShape("text",{attrs:mF.mix(r,{x:o+this.get("textOffset"),y:"max"===e?-4:4,textAlign:"start",lineHeight:1,textBaseline:"middle"})}),u,c="vertical"===this.get("layout")?"ns-resize":"ew-resize";s.attr("cursor",c),l.attr("cursor",c),this.set(e+"ButtonElement",s),this.set(e+"TextElement",l)},n._addHorizontalTrigger=function t(e,n,r){var i,a=this.get("slider").get(e+"HandleElement"),o=a.addShape("rect",{attrs:mF.mix({x:"min"===e?-8:0,y:-8-this.get("height")/2,width:8,height:16},n)}),s=a.addShape("text",{attrs:mF.mix(r,{x:"min"===e?-12:12,y:4+this.get("textOffset")+10,textAlign:"min"===e?"end":"start",textBaseline:"middle"})}),l,u="vertical"===this.get("layout")?"ns-resize":"ew-resize";o.attr("cursor",u),s.attr("cursor",u),this.set(e+"ButtonElement",o),this.set(e+"TextElement",s)},n._bindEvents=function t(){var e=this,n;this.get("slidable")&&this.get("slider").on("sliderchange",(function(t){var n=t.range,r=e.get("firstItem").value,i=e.get("lastItem").value,a=r+n[0]/100*(i-r),o=r+n[1]/100*(i-r);e._updateElement(a,o);var s=new SF("itemfilter",t,!0,!0);s.range=[a,o],e.emit("itemfilter",s)}));this.get("hoverable")&&(this.get("group").on("mousemove",mF.wrapBehavior(this,"_onMouseMove")),this.get("group").on("mouseleave",mF.wrapBehavior(this,"_onMouseLeave")))},n._updateElement=function t(e,n){var r=this.get("minTextElement"),i=this.get("maxTextElement");n>1&&(e=parseInt(e,10),n=parseInt(n,10)),r.attr("text",this._formatItemValue(e)+""),i.attr("text",this._formatItemValue(n)+"")},n._onMouseLeave=function t(){var e=this.get("group").findById("hoverPointer");e&&e.destroy();var n=this.get("group").findById("hoverText");n&&n.destroy(),this.get("canvas").draw()},n._onMouseMove=function t(e){var n=this.get("height"),r=this.get("width"),i=this.get("items"),a,o=this.get("canvas").get("el").getBoundingClientRect(),s=this.get("group").getBBox(),l;if("vertical"===this.get("layout")){var u=5;"color-legend"===this.get("type")&&(u=30);var c=this.get("titleGap"),h=this.get("titleShape");h&&(c+=h.getBBox().maxY-h.getBBox().minY);var f=e.clientY||e.event.clientY;f=f-o.y-this.get("group").attr("matrix")[7]+s.y-u+c,l=i[0].value+(1-f/n)*(i[i.length-1].value-i[0].value)}else{var p=e.clientX||e.event.clientX;p=p-o.x-this.get("group").attr("matrix")[6],l=i[0].value+p/r*(i[i.length-1].value-i[0].value)}l=l.toFixed(2),this.activate(l),this.emit("mousehover",{value:l})},n.activate=function t(e){if(e){var n=this.get("group").findById("hoverPointer"),r=this.get("group").findById("hoverText"),i=this.get("items");if(!(e<i[0].value||e>i[i.length-1].value)){var a=this.get("height"),o=this.get("width"),s=this.get("titleShape"),l=this.get("titleGap"),u=[],c=(e-i[0].value)/(i[i.length-1].value-i[0].value),h;if("vertical"===this.get("layout")){var f=0,p=0;"color-legend"===this.get("type")&&(f=l,s&&(f+=s.getBBox().height)),this.get("slidable")&&("color-legend"===this.get("type")?f-=13:(f=l-15,s&&(f+=s.getBBox().height)),p+=10),u=[[p,(c=(1-c)*a)+f],[p-10,c+f-5],[p-10,c+f+5]],h=mF.mix({},{x:o+this.get("textOffset")/2+p,y:c+f,text:this._formatItemValue(e)+""},this.get("textStyle"),{textAlign:"start"})}else{var d=0,g=0;"color-legend"===this.get("type")&&(d=l,s&&(d+=s.getBBox().height)),this.get("slidable")&&("color-legend"===this.get("type")?d-=7:(d=l,s||(d-=7)),g+=10),u=[[(c*=o)+g,d],[c+g-5,d-10],[c+g+5,d-10]],h=mF.mix({},{x:c-5,y:a+this.get("textOffset")+d,text:this._formatItemValue(e)+""},this.get("textStyle"))}var v=mF.mix(h,this.get("hoverTextStyle"));r?r.attr(v):(r=this.get("group").addShape("text",{attrs:v})).set("id","hoverText"),n?n.attr(mF.mix({points:u},this.get("pointerStyle"))):(n=this.get("group").addShape("Polygon",{attrs:mF.mix({points:u},this.get("pointerStyle"))})).set("id","hoverPointer"),this.get("canvas").draw()}}},n.deactivate=function t(){var e=this.get("group").findById("hoverPointer");e&&e.destroy();var n=this.get("group").findById("hoverText");n&&n.destroy(),this.get("canvas").draw()},e}(yF);function PF(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,kF(t,e)}function kF(t,e){return(kF=Object.setPrototypeOf||function t(e,n){return e.__proto__=n,e})(t,e)}var TF,IF=LS.ColorUtil,EF=mE,OF,LF=function(t){function e(){return t.apply(this,arguments)||this}PF(e,t);var n=e.prototype;return n.getDefaultCfg=function e(){var n=t.prototype.getDefaultCfg.call(this);return EF.mix({},n,{type:"color-legend",layout:"vertical",triggerAttr:{fill:"#fff",shadowOffsetX:-2,shadowOffsetY:2,shadowBlur:10,shadowColor:"#ccc",radius:3},isSegment:!1})},n._setPercentage=function t(){var e=this.get("items");if(!e[0].percentage){var n=e[0].value,r=e[e.length-1].value;EF.each(e,(function(t){t.percentage=(t.value-n)/(r-n)}))}},n._renderSliderShape=function t(){this._setPercentage();var e,n=this.get("slider").get("backgroundElement"),r=this.get("width"),i=this.get("height"),a=this.get("layout"),o=this.get("items"),s="",l;return"vertical"===a?(s+="l (90) ",EF.each(o,(function(t){l=IF.toRGB(t.color),s+=1-t.percentage+":"+l+" "}))):(s+="l (0) ",EF.each(o,(function(t){l=IF.toRGB(t.color),s+=t.percentage+":"+l+" "}))),this._addMiddleBar(n,"Rect",{x:0,y:0,width:r,height:i,fill:s,strokeOpacity:0})},n._renderUnslidable=function t(){this._setPercentage();var e=this.get("titleShape"),n=this.get("titleGap");n=e?e.getBBox().height+n:n;var r=this.get("width"),i=this.get("height"),a=this.get("layout"),o=this.get("items"),s="",l,u=[],c,h=this.get("group").addGroup(),f=o.length;if("vertical"===a){s+="l (90) ";for(var p=0;p<f;p+=1){if(0!==p&&p!==f-1&&(u.push(["M",0,i-o[p].percentage*i]),u.push(["L",r,i-o[p].percentage*i])),l=IF.toRGB(o[p].color),s+=1-o[p].percentage+":"+l+" ",this.get("isSegment")&&p>0){var d=IF.toRGB(o[p-1].color);s+=1-o[p].percentage+":"+d+" "}h.addShape("text",{attrs:EF.mix({},{x:r+this.get("textOffset")/2,y:i-o[p].percentage*i,text:this._formatItemValue(o[p].value)+""},this.get("textStyle"),{textAlign:"start"})})}}else{s+="l (0) ";for(var g=0;g<f;g+=1){if(0!==g&&g!==f-1&&(u.push(["M",o[g].percentage*r,0]),u.push(["L",o[g].percentage*r,i])),l=IF.toRGB(o[g].color),this.get("isSegment")&&g>0){var v=IF.toRGB(o[g-1].color);s+=o[g].percentage+":"+v+" "}s+=o[g].percentage+":"+l+" ",h.addShape("text",{attrs:EF.mix({},{x:o[g].percentage*r,y:i+5+this.get("textOffset"),text:this._formatItemValue(o[g].value)+""},this.get("textStyle"))})}}h.addShape("rect",{attrs:{x:0,y:0,width:r,height:i,fill:s,strokeOpacity:0}}),h.addShape("path",{attrs:EF.mix({path:u},this.get("lineStyle"))}),h.move(0,n)},e}(AF),DF;function FF(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,BF(t,e)}function BF(t,e){return(BF=Object.setPrototypeOf||function t(e,n){return e.__proto__=n,e})(t,e)}var RF=mE,NF,jF,zF;function YF(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,GF(t,e)}function GF(t,e){return(GF=Object.setPrototypeOf||function t(e,n){return e.__proto__=n,e})(t,e)}var XF=mE,VF,HF=2,WF=16,qF=16,UF=5,ZF,QF,$F={Category:kD,CatHtml:qD,CatPageHtml:uF,Color:LF,Size:function(t){function e(){return t.apply(this,arguments)||this}FF(e,t);var n=e.prototype;return n.getDefaultCfg=function e(){var n=t.prototype.getDefaultCfg.call(this);return RF.mix({},n,{type:"size-legend",width:100,height:200,_unslidableElementStyle:{fill:"#4E7CCC",fillOpacity:1},frontMiddleBarStyle:{fill:"rgb(64, 141, 251)"}})},n._renderSliderShape=function t(){var e,n=this.get("slider").get("backgroundElement"),r=this.get("layout"),i=this.get("width"),a=this.get("height"),o=this.get("height")/2,s=this.get("frontMiddleBarStyle"),l="vertical"===r?[[0,0],[i,0],[i,a],[i-4,a]]:[[0,o+a/2],[0,o+a/2-4],[i,o-a/2],[i,o+a/2]];return this._addMiddleBar(n,"Polygon",RF.mix({points:l},s))},n._renderUnslidable=function t(){var e=this.get("layout"),n=this.get("width"),r=this.get("height"),i=this.get("frontMiddleBarStyle"),a="vertical"===e?[[0,0],[n,0],[n,r],[n-4,r]]:[[0,r],[0,r-4],[n,0],[n,r]],o,s;this.get("group").addGroup().addShape("Polygon",{attrs:RF.mix({points:a},i)});var l=this._formatItemValue(this.get("firstItem").value),u=this._formatItemValue(this.get("lastItem").value);"vertical"===this.get("layout")?(this._addText(n+10,r-3,l),this._addText(n+10,3,u)):(this._addText(0,r,l),this._addText(n,r,u))},n._addText=function t(e,n,r){var i,a=this.get("group").addGroup(),o=this.get("textStyle"),s=this.get("titleShape"),l=this.get("titleGap");s&&(l+=s.getBBox().height),"vertical"===this.get("layout")?a.addShape("text",{attrs:RF.mix({x:e+this.get("textOffset"),y:n,text:0===r?"0":r},o)}):(n+=l+this.get("textOffset")-20,s||(n+=10),a.addShape("text",{attrs:RF.mix({x:e,y:n,text:0===r?"0":r},o)}))},e}(AF),CircleSize:function(t){function e(){return t.apply(this,arguments)||this}YF(e,t);var n=e.prototype;return n.getDefaultCfg=function e(){var n=t.prototype.getDefaultCfg.call(this);return XF.mix({},n,{type:"size-circle-legend",width:100,height:200,_unslidableCircleStyle:{stroke:"rgb(99, 161, 248)",fill:"rgb(99, 161, 248)",fillOpacity:.3,lineWidth:1.5},triggerAttr:{fill:"white",shadowOffsetX:-2,shadowOffsetY:2,shadowBlur:10,shadowColor:"#ccc"},frontMiddleBarStyle:{fill:"rgb(64, 141, 251)"}})},n._renderSliderShape=function t(){var e=5,n,r=this.get("slider").get("backgroundElement"),i=this.get("layout"),a="vertical"===i?2:this.get("width"),o="vertical"===i?this.get("height"):2,s=5,l=this.get("height")/2,u=this.get("frontMiddleBarStyle"),c="vertical"===i?[[0,0],[a,0],[a,o],[0,o]]:[[0,l+o],[0,l-o],[5+a-4,l-o],[5+a-4,l+o]];return this._addMiddleBar(r,"Polygon",XF.mix({points:c},u))},n._addHorizontalTrigger=function t(e,n,r,i){var a,o=this.get("slider").get(e+"HandleElement"),s=-this.get("height")/2,l=o.addShape("circle",{attrs:XF.mix({x:0,y:s,r:i},n)}),u=o.addShape("text",{attrs:XF.mix(r,{x:0,y:s+i+10,textAlign:"center",textBaseline:"middle"})}),c,h="vertical"===this.get("layout")?"ns-resize":"ew-resize";l.attr("cursor",h),u.attr("cursor",h),this.set(e+"ButtonElement",l),this.set(e+"TextElement",u)},n._addVerticalTrigger=function t(e,n,r,i){var a,o=this.get("slider").get(e+"HandleElement"),s=o.addShape("circle",{attrs:XF.mix({x:0,y:0,r:i},n)}),l=o.addShape("text",{attrs:XF.mix(r,{x:i+10,y:0,textAlign:"start",textBaseline:"middle"})}),u,c="vertical"===this.get("layout")?"ns-resize":"ew-resize";s.attr("cursor",c),l.attr("cursor",c),this.set(e+"ButtonElement",s),this.set(e+"TextElement",l)},n._renderTrigger=function t(){var e=this.get("firstItem"),n=this.get("lastItem"),r=this.get("layout"),i=this.get("textStyle"),a=this.get("triggerAttr"),o=XF.mix({},a),s=XF.mix({},a),l=5,u=16,c=XF.mix({text:this._formatItemValue(e.value)+""},i),h=XF.mix({text:this._formatItemValue(n.value)+""},i);"vertical"===r?(this._addVerticalTrigger("min",o,c,5),this._addVerticalTrigger("max",s,h,u)):(this._addHorizontalTrigger("min",o,c,5),this._addHorizontalTrigger("max",s,h,u))},n._bindEvents=function t(){var e=this,n;this.get("slidable")&&this.get("slider").on("sliderchange",(function(t){var n=t.range,r=e.get("firstItem").value,i=e.get("lastItem").value,a=r+n[0]/100*(i-r),o=r+n[1]/100*(i-r),s=5+n[0]/100*11,l=5+n[1]/100*11;e._updateElement(a,o,s,l);var u=new Event("itemfilter",t,!0,!0);u.range=[a,o],e.emit("itemfilter",u)}))},n._updateElement=function e(n,r,i,a){t.prototype._updateElement.call(this,n,r);var o=this.get("minTextElement"),s=this.get("maxTextElement"),l=this.get("minButtonElement"),u=this.get("maxButtonElement"),c;if(l.attr("r",i),u.attr("r",a),"vertical"===this.get("layout"))o.attr("x",i+10),s.attr("x",a+10);else{var h=-this.get("height")/2;o.attr("y",h+i+10),s.attr("y",h+a+10)}},n._addCircle=function t(e,n,r,i,a){var o,s=this.get("group").addGroup(),l=this.get("_unslidableCircleStyle"),u=this.get("textStyle"),c=this.get("titleShape"),h=this.get("titleGap");c&&(h+=c.getBBox().height),s.addShape("circle",{attrs:XF.mix({x:e,y:n+h,r:0===r?1:r},l)}),"vertical"===this.get("layout")?s.addShape("text",{attrs:XF.mix({x:a+20+this.get("textOffset"),y:n+h,text:0===i?"0":i},u)}):s.addShape("text",{attrs:XF.mix({x:e,y:n+h+a+13+this.get("textOffset"),text:0===i?"0":i},u)})},n._renderUnslidable=function t(){var e=this.get("firstItem").value,n=this.get("lastItem").value;if(e>n){var r=n;n=e,e=r}var i=this._formatItemValue(e),a=this._formatItemValue(n),o=e<5?5:e,s=n>16?16:n;o>s&&(o=5,s=16),"vertical"===this.get("layout")?(this._addCircle(s,s,o,i,2*s),this._addCircle(s,2*s+16+o,s,a,2*s)):(this._addCircle(s,s,o,i,2*s),this._addCircle(2*s+16+o,s,s,a,2*s))},n.activate=function e(n){this.get("slidable")&&t.prototype.activate.call(this,n)},e}(AF)};function JF(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,KF(t,e)}function KF(t,e){return(KF=Object.setPrototypeOf||function t(e,n){return e.__proto__=n,e})(t,e)}var tB,eB=mE,nB,rB=function(t){function e(){return t.apply(this,arguments)||this}JF(e,t);var n=e.prototype;return n.getDefaultCfg=function e(){var n=t.prototype.getDefaultCfg.call(this);return eB.mix({},n,{x:0,y:0,items:null,titleContent:null,showTitle:!0,plotRange:null,offset:10,timeStamp:0,inPlot:!0,crosshairs:null})},n.isContentChange=function t(e,n){var r=this.get("titleContent"),i=this.get("items"),a=!(e===r&&i.length===n.length);return a||eB.each(n,(function(t,e){var n=i[e];for(var r in t)if(t.hasOwnProperty(r)&&!eB.isObject(t[r])&&t[r]!==n[r]){a=!0;break}if(a)return!1})),a},n.setContent=function t(e,n){var r=(new Date).valueOf();return this.set("items",n),this.set("titleContent",e),this.set("timeStamp",r),this.render(),this},n.setPosition=function t(e,n){this.set("x",e),this.set("y",n)},n.render=function t(){},n.clear=function t(){},n.show=function t(){this.set("visible",!0)},n.hide=function t(){this.set("visible",!1)},e}(ME),iB,aB,oB,sB="g2-tooltip",lB="g2-tooltip-title",uB="g2-tooltip-list",cB="g2-tooltip-list-item",hB="g2-tooltip-marker",fB="g2-tooltip-value",pB,dB=((iB={crosshairs:!1,offset:15})["g2-tooltip"]={position:"absolute",visibility:"hidden",zIndex:8,transition:"visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)",backgroundColor:"rgba(255, 255, 255, 0.9)",boxShadow:"0px 0px 10px #aeaeae",borderRadius:"3px",color:"rgb(87, 87, 87)",fontSize:"12px",fontFamily:nO.FONT_FAMILY,lineHeight:"20px",padding:"10px 10px 6px 10px"},iB["g2-tooltip-title"]={marginBottom:"4px"},iB["g2-tooltip-list"]={margin:0,listStyleType:"none",padding:0},iB["g2-tooltip-list-item"]={marginBottom:"4px"},iB["g2-tooltip-marker"]={width:"5px",height:"5px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},iB["g2-tooltip-value"]={display:"inline-block",float:"right",marginLeft:"30px"},iB);function gB(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,vB(t,e)}function vB(t,e){return(vB=Object.setPrototypeOf||function t(e,n){return e.__proto__=n,e})(t,e)}var mB,yB=mE,xB,_B=function(t){gB(n,t);var e=n.prototype;function n(e){var n;return(n=t.call(this,e)||this)._init_(),n.render(),n}return e.getDefaultCfg=function e(){var n=t.prototype.getDefaultCfg.call(this);return yB.mix({},n,{type:null,plot:null,plotRange:null,rectStyle:{fill:"#CCD6EC",opacity:.3},lineStyle:{stroke:"rgba(0, 0, 0, 0.25)",lineWidth:1},isTransposed:!1})},e._init_=function t(){var e=this,n=e.get("plot"),r;r="rect"===e.type?n.addGroup({zIndex:0}):n.addGroup(),this.set("container",r)},e._addLineShape=function t(e,n){var r,i=this.get("container").addShape("line",{capture:!1,attrs:e});return this.set("crossLineShape"+n,i),i},e._renderHorizontalLine=function t(e,n){var r=yB.mix(this.get("lineStyle"),this.get("style")),i=yB.mix({x1:n?n.bl.x:e.get("width"),y1:0,x2:n?n.br.x:0,y2:0},r);this._addLineShape(i,"X")},e._renderVerticalLine=function t(e,n){var r=yB.mix(this.get("lineStyle"),this.get("style")),i=yB.mix({x1:0,y1:n?n.bl.y:e.get("height"),x2:0,y2:n?n.tl.y:0},r);this._addLineShape(i,"Y")},e._renderBackground=function t(e,n){var r=yB.mix(this.get("rectStyle"),this.get("style")),i=this.get("container"),a=yB.mix({x:n?n.tl.x:0,y:n?n.tl.y:e.get("height"),width:n?n.br.x-n.bl.x:e.get("width"),height:n?Math.abs(n.tl.y-n.bl.y):e.get("height")},r),o=i.addShape("rect",{attrs:a,capture:!1});return this.set("crosshairsRectShape",o),o},e._updateRectShape=function t(e){var n,r=this.get("crosshairsRectShape"),i=this.get("isTransposed"),a=e[0],o=e[e.length-1],s=i?"y":"x",l=i?"height":"width",u=a[s];if(e.length>1&&a[s]>o[s]&&(u=o[s]),this.get("width"))r.attr(s,u-this.get("crosshairs").width/2),r.attr(l,this.get("width"));else if(yB.isArray(a.point[s])&&!a.size){var c=a.point[s][1]-a.point[s][0];r.attr(s,a.point[s][0]),r.attr(l,c)}else n=3*a.size/4,r.attr(s,u-n),1===e.length?r.attr(l,3*a.size/2):r.attr(l,Math.abs(o[s]-a[s])+2*n)},e.render=function t(){var e=this.get("canvas"),n=this.get("plotRange"),r=this.get("isTransposed");switch(this.clear(),this.get("type")){case"x":this._renderHorizontalLine(e,n);break;case"y":this._renderVerticalLine(e,n);break;case"cross":this._renderHorizontalLine(e,n),this._renderVerticalLine(e,n);break;case"rect":this._renderBackground(e,n);break;default:r?this._renderHorizontalLine(e,n):this._renderVerticalLine(e,n)}},e.show=function e(){var n=this.get("container");t.prototype.show.call(this),n.show()},e.hide=function e(){var n=this.get("container");t.prototype.hide.call(this),n.hide()},e.clear=function e(){var n=this.get("container");this.set("crossLineShapeX",null),this.set("crossLineShapeY",null),this.set("crosshairsRectShape",null),t.prototype.clear.call(this),n.clear()},e.destroy=function e(){var n=this.get("container");t.prototype.destroy.call(this),n.remove()},e.setPosition=function t(e,n,r){var i=this.get("crossLineShapeX"),a=this.get("crossLineShapeY"),o=this.get("crosshairsRectShape");a&&!a.get("destroyed")&&a.move(e,0),i&&!i.get("destroyed")&&i.move(0,n),o&&!o.get("destroyed")&&this._updateRectShape(r)},n}(TE),bB=20,wB,SB={_calcTooltipPosition:function t(e,n,r,i,a,o){var s=0,l=0,u=20;if(o){var c=o.getBBox();s=c.width,l=c.height,e=c.x,n=c.y,u=5}switch(r){case"inside":e=e+s/2-i/2,n=n+l/2-a/2;break;case"top":e=e+s/2-i/2,n=n-a-u;break;case"left":e=e-i-u,n=n+l/2-a/2;break;case"right":e=e+s+u,n=n+l/2-a/2;break;default:e=e+s/2-i/2,n=n+l+u}return[e,n]},_constraintPositionInBoundary:function t(e,n,r,i,a,o){return e+r+20>a?e=(e-=r+20)<0?0:e:e+20<0?e=20:e+=20,n+i+20>o?n=(n-=i+20)<0?0:n:n+20<0?n=20:n+=20,[e,n]},_constraintPositionInPlot:function t(e,n,r,i,a,o){return e+r>a.tr.x&&(e-=o?r+1:r+40),e<a.tl.x&&(e=a.tl.x),o||(n+i>a.bl.y&&(n-=i+40),n<a.tl.y&&(n=a.tl.y)),[e,n]}},MB=mE,CB,AB={setMarkers:function t(e,n){var r=this,i=r.get("markerGroup"),a=r.get("frontPlot");i?i.clear():(i=a.addGroup({zIndex:1,capture:!1}),r.set("markerGroup",i)),MB.each(e,(function(t){var e=MB.mix({fill:t.color,symbol:"circle",shadowColor:t.color},n,{x:t.x,y:t.y});t.marker&&t.marker.activeSymbol&&(e.symbol=t.marker.activeSymbol),i.addShape("marker",{color:t.color,attrs:e})})),this.set("markerItems",e)},clearMarkers:function t(){var e=this.get("markerGroup");e&&e.clear()}};function PB(){return PB=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},PB.apply(this,arguments)}function kB(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function TB(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,IB(t,e)}function IB(t,e){return(IB=Object.setPrototypeOf||function t(e,n){return e.__proto__=n,e})(t,e)}var EB=pE,OB=rB,LB=mE,DB=LB.DomUtil,FB=dB,BB=_B,RB=SB,NB=AB,jB="g2-tooltip",zB="g2-tooltip-title",YB="g2-tooltip-list",GB="g2-tooltip-marker",XB="g2-tooltip-value",VB="g2-tooltip-list-item",HB=5,WB=EB.Marker;function qB(t,e){return t.getElementsByClassName(e)[0]}function UB(t,e){return Object.keys(t).forEach((function(n){e[n]&&(t[n]=LB.mix(t[n],e[n]))})),t}var ZB,QB=function(t){TB(n,t);var e=n.prototype;function n(e){var n;n=t.call(this,e)||this,LB.assign(kB(n),RB),LB.assign(kB(n),NB);var r=FB;n.style=UB(r,e),n._init_(),n.get("items")&&n.render();var i=n.get("crosshairs");if(i){var a="rect"===i.type?n.get("backPlot"):n.get("frontPlot"),o=new BB(LB.mix({plot:a,plotRange:n.get("plotRange"),canvas:n.get("canvas")},n.get("crosshairs")));o.hide(),n.set("crosshairGroup",o)}return n}return e.getDefaultCfg=function e(){var n=t.prototype.getDefaultCfg.call(this);return LB.mix({},n,{containerTpl:' <div class="g2-tooltip"> <div class="'+zB+'"></div><ul class="'+YB+'"></ul></div>',itemTpl:'<li data-index={index}>\n      <svg viewBox="0 0 5 5" class="'+GB+'"></svg>\n      {name}<span class="'+XB+'">{value}</span></li>',htmlContent:null,follow:!0,enterable:!1})},e._init_=function t(){var e=this,n=e.get("containerTpl"),r=e.get("canvas").get("el").parentNode,i;if(!this.get("htmlContent")){if(/^\#/.test(n)){var a=n.replace("#","");i=document.getElementById(a)}else i=DB.createDom(n),DB.modifyCSS(i,e.style["g2-tooltip"]),r.appendChild(i),r.style.position="relative";e.set("container",i)}},e.render=function t(){var e=this;if(e.clear(),e.get("htmlContent")){var n=e.get("canvas").get("el").parentNode,r=e._getHtmlContent();n.appendChild(r),e.set("container",r)}else e._renderTpl()},e._renderTpl=function t(){var e=this,n=e.get("showTitle"),r=e.get("titleContent"),i=e.get("container"),a=qB(i,zB),o=qB(i,YB),s=e.get("items");a&&n&&(DB.modifyCSS(a,e.style[zB]),a.innerHTML=r),o&&(DB.modifyCSS(o,e.style[YB]),LB.each(s,(function(t,n){o.appendChild(e._addItem(t,n))})))},e.clear=function t(){var e=this.get("container");if(this.get("htmlContent"))e&&e.remove();else{var n=qB(e,zB),r=qB(e,YB);n&&(n.innerHTML=""),r&&(r.innerHTML="")}},e.show=function e(){var n=this.get("container");if(n&&!this.destroyed){n.style.visibility="visible",n.style.display="block";var r=this.get("crosshairGroup");r&&r.show();var i=this.get("markerGroup");i&&i.show(),t.prototype.show.call(this),this.get("canvas").draw()}},e.hide=function e(){var n=this.get("container");if(n&&!this.destroyed){n.style.visibility="hidden",n.style.display="none";var r=this.get("crosshairGroup");r&&r.hide();var i=this.get("markerGroup");i&&i.hide(),t.prototype.hide.call(this),this.get("canvas").draw()}},e.destroy=function e(){var n=this,r=n.get("container"),i=n.get("containerTpl");r&&!/^\#/.test(i)&&r.parentNode.removeChild(r);var a=this.get("crosshairGroup");a&&a.destroy();var o=this.get("markerGroup");o&&o.remove(),t.prototype.destroy.call(this)},e._getMarkerSvg=function t(e){var n=e.marker||{},r=n.activeSymbol||n.symbol,i,a,o;return LB.isFunction(r)?i=r:LB.isString(r)&&(i=WB.Symbols[r]),'<path d="'+(i=LB.isFunction(i)?i:WB.Symbols.circle)(2.5,2.5,2.5).reduce((function(t,e){return""+t+e[0]+e.slice(1).join(",")}),"")+'" fill="'+(n.fill||"none")+'" stroke="'+(n.stroke||"none")+'" />'},e._addItem=function t(e,n){var r=this.get("itemTpl"),i=LB.substitute(r,LB.mix({index:n},e)),a=DB.createDom(i);DB.modifyCSS(a,this.style[VB]);var o=qB(a,GB);if(o){DB.modifyCSS(o,PB({},this.style[GB],{borderRadius:"unset"}));var s=this._getMarkerSvg(e);o.innerHTML=s}var l=qB(a,XB);return l&&DB.modifyCSS(l,this.style[XB]),a},e._getHtmlContent=function t(){var e,n,r,i=this.get("htmlContent")(this.get("titleContent"),this.get("items")),a;return DB.createDom(i)},e.setPosition=function e(n,r,i){var a=this.get("container"),o=this.get("canvas").get("el"),s=DB.getWidth(o),l=DB.getHeight(o),u=a.clientWidth,c=a.clientHeight,h=n,f=r,p,d=this.get("prePosition")||{x:0,y:0};if(u||(a.style.display="block",u=a.clientWidth,c=a.clientHeight,a.style.display="none"),this.get("enterable")?(p=[n,r-=a.clientHeight/2],d&&n-d.x>0?n-=a.clientWidth+1:n+=1):this.get("position")?(n=(p=this._calcTooltipPosition(n,r,this.get("position"),u,c,i))[0],r=p[1]):(n=(p=this._constraintPositionInBoundary(n,r,u,c,s,l))[0],r=p[1]),this.get("inPlot")){var g=this.get("plotRange");n=(p=this._constraintPositionInPlot(n,r,u,c,g,this.get("enterable")))[0],r=p[1]}var v=this.get("markerItems"),m;LB.isEmpty(v)||(h=v[0].x,f=v[0].y),this.set("prePosition",p),this.get("follow")&&(a.style.left=n+"px",a.style.top=r+"px");var y=this.get("crosshairGroup");if(y){var x=this.get("items");y.setPosition(h,f,x)}t.prototype.setPosition.call(this,n,r)},n}(OB);function $B(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function JB(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,KB(t,e)}function KB(t,e){return(KB=Object.setPrototypeOf||function t(e,n){return e.__proto__=n,e})(t,e)}var tR=pE,eR=_B,nR=AB,rR=SB,iR=rB,aR=mE,oR,sR=nO.FONT_FAMILY,lR=aR.DomUtil,uR=aR.MatrixUtil,cR,hR=function(t){JB(n,t);var e=n.prototype;function n(e){var n;n=t.call(this,e)||this,aR.assign($B(n),rR),aR.assign($B(n),nR);var r=n.get("crosshairs");if(r){var i="rect"===r.type?n.get("backPlot"):n.get("frontPlot"),a=new eR(aR.mix({plot:i,plotRange:n.get("plotRange"),canvas:n.get("canvas")},n.get("crosshairs")));a.hide(),n.set("crosshairGroup",a)}return n._init_(),n.get("items")&&n.render(),n}return e.getDefaultCfg=function e(){var n=t.prototype.getDefaultCfg.call(this);return aR.mix({},n,{boardStyle:{x:0,y:0,width:100,height:100,fill:"rgba(255, 255, 255, 0.9)",radius:4,stroke:"#e2e2e2",lineWidth:1},titleStyle:{fontFamily:sR,text:"",textBaseline:"top",fontSize:12,fill:"rgb(87, 87, 87)",lineHeight:20,padding:20},markerStyle:{radius:4},nameStyle:{fontFamily:sR,fontSize:12,fill:"rgb(87, 87, 87)",textBaseline:"middle",textAlign:"start",padding:8},valueStyle:{fontFamily:sR,fontSize:12,fill:"rgb(87, 87, 87)",textBaseline:"middle",textAlign:"start",padding:30},padding:{top:20,right:20,bottom:20,left:20},itemGap:10,animationDuration:200})},e._init_=function t(){var e=this,n=e.get("padding"),r=e.get("frontPlot"),i=r.addGroup({capture:!1});e.set("markerGroup",i);var a=r.addGroup();a.hide(),e.set("container",a);var o=a.addShape("rect",{attrs:aR.mix({},e.get("boardStyle"))});e.set("board",o);var s=e.get("titleStyle");if(e.get("showTitle")){var l=a.addShape("text",{attrs:aR.mix({x:n.left,y:n.top},s)});e.set("titleShape",l),l.name="tooltip-title"}var u=a.addGroup();u.move(n.left,n.top+s.lineHeight+s.padding),e.set("itemsGroup",u)},e.render=function t(){var e=this;e.clear();var n=e.get("container"),r=e.get("board"),i=e.get("showTitle"),a=e.get("titleContent"),o=this.get("titleShape"),s=this.get("itemsGroup"),l=e.get("items"),u=e.get("padding");if(o&&i&&o.attr("text",a),s){var c=e.get("itemGap"),h=0,f=0;aR.each(l,(function(t){var n=e._addItem(t);n.move(0,f),s.add(n);var r=n.getBBox().height;f+=r+c}))}var p=n.getBBox(),d=p.width+u.right,g=p.height+u.bottom;r.attr("width",d),r.attr("height",g),e._alignToRight(d)},e.clear=function t(){var e=this.get("titleShape"),n=this.get("itemsGroup"),r=this.get("board");e.text="",n.clear(),r.attr("width",0),r.attr("height",0)},e.show=function e(){var n;this.get("container").show();var r=this.get("crosshairGroup");r&&r.show();var i=this.get("markerGroup");i&&i.show(),t.prototype.show.call(this),this.get("canvas").draw()},e.hide=function e(){var n;this.get("container").hide();var r=this.get("crosshairGroup");r&&r.hide();var i=this.get("markerGroup");i&&i.hide(),t.prototype.hide.call(this),this.get("canvas").draw()},e.destroy=function e(){var n=this.get("container"),r=this.get("crosshairGroup");r&&r.destroy();var i=this.get("markerGroup");i&&i.remove(),t.prototype.destroy.call(this),n.remove()},e.setPosition=function e(n,r,i){var a=this.get("container"),o=this.get("canvas").get("el"),s=lR.getWidth(o),l=lR.getHeight(o),u=a.getBBox(),c=u.width,h=u.height,f=n,p=r,d;if(this.get("position")){var g=u.width,v=u.height;n=(d=this._calcTooltipPosition(n,r,this.get("position"),g,v,i))[0],r=d[1]}else n=(d=this._constraintPositionInBoundary(n,r,c,h,s,l))[0],r=d[1];if(this.get("inPlot")){var m=this.get("plotRange");n=(d=this._constraintPositionInPlot(n,r,c,h,m,this.get("enterable")))[0],r=d[1]}var y=this.get("markerItems");aR.isEmpty(y)||(f=y[0].x,p=y[0].y);var x=[1,0,0,0,1,0,0,0,1],_=uR.transform(x,[["t",n,r]]);a.stopAnimate(),a.animate({matrix:_},this.get("animationDuration"));var b=this.get("crosshairGroup");if(b){var w=this.get("items");b.setPosition(f,p,w)}t.prototype.setPosition.call(this,n,r)},e._addItem=function t(e){var n=new tR.Group,r=this.get("markerStyle").radius;if(e.marker){var i=aR.mix({},e.marker,{x:e.marker.radius/2,y:0,symbol:e.marker.activeSymbol||e.marker.symbol});n.addShape("marker",{attrs:i}),r=e.marker.radius}var a=this.get("nameStyle");n.addShape("text",{attrs:aR.mix({x:r+a.padding,y:0,text:e.name},a)});var o=this.get("valueStyle");return n.addShape("text",{attrs:aR.mix({x:n.getBBox().width+o.padding,y:0,text:e.value},o)}),n},e._alignToRight=function t(e){var n=this,r,i=this.get("itemsGroup").get("children");aR.each(i,(function(t){var r,i=t.get("children")[2],a=i.getBBox().width,o=e-a-2*n.get("padding").right;i.attr("x",o)}))},n}(iR);function fR(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,pR(t,e)}function pR(t,e){return(pR=Object.setPrototypeOf||function t(e,n){return e.__proto__=n,e})(t,e)}var dR=mE,gR=hR,vR,mR=nO.FONT_FAMILY,yR=dR.DomUtil,xR=dR.MatrixUtil,_R,bR=function(t){function e(){return t.apply(this,arguments)||this}fR(e,t);var n=e.prototype;return n.getDefaultCfg=function e(){var n=t.prototype.getDefaultCfg.call(this);return dR.mix({},n,{boardStyle:{x:0,y:0,width:0,height:0,radius:3},valueStyle:{x:0,y:0,text:"",fontFamily:mR,fontSize:12,stroke:"#fff",lineWidth:2,fill:"black",textBaseline:"top",textAlign:"start"},padding:{top:5,right:5,bottom:0,left:5},triangleWidth:10,triangleHeight:4})},n._init_=function t(){var e=this,n=e.get("padding"),r,i=e.get("frontPlot").addGroup();e.set("container",i);var a=i.addShape("rect",{attrs:dR.mix({},e.get("boardStyle"))});e.set("board",a);var o=i.addShape("path",{attrs:{fill:e.get("boardStyle").fill}});e.set("triangleShape",o);var s=i.addGroup();s.move(n.left,n.top);var l=s.addShape("text",{attrs:dR.mix({},e.get("valueStyle"))});e.set("valueShape",l)},n.render=function t(){var e=this;e.clear();var n=e.get("board"),r=e.get("valueShape"),i=e.get("padding"),a=e.get("items")[0];r&&r.attr("text",a.value);var o=r?r.getBBox():{width:80,height:30},s=i.left+o.width+i.right,l=i.top+o.height+i.bottom;n.attr("width",s),n.attr("height",l),e._centerTriangleShape()},n.clear=function t(){var e;this.get("valueShape").attr("text","")},n.setPosition=function t(e,n,r){var i=this,a=i.get("container"),o=i.get("plotRange"),s=a.getBBox(),l=s.width,u=s.height,c;(e-=l/2,!r||"point"!==r.name&&"interval"!==r.name)||(n=r.getBBox().y);if(n-=u,this.get("inPlot"))e<o.tl.x?(e=o.tl.x,i._leftTriangleShape()):e+l/2>o.tr.x?(e=o.tr.x-l,i._rightTriangleShape()):i._centerTriangleShape(),n<o.tl.y?n=o.tl.y:n+u>o.bl.y&&(n=o.bl.y-u);else{var h=this.get("canvas").get("el"),f=yR.getWidth(h),p=yR.getHeight(h);e<0?(e=0,i._leftTriangleShape()):e+l/2>f?(e=f-l,i._rightTriangleShape()):i._centerTriangleShape(),n<0?n=0:n+u>p&&(n=p-u)}var d=[1,0,0,0,1,0,0,0,1],g=xR.transform(d,[["t",e,n]]);a.stopAnimate(),a.animate({matrix:g},this.get("animationDuration"))},n._centerTriangleShape=function t(){var e=this.get("triangleShape"),n=this.get("triangleWidth"),r=this.get("triangleHeight"),i=this.get("board").getBBox(),a=i.width,o=i.height,s=[["M",0,0],["L",n,0],["L",n/2,r],["L",0,0],["Z"]];e.attr("path",s),e.move(a/2-n/2,o-1)},n._leftTriangleShape=function t(){var e=this.get("triangleShape"),n=this.get("triangleWidth"),r=this.get("triangleHeight"),i,a=this.get("board").getBBox().height,o=[["M",0,0],["L",n,0],["L",0,r+3],["L",0,0],["Z"]];e.attr("path",o),e.move(0,a-3)},n._rightTriangleShape=function t(){var e=this.get("triangleShape"),n=this.get("triangleWidth"),r=this.get("triangleHeight"),i=this.get("board").getBBox(),a=i.width,o=i.height,s=[["M",0,0],["L",n,0],["L",n,r+4],["L",0,0],["Z"]];e.attr("path",s),e.move(a-n-1,o-4)},e}(gR),wR=rB;wR.Html=QB,wR.Canvas=hR,wR.Mini=bR;var SR,MR={Axis:qO,Component:ME,Guide:oD,Label:lD,Legend:$F,Tooltip:wR},CR,AR=Kv.Group,PR,kR=MR.Label,TR=cC,IR=ow,ER=["line","point","path"],OR="_origin";function LR(t){var e=0;return IR.each(t,(function(t){e+=t})),e/t.length}function DR(t,e){if(IR.isNumber(t)&&IR.isNumber(e))return[t,e];for(var n=-1,r=0,i=0,a,o=t.length-1,s,l=0;++n<t.length;)a=o,o=n,l+=s=t[a]*e[o]-t[o]*e[a],r+=(t[a]+t[o])*s,i+=(e[a]+e[o])*s;return[r/(l*=3),i/l]}var FR=function t(e){t.superclass.constructor.call(this,e)};IR.extend(FR,AR),IR.augment(FR,{getDefaultCfg:function t(){return{label:TR.label,labelCfg:null,coord:null,geomType:null,zIndex:6}},_renderUI:function t(){FR.superclass._renderUI.call(this),this.initLabelsCfg();var e=this.addGroup(),n=this.addGroup({elCls:"x-line-group"}),r=this.get("labelRenderer");this.set("labelsGroup",e),this.set("lineGroup",n),this.get("labelRenderer").set("group",e),r.set("group",e),r.set("lineGroup",n)},initLabelsCfg:function t(){var e=this,n=new kR,r=e.getDefaultLabelCfg(),i=e.get("labelCfg");IR.deepMix(r,i.globalCfg||i.cfg),n.set("config",!1),r.labelLine&&n.set("labelLine",r.labelLine),n.set("coord",e.get("coord")),this.set("labelRenderer",n),e.set("label",r)},getDefaultLabelCfg:function t(){var e=this,n=e.get("labelCfg").cfg||e.get("labelCfg").globalCfg,r=e.get("geomType"),i=e.get("viewTheme")||TR;return"polygon"===r||n&&n.offset<0&&-1===IR.indexOf(ER,r)?IR.deepMix({},e.get("label"),i.innerLabels,n):IR.deepMix({},e.get("label"),i.label,n)},getLabelsItems:function t(e,n){var r=this,i=[],a=r.get("geom"),o=r.get("coord");r._getLabelCfgs(e,n);var s=r.get("labelItemCfgs");return IR.each(e,(function(t,e){var n=t._origin,l=s[e];if(l){IR.isArray(l.text)||(l.text=[l.text]);var u=l.text.length;IR.each(l.text,(function(e,s){if(IR.isNil(e)||""===e)i.push(null);else{var c=r.getLabelPoint(l,t,s);(c=IR.mix({},l,c)).textAlign||(c.textAlign=r.getLabelAlign(c,s,u)),a&&(c._id=a._getShapeId(n)+"-glabel-"+s+"-"+c.text),c.coord=o,i.push(c)}}))}else i.push(null)})),i},adjustItems:function t(e){return IR.each(e,(function(t){t&&(t.offsetX&&(t.x+=t.offsetX),t.offsetY&&(t.y+=t.offsetY))})),e},drawLines:function t(e){var n=this;IR.each(e,(function(t){t&&t.offset>0&&n.lineToLabel(t)}))},lineToLabel:function t(){},getLabelPoint:function t(e,n,r){var i=this,a=i.get("coord"),o=e.text.length;function s(t,n){return IR.isArray(t)&&(t=1===e.text.length?t.length<=2?t[t.length-1]:LR(t):t[n]),t}var l={text:e.text[r]};if(n&&"polygon"===this.get("geomType")){var u=DR(n.x,n.y);l.x=u[0],l.y=u[1]}else l.x=s(n.x,r),l.y=s(n.y,r);if(n&&n.nextPoints&&("funnel"===n.shape||"pyramid"===n.shape)){var c=-1/0;n.nextPoints.forEach((function(t){(t=a.convert(t)).x>c&&(c=t.x)})),l.x=(l.x+c)/2}"pyramid"===n.shape&&!n.nextPoints&&n.points&&n.points.forEach((function(t){t=a.convert(t),(IR.isArray(t.x)&&!n.x.includes(t.x)||IR.isNumber(t.x)&&n.x!==t.x)&&(l.x=(l.x+t.x)/2)})),e.position&&i.setLabelPosition(l,n,r,e.position);var h=i.getLabelOffset(e,r,o);return e.offsetX&&(h.x+=e.offsetX),e.offsetY&&(h.y+=e.offsetY),i.transLabelPoint(l),l.start={x:l.x,y:l.y},l.x+=h.x,l.y+=h.y,l.color=n.color,l},setLabelPosition:function t(){},transLabelPoint:function t(e){var n,r,i=this.get("coord").applyMatrix(e.x,e.y,1);e.x=i[0],e.y=i[1]},getOffsetVector:function t(e){var n=this,r=e.offset||0,i=n.get("coord"),a;return a=i.isTransposed?i.applyMatrix(r,0):i.applyMatrix(0,r)},getDefaultOffset:function t(e){var n=this,r=0,i=n.get("coord"),a=n.getOffsetVector(e);r=i.isTransposed?a[0]:a[1];var o=this.get("yScale"),s;o&&e.point&&(e.point[o.field]<0&&(r*=-1));return r},getLabelOffset:function t(e,n,r){var i=this,a=i.getDefaultOffset(e),o,s=i.get("coord").isTransposed,l=s?"x":"y",u=s?1:-1,c={x:0,y:0};return c[l]=n>0||1===r?a*u:a*u*-1,c},getLabelAlign:function t(e,n,r){var i=this,a="center",o;if(i.get("coord").isTransposed){var s=i.getDefaultOffset(e);a=s<0?"right":0===s?"center":"left",r>1&&0===n&&("right"===a?a="left":"left"===a&&(a="right"))}return a},_getLabelValue:function t(e,n){IR.isArray(n)||(n=[n]);var r=[];return IR.each(n,(function(t){var n=e[t.field];if(IR.isArray(n)){var i=[];IR.each(n,(function(e){i.push(t.getText(e))})),n=i}else n=t.getText(n);(IR.isNil(n)||""===n)&&r.push(null),r.push(n)})),r},_getLabelCfgs:function t(e){var n=this,r=this.get("labelCfg"),i=r.scales,a=this.get("label"),o=n.get("viewTheme")||TR,s=[];r.globalCfg&&r.globalCfg.type&&n.set("type",r.globalCfg.type),IR.each(e,(function(t,e){var l={},u=t._origin,c=n._getLabelValue(u,i);if(r.callback){var h=i.map((function(t){return u[t.field]}));l=r.callback.apply(null,[].concat(h,[t,e]))}if(l||0===l){if(IR.isString(l)||IR.isNumber(l)?l={text:l}:(l.text=l.content||c[0],delete l.content),l=IR.mix({},a,r.globalCfg||{},l),t.point=u,l.point=u,l.htmlTemplate&&(l.useHtml=!0,l.text=l.htmlTemplate.call(null,l.text,t,e),delete l.htmlTemplate),l.formatter&&(l.text=l.formatter.call(null,l.text,t,e),delete l.formatter),l.label){var f=l.label;delete l.label,l=IR.mix(l,f)}if(l.textStyle){delete l.textStyle.offset;var p=l.textStyle;IR.isFunction(p)&&(l.textStyle=p.call(null,l.text,t,e))}l.labelLine&&(l.labelLine=IR.mix({},a.labelLine,l.labelLine)),l.textStyle=IR.mix({},a.textStyle,o.label.textStyle,l.textStyle),delete l.items,s.push(l)}else s.push(null)})),this.set("labelItemCfgs",s)},showLabels:function t(e,n){var r=this,i=r.get("labelRenderer"),a=r.getLabelsItems(e,n);n=[].concat(n);var o=r.get("type");a=r.adjustItems(a,n),r.drawLines(a),i.set("items",a.filter((function(t,e){return!!t||(n.splice(e,1),!1)}))),o&&(i.set("shapes",n),i.set("type",o),i.set("points",e)),i.set("canvas",this.get("canvas")),i.draw()},destroy:function t(){this.get("labelRenderer").destroy(),FR.superclass.destroy.call(this)}});var BR=FR,RR,NR=ow.MatrixUtil.vec2;function jR(t,e,n,r){var i=[],a,o,s=!!r,l,u;if(s){l=[1/0,1/0],u=[-1/0,-1/0];for(var c=0,h=t.length;c<h;c++){var f=t[c];l=NR.min([],l,f),u=NR.max([],u,f)}l=NR.min([],l,r[0]),u=NR.max([],u,r[1])}for(var p=0,d=t.length;p<d;p++){var g=t[p];if(n)a=t[p?p-1:d-1],o=t[(p+1)%d];else{if(0===p||p===d-1){i.push(g);continue}a=t[p-1],o=t[p+1]}var v=[];v=NR.sub(v,o,a),v=NR.scale(v,v,e);var m=NR.distance(g,a),y=NR.distance(g,o),x=m+y;0!==x&&(m/=x,y/=x);var _=NR.scale([],v,-m),b=NR.scale([],v,y),w=NR.add([],g,_),S=NR.add([],g,b);s&&(w=NR.max([],w,l),w=NR.min([],w,u),S=NR.max([],S,l),S=NR.min([],S,u)),i.push(w),i.push(S)}return n&&i.push(i.shift()),i}function zR(t,e,n){for(var r=!!e,i=[],a=0,o=t.length;a<o;a+=2)i.push([t[a],t[a+1]]);for(var s=jR(i,.4,r,n),l=i.length,u=[],c,h,f,p=0;p<l-1;p++)c=s[2*p],h=s[2*p+1],f=i[p+1],u.push(["C",c[0],c[1],h[0],h[1],f[0],f[1]]);return r&&(c=s[l],h=s[l+1],f=i[0],u.push(["C",c[0],c[1],h[0],h[1],f[0],f[1]])),u}var YR,GR=ow,XR={catmullRom2bezier:zR};function VR(t,e){if(!t.length)return[];for(var n=[],r=0,i=t.length;r<i;r++){var a=t[r];0===r?n.push(["M",a.x,a.y]):n.push(["L",a.x,a.y])}return e&&n.push(["Z"]),n}function HR(t,e){var n=t.getCenter(),r;return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function WR(t,e){for(var n=t.length,r=[t[0]],i=1;i<n;i+=2){var a=e.convertPoint({x:t[i],y:t[i+1]});r.push(a.x,a.y)}return r}function qR(t,e,n){var r=n.isTransposed,i=n.startAngle,a=n.endAngle,o={x:t[1],y:t[2]},s={x:e[1],y:e[2]},l=[],u=r?"y":"x",c=Math.abs(s[u]-o[u])*(a-i),h=s[u]>=o[u]?1:0,f=c>Math.PI?1:0,p=n.convertPoint(s),d=HR(n,p);if(d>=.5)if(c===2*Math.PI){var g={x:(s.x+o.x)/2,y:(s.y+o.y)/2},v=n.convertPoint(g);l.push(["A",d,d,0,f,h,v.x,v.y]),l.push(["A",d,d,0,f,h,p.x,p.y])}else l.push(["A",d,d,0,f,h,p.x,p.y]);return l}function UR(t){GR.each(t,(function(e,n){var r;if("a"===e[0].toLowerCase()){var i=t[n-1],a=t[n+1];a&&"a"===a[0].toLowerCase()?i&&"l"===i[0].toLowerCase()&&(i[0]="M"):i&&"a"===i[0].toLowerCase()&&a&&"l"===a[0].toLowerCase()&&(a[0]="M")}}))}var ZR={getLinePath:function t(e,n){return VR(e,n)},getSplinePath:function t(e,n,r){var i=[],a=e[0],o=null;if(e.length<=2)return ZR.getLinePath(e,n);GR.each(e,(function(t){o&&o.x===t.x&&o.y===t.y||(i.push(t.x),i.push(t.y),o=t)})),r=r||[[0,0],[1,1]];var s=XR.catmullRom2bezier(i,n,r);return s.unshift(["M",a.x,a.y]),s},getPointRadius:function t(e,n){var r;return HR(e,n)},getPointAngle:function t(e,n){var r=e.getCenter(),i;return Math.atan2(n.y-r.y,n.x-r.x)},convertNormalPath:function t(e,n){var r=[];return GR.each(n,(function(t){var n;switch(t[0].toLowerCase()){case"m":case"l":case"c":r.push(WR(t,e));break;default:r.push(t)}})),r},convertPolarPath:function t(e,n){var r=[],i,a,o,s;return GR.each(n,(function(t,l){var u;switch(t[0].toLowerCase()){case"m":case"c":case"q":r.push(WR(t,e));break;case"l":i=n[l-1],a=t,o=e.isTransposed,(s=o?i[i.length-2]===a[1]:i[i.length-1]===a[2])?r=r.concat(qR(i,a,e)):r.push(WR(t,e));break;default:r.push(t)}})),UR(r),r}},QR=ZR,$R=BR,JR=QR,KR=ow,tN=function t(e){t.superclass.constructor.call(this,e)};KR.extend(tN,$R),KR.augment(tN,{getPointRauis:function t(e,n){return JR.getPointRadius(e,n)},getCirclePoint:function t(e,n,r){var i=this,a=i.get("coord"),o=a.getCenter(),s=i._isEmitLabels(),l=i.getPointRauis(a,r),u;if(0===l)return null;a.isTransposed&&l>n&&!s?e+=2*Math.asin(n/(2*l)):l+=n;return{x:o.x+l*Math.cos(e),y:o.y+l*Math.sin(e),angle:e,r:l}},getArcPoint:function t(e,n){var r=this,i;return n=n||0,i=KR.isArray(e.x)||KR.isArray(e.y)?{x:KR.isArray(e.x)?e.x[n]:e.x,y:KR.isArray(e.y)?e.y[n]:e.y}:e,r.transLabelPoint(i),i},getPointAngle:function t(e){var n,r=this.get("coord");return JR.getPointAngle(r,e)},getMiddlePoint:function t(e){var n,r=this.get("coord"),i=e.length,a={x:0,y:0};return KR.each(e,(function(t){a.x+=t.x,a.y+=t.y})),a.x/=i,a.y/=i,a=r.convert(a)},_isToMiddle:function t(e){return e.x.length>2},getLabelPoint:function t(e,n,r){var i=this,a=e.text[r],o=1,s;i._isToMiddle(n)?s=i.getMiddlePoint(n.points):(1===e.text.length&&0===r?r=1:0===r&&(o=-1),s=i.getArcPoint(n,r));var l=i.getDefaultOffset(e);l*=o;var u=i.getPointAngle(s),c=i.getCirclePoint(u,l,s);if(c?(c.text=a,c.angle=u,c.color=n.color):c={text:""},e.autoRotate||void 0===e.autoRotate){var h=c.textStyle?c.textStyle.rotate:null;h||(h=c.rotate||i.getLabelRotate(u,l,n)),c.rotate=h}return c.start={x:s.x,y:s.y},c},_isEmitLabels:function t(){var e;return this.get("label").labelEmit},getLabelRotate:function t(e){var n=this,r;return r=180*e/Math.PI,r+=90,n._isEmitLabels()&&(r-=90),r&&(r>90?r-=180:r<-90&&(r+=180)),r/180*Math.PI},getLabelAlign:function t(e){var n=this,r=n.get("coord"),i;if(n._isEmitLabels())i=e.angle<=Math.PI/2&&e.angle>-Math.PI/2?"left":"right";else if(r.isTransposed){var a=r.getCenter(),o=n.getDefaultOffset(e);i=Math.abs(e.x-a.x)<1?"center":e.angle>Math.PI||e.angle<=0?o>0?"left":"right":o>0?"right":"left"}else i="center";return i}});var eN=tN,nN=ow,rN=eN,iN=QR,aN=cC,oN=5;function sN(t,e,n){return{x:t.x+n*Math.cos(e),y:t.y+n*Math.sin(e)}}function lN(t,e,n,r,i){var a=!0,o=n.start,s=n.end,l=Math.min(o.y,s.y),u=Math.abs(o.y-s.y),c,h=0,f=Number.MIN_VALUE,p=t.map((function(t){return t.y>h&&(h=t.y),t.y<f&&(f=t.y),{size:e,targets:[t.y-l]}}));for(f-=l,h-l>u&&(u=h-l);a;)for(p.forEach((function(t){var e=(Math.min.apply(f,t.targets)+Math.max.apply(f,t.targets))/2;t.pos=Math.min(Math.max(f,e-t.size/2),u-t.size)})),a=!1,c=p.length;c--;)if(c>0){var d=p[c-1],g=p[c];d.pos+d.size>g.pos&&(d.size+=g.size,d.targets=d.targets.concat(g.targets),d.pos+d.size>u&&(d.pos=u-d.size),p.splice(c,1),a=!0)}c=0,p.forEach((function(n){var r=l+e/2;n.targets.forEach((function(){t[c].y=n.pos+r,r+=e,c++}))})),t.forEach((function(t){var e=t.r*t.r,n=Math.pow(Math.abs(t.y-r.y),2);if(e<n)t.x=r.x;else{var a=Math.sqrt(e-n);t.x=i?r.x+a:r.x-a}}))}var uN=function t(e){t.superclass.constructor.call(this,e)};nN.extend(uN,rN),nN.augment(uN,{getDefaultCfg:function t(){return{label:aN.thetaLabels}},getDefaultOffset:function t(e){return e.offset||0},adjustItems:function t(e){var n=this,r=e[0]?e[0].offset:0;return r>0&&(e=n._distribute(e,r)),uN.superclass.adjustItems.call(this,e)},_distribute:function t(e,n){var r=this,i=r.get("coord"),a=i.getRadius(),o=r.get("label").labelHeight,s=i.getCenter(),l,u=2*(a+n)+2*o,c={start:i.start,end:i.end},h=r.get("geom");if(h){var f=h.get("view");c=f.getViewRegion()}var p=[[],[]];return e.forEach((function(t){t&&("right"===t.textAlign?p[0].push(t):p[1].push(t))})),p.forEach((function(t,e){var n=parseInt(u/o,10);t.length>n&&(t.sort((function(t,e){return e["..percent"]-t["..percent"]})),t.splice(n,t.length-n)),t.sort((function(t,e){return t.y-e.y})),lN(t,o,c,s,e)})),p[0].concat(p[1])},lineToLabel:function t(e){var n=this,r=n.get("coord"),i=r.getRadius(),a=e.offset,o=e.orignAngle||e.angle,s=r.getCenter(),l=sN(s,o,i+2.5),u=sN(s,o,i+a/2);e.labelLine||(e.labelLine=n.get("label").labelLine||{}),e.labelLine.path=["M"+l.x,l.y+" Q"+u.x,u.y+" "+e.x,e.y].join(",")},getLabelRotate:function t(e,n){var r;return n<0&&((r=180*e/Math.PI)>90&&(r-=180),r<-90&&(r+=180)),r/180*Math.PI},getLabelAlign:function t(e){var n=this,r,i=n.get("coord").getCenter(),a,o;return a=e.angle<=Math.PI/2&&e.x>=i.x?"left":"right",n.getDefaultOffset(e)<=0&&(a="right"===a?"left":"right"),a},getArcPoint:function t(e){return e},getPointAngle:function t(e){var n=this,r=n.get("coord"),i={x:nN.isArray(e.x)?e.x[0]:e.x,y:e.y[0]};n.transLabelPoint(i);var a={x:nN.isArray(e.x)?e.x[1]:e.x,y:e.y[1]},o;n.transLabelPoint(a);var s=iN.getPointAngle(r,i);if(e.points&&e.points[0].y===e.points[1].y)o=s;else{var l=iN.getPointAngle(r,a);s>=l&&(l+=2*Math.PI),o=s+(l-s)/2}return o},getCirclePoint:function t(e,n){var r,i=this.get("coord"),a=i.getCenter(),o=i.getRadius()+n,s=sN(a,e,o);return s.angle=e,s.r=o,s}});var cN=uN,hN=ow,fN=BR,pN=function t(e){t.superclass.constructor.call(this,e)};hN.extend(pN,fN),hN.augment(pN,{setLabelPosition:function t(e,n,r,i){hN.isFunction(i)&&(i=i(e.text,n._origin,r));var a=this.get("coord"),o=a.isTransposed,s=a.convertPoint(n.points[0]),l=a.convertPoint(n.points[2]),u=(s.x-l.x)/2*(o?-1:1),c=(s.y-l.y)/2*(o?-1:1);switch(i){case"right":o?(e.x-=u,e.y+=c,e.textAlign=e.textAlign||"center"):(e.x-=u,e.y+=c,e.textAlign=e.textAlign||"left");break;case"left":o?(e.x-=u,e.y-=c,e.textAlign=e.textAlign||"center"):(e.x+=u,e.y+=c,e.textAlign=e.textAlign||"right");break;case"bottom":o?(e.x-=2*u,e.textAlign=e.textAlign||"left"):(e.y+=2*c,e.textAlign=e.textAlign||"center");break;case"middle":o?e.x-=u:e.y+=c,e.textAlign=e.textAlign||"center";break;case"top":e.textAlign=o?e.textAlign||"left":e.textAlign||"center"}}});var dN,gN=BR,vN=eN,mN=cN,yN=pN,xN,_N={getLabelsClass:function t(e,n){var r=gN;return"polar"===e?r=vN:"theta"===e?r=mN:"interval"!==n&&"polygon"!==n||(r=yN),r}},bN=ow,wN=QR,SN=bN.PathUtil,MN={},CN={_coord:null,draw:function t(e,n){return this.drawShape?this.drawShape(e,n):null},setCoord:function t(e){this._coord=e},parsePath:function t(e,n){var r=this._coord;return e=SN.parsePathString(e),e=r.isPolar&&!1!==n?wN.convertPolarPath(r,e):wN.convertNormalPath(r,e)},parsePoint:function t(e){var n;return this._coord.convertPoint(e)},parsePoints:function t(e){var n=this._coord,r=[];return bN.each(e,(function(t){r.push(n.convertPoint(t))})),r}},AN={defaultShapeType:null,setCoord:function t(e){this._coord=e},getShape:function t(e){var n=this;bN.isArray(e)&&(e=e[0]);var r=n[e]||n[n.defaultShapeType];return r._coord=n._coord,r},getShapePoints:function t(e,n){var r=this.getShape(e),i,a;return(r.getPoints||r.getShapePoints||this.getDefaultPoints)(n)},getDefaultPoints:function t(){return[]},getMarkerCfg:function t(e,n){var r=this.getShape(e);if(!r.getMarkerCfg){var i=this.defaultShapeType;r=this.getShape(i)}return r.getMarkerCfg(n)},getSelectedCfg:function t(){return{}},drawShape:function t(e,n,r){var i,a=this.getShape(e).draw(n,r);return a&&(a.setSilent("origin",n.origin),a._id=n.yIndex?n._id+n.yIndex:n._id,a.name=this.name),a}};MN.registerFactory=function(t,e){var n=bN.upperFirst(t),r=bN.assign({},AN,e);return MN[n]=r,r.name=t,r},MN.registerShape=function(t,e,n){var r=bN.upperFirst(t),i=MN[r],a=bN.assign({},CN,n);return i[e]=a,a},MN.getShapeFactory=function(t){var e,n;return t=t||"point",this[bN.upperFirst(t)]};var PN=MN,kN=ow,TN,IN=cC.defaultColor,EN="_origin";function ON(t){return t.alias||t.field}var LN,DN,FN={toFront:function t(e){var n,r=e.get("parent").get("children").indexOf(e);e.set("_originIndex",r),e.toFront()},resetZIndex:function t(e){var n=e.get("parent"),r=e.get("_originIndex"),i=n.get("children"),a=i.indexOf(e);r>=0&&r!==a&&(i.splice(a,1),i.splice(r,0,e))}},BN=ow,RN="_origin",NN=FN,jN="_originActiveAttrs";function zN(t,e){if(BN.isNil(t)||BN.isNil(e))return!1;var n=t.get("origin"),r=e.get("origin");return BN.isEqual(n,r)}function YN(t,e){if(!t)return!0;if(t.length!==e.length)return!0;var n=!1;return BN.each(e,(function(e,r){if(!zN(e,t[r]))return n=!0,!1})),n}function GN(t,e){var n={};return BN.each(t,(function(t,r){var i=e.attr(r);BN.isArray(i)&&(i=BN.cloneDeep(i)),n[r]=i})),n}var XN,VN,HN=ow,WN="_origin",qN=FN;function UN(t,e){if(HN.isNil(t)||HN.isNil(e))return!1;var n=t.get("origin"),r=e.get("origin");return HN.isEqual(n,r)}function ZN(t,e){var n={};return HN.each(t,(function(t,r){"transform"===r&&(r="matrix");var i=e.attr(r);HN.isArray(i)&&(i=HN.cloneDeep(i)),n[r]=i})),n}var QN,$N,JN=ow,KN;function tj(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ej(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,nj(t,e)}function nj(t,e){return(nj=Object.setPrototypeOf||function t(e,n){return e.__proto__=n,e})(t,e)}var rj=LS,ij=kM,aj,oj=ow,sj=cC,lj=_N,uj=PN,cj={_getIntervalSize:function t(e){var n=null,r=this.get("type"),i=this.get("coord");if(i.isRect&&("interval"===r||"schema"===r)){n=this.getSize(e._origin);var a=i.isTransposed?"y":"x",o;if(kN.isArray(e[a]))n=n<Math.abs(e[a][1]-e[a][0])?null:n}return n},_snapEqual:function t(e,n,r){var i;return e=r.translate(e),n=r.translate(n),i=r.isCategory?e===n:kN.snapEqual(e,n)},_getScaleValueByPoint:function t(e){var n=0,r=this.get("coord"),i=this.getXScale(),a,o=r.invert(e).x;return this.isInCircle()&&o>(1+i.rangeMax())/2&&(o=i.rangeMin()),n=i.invert(o),i.isCategory&&(n=i.translate(n)),n},_getOriginByPoint:function t(e){var n=this.getXScale(),r=this.getYScale(),i=n.field,a=r.field,o,s=this.get("coord").invert(e),l=n.invert(s.x),u=r.invert(s.y),c={};return c[i]=l,c[a]=u,c},_getScale:function t(e){var n,r=this.get("scales"),i=null;return kN.each(r,(function(t){if(t.field===e)return i=t,!1})),i},_getTipValueScale:function t(){var e=this.getAttrsForLegend(),n;kN.each(e,(function(t){var e=t.getScale(t.type);if(e.isLinear)return n=e,!1}));var r=this.getXScale(),i=this.getYScale();return!n&&i&&"..y"===i.field?r:n||i||r},_getTipTitleScale:function t(e){var n=this;if(e)return n._getScale(e);var r,i=n.getAttr("position").getFields(),a;return kN.each(i,(function(t){if(!t.includes(".."))return a=t,!1})),n._getScale(a)},_filterValue:function t(e,n){var r=this.get("coord"),i=this.getYScale(),a=i.field,o,s=r.invert(n).y;s=i.invert(s);var l=e[e.length-1];return kN.each(e,(function(t){var e=t._origin;if(e[a][0]<=s&&e[a][1]>=s)return l=t,!1})),l},getXDistance:function t(){var e=this,n=e.get("xDistance");if(!n){var r=e.getXScale();if(r.isCategory)n=1;else{var i=r.values,a=r.translate(i[0]),o=a;kN.each(i,(function(t){(t=r.translate(t))<a&&(a=t),t>o&&(o=t)}));var s=i.length;n=(o-a)/(s-1)}e.set("xDistance",n)}return n},findPoint:function t(e,n){var r=this,i=r.get("type"),a=r.getXScale(),o=r.getYScale(),s=a.field,l=o.field,u=null;if(kN.indexOf(["heatmap","point"],i)>-1){var c,h=r.get("coord").invert(e),f=a.invert(h.x),p=o.invert(h.y),d=1/0;return kN.each(n,(function(t){var e=Math.pow(t._origin[s]-f,2)+Math.pow(t._origin[l]-p,2);e<d&&(d=e,u=t)})),u}var g=n[0],v=n[n.length-1];if(!g)return u;var m=r._getScaleValueByPoint(e),y=g._origin[s],x=g._origin[l],_=v._origin[s],b=o.isLinear&&kN.isArray(x);if(kN.isArray(y))kN.each(n,(function(t){var e=t._origin;if(a.translate(e[s][0])<=m&&a.translate(e[s][1])>=m){if(!b)return u=t,!1;kN.isArray(u)||(u=[]),u.push(t)}})),kN.isArray(u)&&(u=this._filterValue(u,e));else{var w;if(a.isLinear||"timeCat"===a.type){if((m>a.translate(_)||m<a.translate(y))&&(m>a.max||m<a.min))return null;for(var S=0,M=n.length-1,C;S<=M;){C=Math.floor((S+M)/2);var A=n[C]._origin[s];if(r._snapEqual(A,m,a))return n[C];a.translate(A)<=a.translate(m)?(S=C+1,v=n[C],w=n[C+1]):(0===M&&(v=n[0]),M=C-1)}}else kN.each(n,(function(t,e){var i=t._origin;if(r._snapEqual(i[s],m,a)){if(!b)return u=t,!1;kN.isArray(u)||(u=[]),u.push(t)}else a.translate(i[s])<=m&&(v=t,w=n[e+1])})),kN.isArray(u)&&(u=this._filterValue(u,e));v&&w&&Math.abs(a.translate(v._origin[s])-m)>Math.abs(a.translate(w._origin[s])-m)&&(v=w)}var P=r.getXDistance();return!u&&Math.abs(a.translate(v._origin[s])-m)<=P/2&&(u=v),u},getTipTitle:function t(e,n){var r="",i=this._getTipTitleScale(n);if(i){var a=e[i.field];r=i.getText(a)}else if("heatmap"===this.get("type")){var o=this.getXScale(),s=this.getYScale(),l,u;r="( "+o.getText(e[o.field])+", "+s.getText(e[s.field])+" )"}return r},getTipValue:function t(e,n){var r,i=n.field,a=e.key;if(r=e[i],kN.isArray(r)){var o=[];kN.each(r,(function(t){o.push(n.getText(t))})),r=o.join("-")}else r=n.getText(r,a);return r},getTipName:function t(e){var n,r,i=this._getGroupScales();if(i.length&&kN.each(i,(function(t){return r=t,!1})),r){var a=r.field;n=r.getText(e[a])}else{var o;n=ON(this._getTipValueScale())}return n},getTipItems:function t(e,n){var r=this,i=e._origin,a=r.getTipTitle(i,n),o=r.get("tooltipCfg"),s=[],l,u;function c(t,n,i){if(!kN.isNil(n)&&""!==n){var o={title:a,point:e,name:t||a,value:n,color:e.color||IN,marker:!0};o.size=r._getIntervalSize(e),s.push(kN.mix({},o,i))}}if(o){var h=o.fields,f=o.cfg,p=[];if(kN.each(h,(function(t){p.push(i[t])})),f){kN.isFunction(f)&&(f=f.apply(null,p));var d=kN.mix({},{point:e,title:a,color:e.color||IN,marker:!0},f);d.size=r._getIntervalSize(e),s.push(d)}else kN.each(h,(function(t){if(!kN.isNil(i[t])){var e=r._getScale(t);l=ON(e),u=e.getText(i[t]),c(l,u)}}))}else{var g=r._getTipValueScale();kN.isNil(i[g.field])||(u=r.getTipValue(i,g),c(l=r.getTipName(i),u))}return s},isShareTooltip:function t(){var e=this.get("shareTooltip"),n=this.get("type"),r=this.get("view"),i;if(i=r.get("parent")?r.get("parent").get("options"):r.get("options"),"interval"===n){var a=this.get("coord"),o=a.type;("theta"===o||"polar"===o&&a.isTransposed)&&(e=!1)}else this.getYScale()&&!kN.inArray(["contour","point","polygon","edge"],n)||(e=!1);return i.tooltip&&kN.isBoolean(i.tooltip.shared)&&(e=i.tooltip.shared),e}},hj={_isAllowActive:function t(){var e=this.get("allowActive");if(!BN.isNil(e))return e;var n=this.get("view"),r=this.isShareTooltip(),i;return!1===n.get("options").tooltip||!r},_onMouseenter:function t(e){var n=this,r=e.shape,i=n.get("shapeContainer");r&&i.contain(r)&&n._isAllowActive()&&n.setShapesActived(r)},_onMouseleave:function t(){var e=this,n,r=e.get("view").get("canvas");e.get("activeShapes")&&(e.clearActivedShapes(),r.draw())},_bindActiveAction:function t(){var e=this,n=e.get("view"),r=e.get("type");n.on(r+":mouseenter",BN.wrapBehavior(e,"_onMouseenter")),n.on(r+":mouseleave",BN.wrapBehavior(e,"_onMouseleave"))},_offActiveAction:function t(){var e=this,n=e.get("view"),r=e.get("type");n.off(r+":mouseenter",BN.getWrapBehavior(e,"_onMouseenter")),n.off(r+":mouseleave",BN.getWrapBehavior(e,"_onMouseleave"))},_setActiveShape:function t(e){var n=this,r=n.get("activedOptions")||{},i=e.get("origin"),a=i.shape||n.getDefaultValue("shape");BN.isArray(a)&&(a=a[0]);var o=n.get("shapeFactory"),s=BN.mix({},e.attr(),{origin:i}),l=o.getActiveCfg(a,s);r.style&&BN.mix(l,r.style);var u=GN(l,e);e.setSilent(jN,u),r.animate?e.animate(l,300):e.attr(l),NN.toFront(e)},setShapesActived:function t(e){var n=this;BN.isArray(e)||(e=[e]);var r=n.get("activeShapes");if(YN(r,e)){var i,a=n.get("view").get("canvas"),o=n.get("activedOptions");o&&o.highlight?(BN.each(e,(function(t){t.get("animating")&&t.stopAnimate()})),n.highlightShapes(e)):(r&&n.clearActivedShapes(),BN.each(e,(function(t){t.get("animating")&&t.stopAnimate(),t.get("visible")&&n._setActiveShape(t)}))),n.set("activeShapes",e),a.draw()}},clearActivedShapes:function t(){var e=this,n=e.get("shapeContainer"),r=e.get("activedOptions"),i=r&&r.animate;if(n&&!n.get("destroyed")){var a=e.get("activeShapes"),o;if(BN.each(a,(function(t){var e=t.get(jN);i?(t.stopAnimate(),t.animate(e,300)):t.attr(e),NN.resetZIndex(t),t.setSilent(jN,null)})),e.get("preHighlightShapes")){var s=n.get("children");BN.each(s,(function(t){var e=t.get(jN);e&&(i?(t.stopAnimate(),t.animate(e,300)):t.attr(e),NN.resetZIndex(t),t.setSilent(jN,null))}))}e.set("activeShapes",null),e.set("preHighlightShapes",null)}},getGroupShapesByPoint:function t(e){var n=this,r=n.get("shapeContainer"),i=[];if(r){var a=n.getXScale().field,o=n.getShapes(),s=n._getOriginByPoint(e);BN.each(o,(function(t){var e=t.get("origin"),n;t.get("visible")&&e&&(e._origin[a]===s[a]&&i.push(t))}))}return i},getSingleShapeByPoint:function t(e){var n,r=this.get("shapeContainer"),i,a=r.get("canvas").get("pixelRatio"),o;if(r&&(o=r.getShape(e.x*a,e.y*a)),o&&o.get("origin"))return o},highlightShapes:function t(e,n){var r=this;BN.isArray(e)||(e=[e]);var i=r.get("activeShapes");if(YN(i,e)){i&&r.clearActivedShapes();var a=r.getShapes(),o=r.get("activedOptions"),s=o&&o.animate,l=o&&o.style;BN.each(a,(function(t){var r={};t.stopAnimate(),-1!==BN.indexOf(e,t)?(BN.mix(r,l,n),NN.toFront(t)):(BN.mix(r,{fillOpacity:.3,opacity:.3}),NN.resetZIndex(t));var i=GN(r,t);t.setSilent(jN,i),s?t.animate(r,300):t.attr(r)})),r.set("preHighlightShapes",e),r.set("activeShapes",e)}}},fj={_isAllowSelect:function t(){var e=this.get("allowSelect");if(!HN.isNil(e))return e;var n=this.get("type"),r=this.get("coord"),i=r&&r.type;return"interval"===n&&"theta"===i},_onClick:function t(e){var n=this;if(n._isAllowSelect()){var r=e.shape,i=n.get("shapeContainer");r&&i.contain(r)&&n.setShapeSelected(r)}},_bindSelectedAction:function t(){var e=this,n=e.get("view"),r=e.get("type");n.on(r+":click",HN.wrapBehavior(e,"_onClick"))},_offSelectedAction:function t(){var e=this,n=e.get("view"),r=e.get("type");n.off(r+":click",HN.getWrapBehavior(e,"_onClick"))},_setShapeStatus:function t(e,n){var r=this,i=r.get("view"),a=r.get("selectedOptions")||{},o=!1!==a.animate,s=i.get("canvas");e.set("selected",n);var l=e.get("origin");if(n){var u=l.shape||r.getDefaultValue("shape");HN.isArray(u)&&(u=u[0]);var c=r.get("shapeFactory"),h=HN.mix({geom:r,point:l},a),f=c.getSelectedCfg(u,h);HN.mix(f,h.style),e.get("_originAttrs")||(e.get("animating")&&e.stopAnimate(),e.set("_originAttrs",ZN(f,e))),a.toFront&&qN.toFront(e),o?e.animate(f,300):(e.attr(f),s.draw())}else{var p=e.get("_originAttrs");a.toFront&&qN.resetZIndex(e),e.set("_originAttrs",null),o?e.animate(p,300):(e.attr(p),s.draw())}},setShapeSelected:function t(e){var n=this,r=n._getSelectedShapes(),i=n.get("selectedOptions")||{},a=!1!==i.cancelable;if("multiple"===i.mode)-1===HN.indexOf(r,e)?(r.push(e),n._setShapeStatus(e,!0)):a&&(HN.Array.remove(r,e),n._setShapeStatus(e,!1));else{var o=r[0];a&&(e=UN(o,e)?null:e),UN(o,e)||(o&&n._setShapeStatus(o,!1),e&&n._setShapeStatus(e,!0))}},clearSelected:function t(){var e=this,n=e.get("shapeContainer");if(n&&!n.get("destroyed")){var r=e._getSelectedShapes();HN.each(r,(function(t){e._setShapeStatus(t,!1),t.set("_originAttrs",null)}))}},setSelected:function t(e){var n=this,r=n.getShapes();return HN.each(r,(function(t){var r=t.get("origin");r&&r._origin===e&&n.setShapeSelected(t)})),this},_getSelectedShapes:function t(){var e=this,n=e.getShapes(),r=[];return HN.each(n,(function(t){t.get("selected")&&r.push(t)})),e.set("selectedShapes",r),r}},pj=function(t){return JN.isArray(t)?t:JN.isString(t)?t.split("*"):[t]},dj=["color","shape","size"],gj="_origin";function vj(t){return(oj.isString(t)||oj.isPlainObject(t))&&(t=[t]),oj.each(t,(function(e,n){oj.isObject(e)||(t[n]={type:e})})),t}var mj=function(t){ej(n,t);var e=n.prototype;function n(e){var n;return(n=t.call(this,e)||this).viewTheme=n.get("viewTheme"),oj.assign(tj(n),cj,hj,fj),n.get("container")&&n._initContainer(),n._initOptions(),n}return e.getDefaultCfg=function t(){return{_id:null,type:"base",coord:null,attrs:{},view:null,data:[],scales:{},container:null,labelContainer:null,shapeContainer:null,attrOptions:{},styleOptions:null,selectedOptions:null,activedOptions:null,hasDefaultAdjust:!1,adjusts:null,shapeType:null,generatePoints:!1,sortable:!1,labelCfg:null,shareTooltip:!0,tooltipCfg:null,animate:!0,animateCfg:null,visible:!0}},e._initOptions=function t(){var e=this.get("adjusts");e&&(e=vj(e),this.set("adjusts",e))},e._createScale=function t(e,n){var r=this.get("scales"),i=r[e];return i||(i=this.get("view").createScale(e,n),r[e]=i),i},e._setAttrOptions=function t(e,n){var r;this.get("attrOptions")[e]=n},e._createAttrOption=function t(e,n,r,i){var a={};a.field=n,r?oj.isFunction(r)?a.callback=r:a.values=r:"color"!==e&&(a.values=i),this._setAttrOptions(e,a)},e.position=function t(e){return this._setAttrOptions("position",{field:e}),this},e.color=function t(e,n){var r=this.viewTheme||sj;return this._createAttrOption("color",e,n,r.colors),this},e.size=function t(e,n){var r=this.viewTheme||sj;return this._createAttrOption("size",e,n,r.sizes),this},e.shape=function t(e,n){var r=this.viewTheme||sj,i=this.get("type"),a=r.shapes[i]||[];return this._createAttrOption("shape",e,n,a),this},e.opacity=function t(e,n){var r=this.viewTheme||sj;return this._createAttrOption("opacity",e,n,r.opacities),this},e.style=function t(e,n){var r=this.get("styleOptions"),i;return r||(r={},this.set("styleOptions",r)),oj.isObject(e)&&(n=e,e=null),e&&(i=pj(e)),r.fields=i,r.style=n,this},e.label=function t(e,n,r){var i=this,a=i.get("labelCfg"),o;return a||(a={},i.set("labelCfg",a)),e&&(o=pj(e)),a.fields=o,oj.isFunction(n)?(r||(r={}),a.callback=n):oj.isObject(n)&&(r=n),a.globalCfg=r,this},e.tooltip=function t(e,n){var r=this.get("tooltipCfg"),i;(r||(r={}),!1===e)?this.set("tooltipCfg",!1):(e&&(i=pj(e)),r.fields=i,r.cfg=n);return this.set("tooltipCfg",r),this},e.animate=function t(e){return this.set("animateCfg",e),this},e.active=function t(e,n){return!1===e?this.set("allowActive",!1):oj.isObject(e)?(this.set("allowActive",!0),this.set("activedOptions",e)):(this.set("allowActive",!0),this.set("activedOptions",n)),this},e.adjust=function t(e){return this.get("hasDefaultAdjust")||(e&&(e=vj(e)),this.set("adjusts",e)),this},e.select=function t(e,n){return!1===e?this.set("allowSelect",!1):oj.isObject(e)?(this.set("allowSelect",!0),this.set("selectedOptions",e)):(this.set("allowSelect",!0),this.set("selectedOptions",n)),this},e.hasAdjust=function t(e){var n,r=this.get("adjusts");if(!e)return!1;var i=!1;return oj.each(r,(function(t){if(t.type===e)return i=!0,!1})),i},e.hasStack=function t(){var e=this.get("isStacked");return oj.isNil(e)&&(e=this.hasAdjust("stack"),this.set("isStacked",e)),e},e.isInCircle=function t(){var e=this.get("coord");return e&&e.isPolar},e._initContainer=function t(){var e=this,n=e.get("shapeContainer");if(!n){var r=e.get("container"),i=e.get("view"),a=i&&i.get("_id");n=r.addGroup({viewId:a,visible:e.get("visible")}),e.set("shapeContainer",n)}},e.init=function t(){var e=this;if(e._initContainer(),e._initAttrs(),e.get("tooltipCfg")&&e.get("tooltipCfg").fields){var n=e.get("tooltipCfg").fields;oj.each(n,(function(t){e._createScale(t)}))}var r=e._processData();e.get("adjusts")&&e._adjust(r),e.set("dataArray",r)},e._initAttrs=function t(){var e=this,n=e.get("attrs"),r=e.get("attrOptions"),i=e.get("coord"),a=e.viewTheme||sj,o=!1;for(var s in r)if(r.hasOwnProperty(s)){var l=r[s],u=oj.upperFirst(s),c=pj(l.field);"position"===s&&(l.coord=i,1===c.length&&"theta"===i.type&&(c.unshift("1"),o=!0));for(var h=[],f=0;f<c.length;f++){var p=c[f],d=e._createScale(p);"color"===s&&oj.isNil(l.values)&&(d.values.length<=8?l.values=o?a.colors_pie:a.colors:d.values.length<=16?l.values=o?a.colors_pie_16:a.colors_16:l.values=a.colors_24,oj.isNil(l.values)&&(l.values=a.colors)),h.push(d)}if("theta"===i.type&&"position"===s&&h.length>1){var g=h[1],v=0,m=Math.max.apply(null,g.values);isFinite(m)||(m=1),g.change({nice:!1,min:0,max:m})}l.scales=h;var y=new rj[u](l);n[s]=y}},e._processData=function t(){for(var e=this,n=this.get("data"),r=[],i=this._groupData(n),a=0;a<i.length;a++){var o=i[a],s=e._saveOrigin(o);r.push(e._numberic(s))}return r},e._groupData=function t(e){var n,r=this._getGroupScales().map((function(t){return t.field}));return oj.Array.group(e,r)},e._saveOrigin=function t(e){for(var n=[],r=0;r<e.length;r++){var i=e[r],a={};for(var o in i)a[o]=i[o];a._origin=i,n.push(a)}return n},e._numberic=function t(e){for(var n,r=this.getAttr("position").scales,i=[],a=0;a<e.length;a++){for(var o=e[a],s=!0,l=0;l<Math.min(2,r.length);l++){var u=r[l];if(u.isCategory){var c=u.field;o[c]=u.translate(o[c]),Number.isNaN(o[c])&&(s=!1)}}s&&i.push(o)}return i},e._getGroupScales=function t(){var e=this,n=e.get("groupScales");if(!n){n=[];var r=e.get("attrs");oj.each(r,(function(t){if(dj.includes(t.type)){var e=t.scales;oj.each(e,(function(t){t.isCategory&&-1===oj.indexOf(n,t)&&n.push(t)}))}})),e.set("groupScales",n)}return n},e._updateStackRange=function t(e,n,r){for(var i=oj.Array.merge(r),a=n.min,o=n.max,s=0;s<i.length;s++){var l=i[s];if(oj.isArray(l[e])){var u=Math.min.apply(null,l[e]),c=Math.max.apply(null,l[e]);u<a&&(a=u),c>o&&(o=c)}}(a<n.min||o>n.max)&&n.change({min:a,max:o})},e._adjust=function t(e){if(e&&e.length){var n=this,r=n.get("adjusts"),i=this.viewTheme||sj,a=n.getYScale(),o=n.getXScale(),s=o.field,l=a?a.field:null;oj.each(r,(function(t){var r=oj.mix({xField:s,yField:l},t),u=oj.upperFirst(t.type),c;if("Dodge"===u){var h=[];if(o.isCategory||o.isIdentity)h.push("x");else{if(a)throw new Error("dodge is not support linear attribute, please use category attribute!");h.push("y")}r.adjustNames=h,r.dodgeRatio=r.dodgeRatio||i.widthRatio.column}else if("Stack"===u){var f=n.get("coord");if(!a){r.height=f.getHeight();var p=n.getDefaultValue("size")||3;r.size=p}!f.isTransposed&&oj.isNil(r.reverseOrder)&&(r.reverseOrder=!0)}new ij[u](r).processAdjust(e),"Stack"===u&&a&&n._updateStackRange(l,a,e)}))}},e.setCoord=function t(e){this.set("coord",e);var n=this.getAttr("position"),r;this.get("shapeContainer").setMatrix(e.matrix),n&&(n.coord=e)},e.paint=function t(){var e=this,n=e.get("dataArray"),r=[],i=e.getShapeFactory();i.setCoord(e.get("coord")),e.set("shapeFactory",i);var a=e.get("shapeContainer");e._beforeMapping(n);for(var o=0;o<n.length;o++){var s=n[o],l=o;s=e._mapping(s),r.push(s),e.draw(s,a,i,l)}e.get("labelCfg")&&e._addLabels(oj.union.apply(null,r),a.get("children")),e.get("sortable")?e.set("dataArray",r):e._sort(r)},e._sort=function t(e){var n=this,r=n.getXScale(),i=r.field;oj.each(e,(function(t){t.sort((function(t,e){return r.translate(t._origin[i])-r.translate(e._origin[i])}))})),n.set("dataArray",e)},e._beforeMapping=function t(e){var n=this;if(n.get("sortable")){var r=n.getXScale(),i=r.field;oj.each(e,(function(t){t.sort((function(t,e){return r.translate(t[i])-r.translate(e[i])}))}))}n.get("generatePoints")&&(oj.each(e,(function(t){n._generatePoints(t)})),oj.each(e,(function(t,n){var r=e[n+1];r&&(t[0].nextPoints=r[0].points)})))},e._addLabels=function t(e,n){var r=this,i=r.get("type"),a=r.get("viewTheme")||sj,o=r.get("coord"),s=lj.getLabelsClass(o.type,i),l=r.get("container"),u=oj.map(r.get("labelCfg").fields,(function(t){return r._createScale(t)})),c=l.addGroup(s,{_id:this.get("_id"),labelCfg:oj.mix({scales:u},r.get("labelCfg")),coord:o,geom:r,geomType:i,yScale:r.getYScale(),viewTheme:a,visible:r.get("visible")});c.showLabels(e,n),r.set("labelContainer",c)},e.getShapeFactory=function t(){var e=this.get("shapeFactory");if(!e){var n=this.get("shapeType");e=uj.getShapeFactory(n),this.set("shapeFactory",e)}return e},e._generatePoints=function t(e){for(var n=this,r=n.getShapeFactory(),i=n.getAttr("shape"),a=0;a<e.length;a++){var o=e[a],s=n.createShapePointsCfg(o),l=i?n._getAttrValues(i,o):null,u=r.getShapePoints(l,s);o.points=u}},e.createShapePointsCfg=function t(e){var n=this.getXScale(),r=this.getYScale(),i,a;return{x:this._normalizeValues(e[n.field],n),y:a=r?this._normalizeValues(e[r.field],r):e.y?e.y:.1,y0:r?r.scale(this.getYMinValue()):void 0}},e.getYMinValue=function t(){var e=this.getYScale(),n=e.min,r=e.max,i;return i=n>=0?n:r<=0?r:0},e._normalizeValues=function t(e,n){var r=[];if(oj.isArray(e))for(var i=0;i<e.length;i++){var a=e[i];r.push(n.scale(a))}else r=n.scale(e);return r},e._mapping=function t(e){for(var n=this,r=n.get("attrs"),i=[],a=0;a<e.length;a++){var o=e[a],s={};for(var l in s._origin=o._origin,s.points=o.points,s.nextPoints=o.nextPoints,r)if(r.hasOwnProperty(l)){var u=r[l],c=u.names,h=n._getAttrValues(u,o);if(c.length>1)for(var f=0;f<h.length;f++){var p=h[f],d;s[c[f]]=oj.isArray(p)&&1===p.length?p[0]:p}else s[c[0]]=1===h.length?h[0]:h}i.push(s)}return i},e._getAttrValues=function t(e,n){for(var r=e.scales,i=[],a=0;a<r.length;a++){var o=r[a],s=o.field;"identity"===o.type?i.push(o.value):i.push(n[s])}var l;return e.mapping.apply(e,i)},e.getAttrValue=function t(e,n){var r=this.getAttr(e),i=null,a;r&&(i=this._getAttrValues(r,n)[0]);return i},e.getDefaultValue=function t(e){var n=this.get(e),r=this.getAttr(e);if(r){var i=r.getScale(e);"identity"===i.type&&(n=i.value)}return n},e.draw=function t(e,n,r,i){for(var a=this,o=0;o<e.length;o++){var s=e[o];a.drawPoint(s,n,r,i+o)}},e.getCallbackCfg=function t(e,n,r){if(!e)return n;var i={},a=e.map((function(t){return r[t]}));return oj.each(n,(function(t,e){oj.isFunction(t)?i[e]=t.apply(null,a):i[e]=t})),i},e._getShapeId=function t(e){var n=this.get("_id"),r=this.get("keyFields");if(r&&r.length>0)oj.each(r,(function(t){n+="-"+e[t]}));else{var i=this.get("type"),a=this.getXScale(),o=this.getYScale(),s=a.field||"x",l=o.field||"y",u=e[l],c;c=a.isIdentity?a.value:e[s],n+="interval"===i||"schema"===i?"-"+c:"line"===i||"area"===i||"path"===i?"-"+i:"-"+c+"-"+u;var h=this._getGroupScales();oj.isEmpty(h)||oj.each(h,(function(t){var r=t.field;"identity"!==t.type&&(n+="-"+e[r])}))}return n},e.getDrawCfg=function t(e){var n=this,r={origin:e,x:e.x,y:e.y,color:e.color,size:e.size,shape:e.shape,isInCircle:n.isInCircle(),opacity:e.opacity},i=n.get("styleOptions");return i&&i.style&&(r.style=n.getCallbackCfg(i.fields,i.style,e._origin)),n.get("generatePoints")&&(r.points=e.points,r.nextPoints=e.nextPoints),n.get("animate")&&(r._id=n._getShapeId(e._origin)),r},e.appendShapeInfo=function t(e,n){e&&(e.setSilent("index",n),e.setSilent("coord",this.get("coord")),this.get("animate")&&this.get("animateCfg")&&e.setSilent("animateCfg",this.get("animateCfg")))},e._applyViewThemeShapeStyle=function t(e,n,r){var i,a=this.viewTheme||sj,o=r.name;n?n&&(n.indexOf("hollow")>-1||n.indexOf("liquid")>-1)&&(o="hollow"+oj.upperFirst(o)):r.defaultShapeType.indexOf("hollow")>-1&&(o="hollow"+oj.upperFirst(o));var s=a.shape[o]||{};e.style=oj.mix({},s,e.style)},e.drawPoint=function t(e,n,r,i){var a=this,o=e.shape,s=a.getDrawCfg(e);a._applyViewThemeShapeStyle(s,o,r);var l=r.drawShape(o,s,n);a.appendShapeInfo(l,i)},e.getAttr=function t(e){return this.get("attrs")[e]},e.getXScale=function t(){return this.getAttr("position").scales[0]},e.getYScale=function t(){return this.getAttr("position").scales[1]},e.getShapes=function t(){var e=[],n,r=this.get("shapeContainer").get("children");return oj.each(r,(function(t){t.get("origin")&&e.push(t)})),e},e.getAttrsForLegend=function t(){var e=this.get("attrs"),n=[];return oj.each(e,(function(t){dj.includes(t.type)&&n.push(t)})),n},e.getFieldsForLegend=function t(){var e=[],n=this.get("attrOptions");return oj.each(dj,(function(t){var r=n[t];r&&r.field&&oj.isString(r.field)&&(e=e.concat(r.field.split("*")))})),oj.uniq(e)},e.changeVisible=function t(e,n){var r;this.set("visible",e);var i=this.get("shapeContainer");i&&i.set("visible",e);var a=this.get("labelContainer"),o;(a&&a.set("visible",e),!n&&i)&&i.get("canvas").draw()},e.reset=function t(){this.set("attrOptions",{}),this.clearInner()},e.clearInner=function t(){this.clearActivedShapes(),this.clearSelected();var e=this.get("shapeContainer");e&&e.clear();var n=this.get("labelContainer");n&&n.remove(),this.set("attrs",{}),this.set("groupScales",null),this.set("labelContainer",null),this.set("xDistance",null),this.set("isStacked",null)},e.clear=function t(){this.clearInner(),this.set("scales",{})},e.destroy=function e(){this.clear();var n=this.get("shapeContainer");n&&n.remove(),this.offEvents(),t.prototype.destroy.call(this)},e.bindEvents=function t(){this.get("view")&&(this._bindActiveAction(),this._bindSelectedAction())},e.offEvents=function t(){this.get("view")&&(this._offActiveAction(),this._offSelectedAction())},n}(jw),yj=mj,xj=dn,_j=ow,bj=/^(?:(?!0000)[0-9]{4}([-/.]+)(?:(?:0?[1-9]|1[0-2])\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\1(?:29|30)|(?:0?[13578]|1[02])\1(?:31))|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)([-/.]+)0?2\2(?:29))(\s+([01]|([01][0-9]|2[0-3])):([0-9]|[0-5][0-9]):([0-9]|[0-5][0-9]))?$/,wj="linear",Sj="cat",Mj="time",Cj=function(){function t(t){this.defs={},this.viewTheme={scales:{}},this.filters={},_j.assign(this,t)}var e=t.prototype;return e._getDef=function t(e){var n=this.defs,r=this.viewTheme,i=null;return(r.scales[e]||n[e])&&(i=_j.mix({},r.scales[e]),_j.each(n[e],(function(t,e){_j.isNil(t)?delete i[e]:i[e]=t})),this.filters[e]&&(delete i.min,delete i.max)),i},e._getDefaultType=function t(e,n){var r=wj,i=_j.Array.firstValue(n,e);return _j.isArray(i)&&(i=i[0]),bj.test(i)?r=Mj:_j.isString(i)&&(r=Sj),r},e._getScaleCfg=function t(e,n,r){var i={field:n},a=_j.Array.values(r,n);if(i.values=a,!xj.isCategory(e)&&"time"!==e){var o=_j.Array.getRange(a);i.min=o.min,i.max=o.max,i.nice=!0}return"time"===e&&(i.nice=!1),i},e.createScale=function t(e,n){var r=this,i=r._getDef(e),a,o=n||[],s=_j.Array.firstValue(o,e);if(_j.isNumber(e)||_j.isNil(s)&&!i)a=xj.identity({value:e,field:e.toString(),values:[e]});else{var l;i&&(l=i.type),l=l||r._getDefaultType(e,o);var u=r._getScaleCfg(l,e,o);i&&_j.mix(u,i),a=xj[l](u)}return a},t}(),Aj=Cj;function Pj(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Tj(t,e,n){return e&&kj(t.prototype,e),n&&kj(t,n),t}var Ij=Ax,Ej=X,Oj=Ax.mat3,Lj=Ax.vec3,Dj,Fj=function(){function t(e){Pj(this,t);var n=this.getDefaultCfg();Ej(this,n,e),this.init()}return Tj(t,[{key:"getDefaultCfg",value:function t(){return{isTransposed:!1,matrix:[1,0,0,0,1,0,0,0,1]}}}]),Tj(t,[{key:"init",value:function t(){var e=this.start,n=this.end,r={x:(e.x+n.x)/2,y:(e.y+n.y)/2};this.center=r,this.width=Math.abs(n.x-e.x),this.height=Math.abs(n.y-e.y)}},{key:"_swapDim",value:function t(e){var n=this[e];if(n){var r=n.start;n.start=n.end,n.end=r}}},{key:"getCenter",value:function t(){return this.center}},{key:"getWidth",value:function t(){return this.width}},{key:"getHeight",value:function t(){return this.height}},{key:"convertDim",value:function t(e,n){var r=this[n],i=r.start,a;return i+e*(r.end-i)}},{key:"invertDim",value:function t(e,n){var r=this[n],i=r.start,a;return(e-i)/(r.end-i)}},{key:"convertPoint",value:function t(e){return e}},{key:"invertPoint",value:function t(e){return e}},{key:"applyMatrix",value:function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=this.matrix,a=[e,n,r];return Lj.transformMat3(a,a,i),a}},{key:"invertMatrix",value:function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=this.matrix,a=Oj.invert([],i),o=[e,n,r];return Lj.transformMat3(o,o,a),o}},{key:"convert",value:function t(e){var n=this.convertPoint(e),r=n.x,i=n.y,a=this.applyMatrix(r,i,1);return{x:a[0],y:a[1]}}},{key:"invert",value:function t(e){var n=this.invertMatrix(e.x,e.y,1);return this.invertPoint({x:n[0],y:n[1]})}},{key:"rotate",value:function t(e){var n=this.matrix,r=this.center;return Oj.translate(n,n,[-r.x,-r.y]),Oj.rotate(n,n,e),Oj.translate(n,n,[r.x,r.y]),this}},{key:"reflect",value:function t(e){if("x"===e)this._swapDim("x");else this._swapDim("y");return this}},{key:"scale",value:function t(e,n){var r=this.matrix,i=this.center;return Oj.translate(r,r,[-i.x,-i.y]),Oj.scale(r,r,[e,n]),Oj.translate(r,r,[i.x,i.y]),this}},{key:"translate",value:function t(e,n){var r=this.matrix;return Oj.translate(r,r,[e,n]),this}},{key:"transpose",value:function t(){return this.isTransposed=!this.isTransposed,this}}]),t}();function Bj(t){return(Bj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function t(e){return typeof e}:function t(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Rj(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Nj(t,e){return!e||"object"!==Bj(e)&&"function"!=typeof e?jj(t):e}function jj(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Yj(t,e,n){return e&&zj(t.prototype,e),n&&zj(t,n),t}function Gj(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Xj(t,e)}function Xj(t,e){return(Xj=Object.setPrototypeOf||function t(e,n){return e.__proto__=n,e})(t,e)}function Vj(t,e,n){return(Vj="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function t(e,n,r){var i=Hj(e,n);if(i){var a=Object.getOwnPropertyDescriptor(i,n);return a.get?a.get.call(r):a.value}})(t,e,n||t)}function Hj(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Wj(t)););return t}function Wj(t){return(Wj=Object.setPrototypeOf?Object.getPrototypeOf:function t(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var qj=X,Uj,Zj,Qj=function(t){function e(t){var n;return Rj(this,e),(n=Nj(this,Wj(e).call(this,t)))._init(),n}return Gj(e,t),Yj(e,[{key:"getDefaultCfg",value:function t(){var n=Vj(Wj(e.prototype),"getDefaultCfg",this).call(this);return qj({},n,{start:{x:0,y:0},end:{x:0,y:0},type:"cartesian",isRect:!0})}}]),Yj(e,[{key:"_init",value:function t(){var e=this.start,n=this.end,r={start:e.x,end:n.x},i={start:e.y,end:n.y};this.x=r,this.y=i}},{key:"convertPoint",value:function t(e){var n,r;return this.isTransposed?(n=e.y,r=e.x):(n=e.x,r=e.y),{x:this.convertDim(n,"x"),y:this.convertDim(r,"y")}}},{key:"invertPoint",value:function t(e){var n=this.invertDim(e.x,"x"),r=this.invertDim(e.y,"y");return this.isTransposed?{x:r,y:n}:{x:n,y:r}}}]),e}(Fj);function $j(t){return($j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function t(e){return typeof e}:function t(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Jj(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Kj(t,e){return!e||"object"!==$j(e)&&"function"!=typeof e?tz(t):e}function tz(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ez(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function nz(t,e,n){return e&&ez(t.prototype,e),n&&ez(t,n),t}function rz(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&iz(t,e)}function iz(t,e){return(iz=Object.setPrototypeOf||function t(e,n){return e.__proto__=n,e})(t,e)}function az(t,e,n){return(az="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function t(e,n,r){var i=oz(e,n);if(i){var a=Object.getOwnPropertyDescriptor(i,n);return a.get?a.get.call(r):a.value}})(t,e,n||t)}function oz(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=sz(t)););return t}function sz(t){return(sz=Object.setPrototypeOf?Object.getPrototypeOf:function t(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var lz=Ax,uz=Zr,cz=X,hz,fz=Ax.mat3,pz=Ax.vec2,dz=Ax.vec3,gz=function(t){function e(t){var n;return Jj(this,e),(n=Kj(this,sz(e).call(this,t)))._init(),n}return rz(e,t),nz(e,[{key:"getDefaultCfg",value:function t(){var n=az(sz(e.prototype),"getDefaultCfg",this).call(this);return cz({},n,{startAngle:-Math.PI/2,endAngle:3*Math.PI/2,innerRadius:0,type:"polar",isPolar:!0})}}]),nz(e,[{key:"_init",value:function t(){for(var e=this.radius,n=this.innerRadius,r=this.center,i=this.startAngle,a=this.endAngle;a<i;)a+=2*Math.PI;this.endAngle=a;var o=this.getOneBox(),s=o.maxX-o.minX,l=o.maxY-o.minY,u=Math.abs(o.minX)/s,c=Math.abs(o.minY)/l,h=this.width,f=this.height,p,d;f/l>h/s?(p=h/s,d={x:r.x-(.5-u)*h,y:r.y-(.5-c)*p*l}):(p=f/l,d={x:r.x-(.5-u)*p*s,y:r.y-(.5-c)*f}),e?e>0&&e<=1?e*=p:(e<=0||e>p)&&(e=p):e=p;var g={start:i,end:a},v={start:n*e,end:e};this.x=g,this.y=v,this.radius=e,this.circleCentre=d,this.center=d}},{key:"getCenter",value:function t(){return this.circleCentre}},{key:"getOneBox",value:function t(){var e=this.startAngle,n=this.endAngle;if(Math.abs(n-e)>=2*Math.PI)return{minX:-1,maxX:1,minY:-1,maxY:1};for(var r=[0,Math.cos(e),Math.cos(n)],i=[0,Math.sin(e),Math.sin(n)],a=Math.min(e,n);a<Math.max(e,n);a+=Math.PI/18)r.push(Math.cos(a)),i.push(Math.sin(a));return{minX:Math.min.apply(Math,r),maxX:Math.max.apply(Math,r),minY:Math.min.apply(Math,i),maxY:Math.max.apply(Math,i)}}},{key:"getRadius",value:function t(){return this.radius}},{key:"convertPoint",value:function t(e){var n=this.getCenter(),r=this.isTransposed?e.y:e.x,i=this.isTransposed?e.x:e.y;return r=this.convertDim(r,"x"),i=this.convertDim(i,"y"),{x:n.x+Math.cos(r)*i,y:n.y+Math.sin(r)*i}}},{key:"invertPoint",value:function t(e){var n=this.getCenter(),r=[e.x-n.x,e.y-n.y],i=this.x,a=[1,0,0,0,1,0,0,0,1];fz.rotate(a,a,i.start);var o=[1,0,0];dz.transformMat3(o,o,a),o=[o[0],o[1]];var s=pz.angleTo(o,r,i.end<i.start);uz(s,2*Math.PI)&&(s=0);var l=pz.length(r),u=s/(i.end-i.start);u=i.end-i.start>0?u:-u;var c=this.invertDim(l,"y"),h={};return h.x=this.isTransposed?c:u,h.y=this.isTransposed?u:c,h}}]),e}(Fj),vz=gz;function mz(t){return(mz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function t(e){return typeof e}:function t(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function yz(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xz(t,e){return!e||"object"!==mz(e)&&"function"!=typeof e?_z(t):e}function _z(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bz(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function wz(t,e,n){return e&&bz(t.prototype,e),n&&bz(t,n),t}function Sz(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Mz(t,e)}function Mz(t,e){return(Mz=Object.setPrototypeOf||function t(e,n){return e.__proto__=n,e})(t,e)}function Cz(t,e,n){return(Cz="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function t(e,n,r){var i=Az(e,n);if(i){var a=Object.getOwnPropertyDescriptor(i,n);return a.get?a.get.call(r):a.value}})(t,e,n||t)}function Az(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Pz(t)););return t}function Pz(t){return(Pz=Object.setPrototypeOf?Object.getPrototypeOf:function t(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var kz,Tz=Zr,Iz=X,Ez,Oz=Ax.vec2,Lz,Dz=function(t){function e(t){var n;return yz(this,e),(n=xz(this,Pz(e).call(this,t)))._init(),n}return Sz(e,t),wz(e,[{key:"getDefaultCfg",value:function t(){var n=Cz(Pz(e.prototype),"getDefaultCfg",this).call(this);return Iz({},n,{startAngle:1.25*Math.PI,endAngle:7.25*Math.PI,innerRadius:0,type:"helix",isHelix:!0})}}]),wz(e,[{key:"_init",value:function t(){var e=this.width,n=this.height,r=this.radius,i=this.innerRadius,a=this.startAngle,o=this.endAngle,s=(o-a)/(2*Math.PI)+1,l=Math.min(e,n)/2;r&&r>=0&&r<=1&&(l*=r);var u=Math.floor(l*(1-i)/s),c=u/(2*Math.PI),h={start:a,end:o},f={start:i*l,end:i*l+.99*u};this.a=c,this.d=u,this.x=h,this.y=f}},{key:"getCenter",value:function t(){return this.center}},{key:"convertPoint",value:function t(e){var n=this.a,r=this.center,i,a;this.isTransposed?(i=e.y,a=e.x):(i=e.x,a=e.y);var o=this.convertDim(i,"x"),s=n*o,l=this.convertDim(a,"y");return{x:r.x+Math.cos(o)*(s+l),y:r.y+Math.sin(o)*(s+l)}}},{key:"invertPoint",value:function t(e){var n=this.center,r=this.a,i=this.d+this.y.start,a=Oz.subtract([],[e.x,e.y],[n.x,n.y]),o=Oz.angleTo(a,[1,0],!0),s=o*r,l;Oz.length(a)<s&&(s=Oz.length(a));var u=r*(o=2*Math.floor((Oz.length(a)-s)/i)*Math.PI+o),c=Oz.length(a)-u;c=Tz(c,0)?0:c;var h=this.invertDim(o,"x"),f=this.invertDim(c,"y");h=Tz(h,0)?0:h,f=Tz(f,0)?0:f;var p={};return p.x=this.isTransposed?f:h,p.y=this.isTransposed?h:f,p}}]),e}(Fj),Fz=Fj;Fz.Cartesian=Qj,Fz.Rect=Fz.Cartesian,Fz.Polar=vz,Fz.Helix=Dz;var Bz,Rz=ow,Nz=Fz,jz,zz=function(){function t(t){this.type="rect",this.actions=[],this.cfg={},Rz.mix(this,t),this.option=t||{}}var e=t.prototype;return e.reset=function t(e){return this.actions=e.actions||[],this.type=e.type,this.cfg=e.cfg,this.option.actions=this.actions,this.option.type=this.type,this.option.cfg=this.cfg,this},e._execActions=function t(e){var n=this.actions;Rz.each(n,(function(t){var n=t[0];e[n](t[1],t[2])}))},e.hasAction=function t(e){var n=this.actions,r=!1;return Rz.each(n,(function(t){if(e===t[0])return r=!0,!1})),r},e.createCoord=function t(e,n){var r=this,i=r.type,a=r.cfg,o,s,l=Rz.mix({start:e,end:n},a);return"theta"===i?(o=Nz.Polar,r.hasAction("transpose")||r.transpose(),(s=new o(l)).type=i):s=new(o=Nz[Rz.upperFirst(i||"")]||Nz.Rect)(l),r._execActions(s),s},e.rotate=function t(e){return e=e*Math.PI/180,this.actions.push(["rotate",e]),this},e.reflect=function t(e){return this.actions.push(["reflect",e]),this},e.scale=function t(e,n){return this.actions.push(["scale",e,n]),this},e.transpose=function t(){return this.actions.push(["transpose"]),this},t}(),Yz=ow,Gz,Xz=MR.Axis,Vz=Yz.MatrixUtil.vec2;function Hz(t){var e=[];if(t.length>0){var n=(e=t.slice(0))[0],r=e[e.length-1];0!==n.value&&e.unshift({value:0}),1!==r.value&&e.push({value:1})}return e}function Wz(t,e,n){var r=[];return t.length<1||(t.length>=2&&e&&n&&r.push({text:"",tickValue:"",value:0}),0!==t[0].value&&r.push({text:"",tickValue:"",value:0}),1!==(r=r.concat(t))[r.length-1].value&&r.push({text:"",tickValue:"",value:1})),r}function qz(t,e){return void 0===e&&(e=0),"middle"===t&&(e=.5),t.includes("%")&&(e=parseInt(t,10)/100),e}var Uz=function(){function t(t){this.visible=!0,this.canvas=null,this.container=null,this.coord=null,this.options=null,this.axes=[],Yz.mix(this,t)}var e=t.prototype;return e._isHide=function t(e){var n=this.options;return!(!n||!1!==n[e])},e._getMiddleValue=function t(e,n,r,i){if(0===e&&!i)return 0;if(1===e)return 1;var a=n[r+1].value;return i||1!==a?(e+a)/2:1},e._getLineRange=function t(e,n,r,i){var a,o,s,l=n.field,u=this.options,c="";if(u[l]&&u[l].position&&(c=u[l].position),"x"===r){var h="top"===c?1:0;a={x:0,y:h=qz(c,h)},o={x:1,y:h},s=!1}else{if(i){var f="left"===c?0:1;a={x:f=qz(c,f),y:0},o={x:f,y:1}}else{var p="right"===c?1:0;a={x:p=qz(c,p),y:0},o={x:p,y:1}}s=!0}return{start:a=e.convert(a),end:o=e.convert(o),isVertical:s}},e._getLineCfg=function t(e,n,r,i){var a,o=this._getLineRange(e,n,r,i),s=o.isVertical,l=o.start,u=o.end,c=e.center;return e.isTransposed&&(s=!s),{isVertical:s,factor:a=s&&l.x>c.x||!s&&l.y>c.y?1:-1,start:l,end:u}},e._getCircleCfg=function t(e){var n={},r=e.x,i=e.y,a=i.start>i.end,o;o=e.isTransposed?{x:a?0:1,y:0}:{x:0,y:a?0:1},o=e.convert(o);var s=e.circleCentre,l=[o.x-s.x,o.y-s.y],u=[1,0],c,h=(c=o.y>s.y?Vz.angle(l,u):-1*Vz.angle(l,u))+(r.end-r.start);return n.startAngle=c,n.endAngle=h,n.center=s,n.radius=Math.sqrt(Math.pow(o.x-s.x,2)+Math.pow(o.y-s.y,2)),n.inner=e.innerRadius||0,n},e._getRadiusCfg=function t(e){var n,r=e.x.start<0?-1:1,i,a;return e.isTransposed?(i={x:0,y:0},a={x:1,y:0}):(i={x:0,y:0},a={x:0,y:1}),{factor:r,start:e.convert(i),end:e.convert(a)}},e._getAxisPosition=function t(e,n,r,i){var a="",o=this.options;if(o[i]&&o[i].position)a=o[i].position;else{var s=e.type;e.isRect?"x"===n?a="bottom":"y"===n&&(a=r?"right":"left"):a="helix"===s?"helix":"x"===n?e.isTransposed?"radius":"circle":e.isTransposed?"circle":"radius"}return a},e._getAxisDefaultCfg=function t(e,n,r,i){var a=this,o=a.viewTheme,s={},l=a.options,u=n.field;if((s=Yz.deepMix({},o.axis[i],s,l[u])).viewTheme=o,s.title){var c=Yz.isPlainObject(s.title)?s.title:{};c.text=c.text||n.alias||u,Yz.deepMix(s,{title:c})}return s.ticks=n.getTicks(),e.isPolar&&!n.isCategory&&"x"===r&&Math.abs(e.endAngle-e.startAngle)===2*Math.PI&&s.ticks.pop(),s.coord=e,s.label&&Yz.isNil(s.label.autoRotate)&&(s.label.autoRotate=!0),l.hasOwnProperty("xField")&&l.xField.hasOwnProperty("grid")&&"left"===s.position&&Yz.deepMix(s,l.xField),s},e._getAxisCfg=function t(e,n,r,i,a,o){void 0===a&&(a="");var s=this,l=s._getAxisPosition(e,i,a,n.field),u=s._getAxisDefaultCfg(e,n,i,l);if(!Yz.isEmpty(u.grid)&&r){var c=[],h=[],f=Hz(r.getTicks());if(f.length){var p=Wz(u.ticks,n.isLinear,"center"===u.grid.align);Yz.each(p,(function(t,r){h.push(t.tickValue);var l=[],d=t.value;if("center"===u.grid.align&&(d=s._getMiddleValue(d,p,r,n.isLinear)),!Yz.isNil(d)){var g=e.x,v=e.y;Yz.each(f,(function(t){var n="x"===i?d:t.value,r="x"===i?t.value:d,a=e.convert({x:n,y:r});if(e.isPolar){var o=e.circleCentre;v.start>v.end&&(r=1-r),a.flag=g.start>g.end?0:1,a.radius=Math.sqrt(Math.pow(a.x-o.x,2)+Math.pow(a.y-o.y,2))}l.push(a)})),c.push({_id:o+"-"+i+a+"-grid-"+t.tickValue,points:l})}}))}u.grid.items=c,u.grid.tickValues=h}return u.type=n.type,u},e._getHelixCfg=function t(e){for(var n={},r=e.a,i=e.startAngle,a=e.endAngle,o=100,s=[],l=0;l<=o;l++){var u=e.convert({x:l/100,y:0});s.push(u.x),s.push(u.y)}var c=e.convert({x:0,y:0});return n.a=r,n.startAngle=i,n.endAngle=a,n.crp=s,n.axisStart=c,n.center=e.center,n.inner=e.y.start,n},e._drawAxis=function t(e,n,r,i,a,o,s){var l=this.container,u=this.canvas,c,h;"cartesian"===e.type?(c=Xz.Line,h=this._getLineCfg(e,n,i,s)):"helix"===e.type&&"x"===i?(c=Xz.Helix,h=this._getHelixCfg(e)):"x"===i?(c=Xz.Circle,h=this._getCircleCfg(e)):(c=Xz.Line,h=this._getRadiusCfg(e));var f=this._getAxisCfg(e,n,r,i,s,a);f=Yz.mix({},f,h),"y"===i&&o&&"circle"===o.get("type")&&(f.circle=o),f._id=a+"-"+i,Yz.isNil(s)||(f._id=a+"-"+i+s),Yz.mix(f,{canvas:u,group:l.addGroup({viewId:a})});var p=new c(f);return p.render(),this.axes.push(p),p},e.createAxis=function t(e,n,r){var i=this,a=this.coord,o=a.type,s;"theta"===o||"polar"===o&&a.isTransposed||(e&&!i._isHide(e.field)&&(s=i._drawAxis(a,e,n[0],"x",r)),Yz.isEmpty(n)||"helix"===o||Yz.each(n,(function(t,n){i._isHide(t.field)||i._drawAxis(a,t,e,"y",r,s,n)})))},e.changeVisible=function t(e){var n=this.axes;Yz.each(n,(function(t){t.set("visible",e)}))},e.clear=function t(){var e=this,n=e.axes;Yz.each(n,(function(t){t.destroy()})),e.axes=[]},t}(),Zz=Uz;function Qz(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,$z(t,e)}function $z(t,e){return($z=Object.setPrototypeOf||function t(e,n){return e.__proto__=n,e})(t,e)}var Jz=ow,Kz,tY,eY=$v.Path,nY,rY,iY,aY=MR.Guide,oY=function(t){function e(){return t.apply(this,arguments)||this}Qz(e,t);var n=e.prototype;return n.getDefaultCfg=function e(){var n=t.prototype.getDefaultCfg.call(this);return Jz.mix({},n,{name:"regionFilter",zIndex:1,top:!0,start:null,end:null,color:null,apply:null,style:{opacity:1}})},n.render=function t(e,n,r,i){var a=this,o=n.addGroup();o.name="guide-region-filter",i.once("afterpaint",(function(){if(!o.get("destroyed")){a._drawShapes(i,o);var t=a._drawClip(e);o.attr({clip:t}),a.set("clip",t),a.get("appendInfo")&&o.setSilent("appendInfo",a.get("appendInfo")),a.set("el",o)}}))},n._drawShapes=function t(e,n){var r=this,i=[],a;return e.getAllGeoms().map((function(t){var e=t.getShapes(),a=t.get("type"),o;return r._geomFilter(a)&&e.map((function(t){var e=t.type,a=Jz.cloneDeep(t.attr());r._adjustDisplay(a);var o=n.addShape(e,{attrs:a});return i.push(o),t})),t})),i},n._drawClip=function t(e){var n=this,r=n.parsePoint(e,n.get("start")),i=n.parsePoint(e,n.get("end")),a=[["M",r.x,r.y],["L",i.x,r.y],["L",i.x,i.y],["L",r.x,i.y],["z"]],o;return new eY({attrs:{path:a,opacity:1}})},n._adjustDisplay=function t(e){var n,r=this.get("color");e.fill&&(e.fill=e.fillStyle=r),e.stroke=e.strokeStyle=r},n._geomFilter=function t(e){var n,r=this.get("apply");return!r||Jz.contains(r,e)},n.clear=function e(){t.prototype.clear.call(this);var n=this.get("clip");n&&n.remove()},e}(rL);aY.RegionFilter=oY;var sY,lY=ow,uY=aY,cY,hY=function(){function t(t){this.guides=[],this.options=[],this.xScales=null,this.yScales=null,this.view=null,this.viewTheme=null,this.frontGroup=null,this.backGroup=null,lY.mix(this,t)}var e=t.prototype;return e._creatGuides=function t(){var e=this,n=this.options,r=this.xScales,i=this.yScales,a=this.view,o=this.viewTheme;return this.backContainer&&a&&(this.backGroup=this.backContainer.addGroup({viewId:a.get("_id")})),this.frontContainer&&a&&(this.frontGroup=this.frontContainer.addGroup({viewId:a.get("_id")})),n.forEach((function(t){var n=t.type,a=lY.deepMix({xScales:r,yScales:i,viewTheme:o},o?o.guide[n]:{},t);n=lY.upperFirst(n);var s=new uY[n](a);e.guides.push(s)})),e.guides},e.line=function t(e){return void 0===e&&(e={}),this.options.push(lY.mix({type:"line"},e)),this},e.arc=function t(e){return void 0===e&&(e={}),this.options.push(lY.mix({type:"arc"},e)),this},e.text=function t(e){return void 0===e&&(e={}),this.options.push(lY.mix({type:"text"},e)),this},e.image=function t(e){return void 0===e&&(e={}),this.options.push(lY.mix({type:"image"},e)),this},e.region=function t(e){return void 0===e&&(e={}),this.options.push(lY.mix({type:"region"},e)),this},e.regionFilter=function t(e){return void 0===e&&(e={}),this.options.push(lY.mix({type:"regionFilter"},e)),this},e.dataMarker=function t(e){return void 0===e&&(e={}),this.options.push(lY.mix({type:"dataMarker"},e)),this},e.dataRegion=function t(e){return void 0===e&&(e={}),this.options.push(lY.mix({type:"dataRegion"},e)),this},e.html=function t(e){return void 0===e&&(e={}),this.options.push(lY.mix({type:"html"},e)),this},e.render=function t(e){var n=this,r=n.view,i=r&&r.get("data"),a=n._creatGuides();lY.each(a,(function(t){var a;a=t.get("top")?n.frontGroup||n.frontContainer:n.backGroup||n.backContainer,t.render(e,a,i,r)}))},e.clear=function t(){this.options=[],this.reset()},e.changeVisible=function t(e){var n=this.guides;lY.each(n,(function(t){t.changeVisible(e)}))},e.reset=function t(){var e=this.guides;lY.each(e,(function(t){t.clear()})),this.guides=[],this.backGroup&&this.backGroup.remove(),this.frontGroup&&this.frontGroup.remove()},t}();function fY(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,pY(t,e)}function pY(t,e){return(pY=Object.setPrototypeOf||function t(e,n){return e.__proto__=n,e})(t,e)}var dY=ow,gY,vY=cC,mY,yY,xY=function(t){function e(){return t.apply(this,arguments)||this}fY(e,t);var n=e.prototype;return n.getDefaultCfg=function e(){var n=t.prototype.getDefaultCfg.call(this);return dY.mix({},n,{type:"tail-legend",layout:"vertical",autoLayout:!0})},n._addItem=function t(e){var n=this.get("itemsGroup"),r=this._getNextX(),i=0,a=this.get("unCheckColor"),o=n.addGroup({x:0,y:0,value:e.value,scaleValue:e.scaleValue,checked:e.checked});o.translate(r,0),o.set("viewId",n.get("viewId"));var s=this.get("textStyle"),l=this.get("_wordSpaceing"),u=0;if(e.marker){var c=dY.mix({},e.marker,{x:e.marker.radius,y:0});e.checked||(c.fill&&(c.fill=a),c.stroke&&(c.stroke=a));var h=o.addShape("marker",{type:"marker",attrs:c});h.attr("cursor","pointer"),h.name="legend-marker",u+=h.getBBox().width+l}var f=dY.mix({},s,{x:u,y:0,text:this._formatItemValue(e.value)});e.checked||dY.mix(f,{fill:a});var p=o.addShape("text",{attrs:f});p.attr("cursor","pointer"),p.name="legend-text",this.get("appendInfo")&&p.setSilent("appendInfo",this.get("appendInfo"));var d=o.getBBox(),g=this.get("itemWidth"),v=o.addShape("rect",{attrs:{x:r,y:0-d.height/2,fill:"#fff",fillOpacity:0,width:g||d.width,height:d.height}});return v.attr("cursor","pointer"),v.setSilent("origin",e),v.name="legend-item",this.get("appendInfo")&&v.setSilent("appendInfo",this.get("appendInfo")),o.name="legendGroup",o},n._adjust=function t(){var e=this,n;if(e.get("geom")){var r;e.get("group").attr("matrix")[7]=0;var i=e.get("geom").get("dataArray"),a=this.get("itemsGroup").get("children"),o=0;dY.each(a,(function(t){var e=i[o],n=e[e.length-1].y;dY.isArray(n)&&(n=n[1]);var r=t.getBBox().height,a=t.get("x"),s=n-r/2;t.translate(a,s),o++})),e.get("autoLayout")&&e._antiCollision(a)}},n.render=function e(){var n=this,r;t.prototype.render.call(this),this.get("chart").once("afterpaint",(function(){n._adjust()}))},n._getPreviousY=function t(e){var n,r;return e.attr("matrix")[7]+e.getBBox().height},n._adjustDenote=function t(e,n,r){var i,a=-2,o=2*-vY.legend.legendMargin;e.addShape("path",{attrs:{path:"M-2,"+n+"L"+o+","+(r+3),lineWidth:1,lineDash:[2,2],stroke:"#999999"}})},n._antiCollision=function t(e){if(void 0===e&&(e=[]),e.length){var n=this;e.sort((function(t,e){var n,r;return t.attr("matrix")[7]-e.attr("matrix")[7]}));var r=!0,i=n.get("chart").get("plotRange"),a=i.tl.y,o=Math.abs(a-i.bl.y),s=e[0].getBBox().height,l=Number.MIN_VALUE,u=e.map((function(t){var e=t.attr("matrix")[7];return e<l&&(l=e),{size:t.getBBox().height,targets:[e-a]}}));l-=a;for(var c=0;r;){for(var h=0;h<u.length;h++){var f=u[h],p=(Math.min.apply(l,f.targets)+Math.max.apply(l,f.targets))/2;f.pos=Math.min(Math.max(l,p-f.size/2),o-f.size)}for(r=!1,c=u.length;c--;)if(c>0){var d=u[c-1],g=u[c];d.pos+d.size>g.pos&&(d.size+=g.size,d.targets=d.targets.concat(g.targets),u.splice(c,1),r=!0)}}c=0;var v=this.get("itemsGroup").addGroup();u.forEach((function(t){var r=a+s;t.targets.forEach((function(){var i=e[c].attr("matrix")[7],a=t.pos+r-s/2,o;Math.abs(i-a)>s/2&&n._adjustDenote(v,a,i-n.get("group").attr("matrix")[7]/2),e[c].translate(0,-i),e[c].translate(0,a),r+=s,c++}))}))}},e}(MR.Legend.Category),_Y,bY=function t(e,n){return{minX:Math.min(e.minX,n.minX),minY:Math.min(e.minY,n.minY),maxX:Math.max(e.maxX,n.maxX),maxY:Math.max(e.maxY,n.maxY)}},wY=Kv,SY=ow,MY=bY;function CY(t,e,n){void 0===n&&(n=1);var r=[t.x,t.y,n];return SY.vec3.transformMat3(r,r,e),{x:r[0],y:r[1]}}function AY(t){var e=t.getBBox(),n={x:e.minX,y:e.minY},r={x:e.maxX,y:e.maxY},i=t.attr("matrix");return n=CY(n,i),r=CY(r,i),{minX:n.x,minY:n.y,maxX:r.x,maxY:r.y}}var PY=function t(e,n){var r=n;return SY.each(e.get("children"),(function(t){t instanceof wY.Group&&SY.each(t.get("children"),(function(t){if(t instanceof wY.Group&&t.get("children").length||t instanceof wY.Path)r=MY(r,t.getBBox());else if(t instanceof wY.Text){var e=AY(t);r=MY(r,e)}}))})),r},kY=function t(e){return{minX:e.tl.x,minY:e.tl.y,maxX:e.br.x,maxY:e.br.y}};function TY(){return TY=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},TY.apply(this,arguments)}var IY=ow,EY,OY=MR.Legend,LY=xY,DY=PN,FY=PY,BY=kY,RY=cC,NY="_origin",jY=4.5,zY=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,YY=["cross","tick","plus","hyphen","line","hollowCircle","hollowSquare","hollowDiamond","hollowTriangle","hollowTriangleDown","hollowHexagon","hollowBowtie"];function GY(t,e,n){var r;return!IY.isNil(n)&&(t=n.translate(t),e=n.translate(e),r=n.isCategory?t===e:Math.abs(t-e)<=1)}function XY(t,e){var n;return IY.each(t,(function(t){var r;if(t.get("visible")&&t.getYScale().field===e)return void(n=t)})),n}var VY=function(){function t(t){var e=this;e.options={},IY.mix(e,t),e.clear();var n=e.chart;e.container=n.get("frontPlot"),e.plotRange=n.get("plotRange")}var e=t.prototype;return e.clear=function t(){var e=this.legends;this.backRange=null,IY.each(e,(function(t){IY.each(t,(function(t){t.destroy()}))})),this.legends={}},e.getBackRange=function t(){var e=this.backRange;if(!e){var n=this.chart.get("backPlot");e=FY(n,BY(this.chart.get("plotRange")));var r=this.plotRange;e.maxX-e.minX<r.br.x-r.tl.x&&e.maxY-e.minY<r.br.y-r.tl.y&&(e={minX:r.tl.x,minY:r.tl.y,maxX:r.br.x,maxY:r.br.y}),this.backRange=e}return e},e._isFieldInView=function t(e,n,r){var i=!1,a,o=r.get("scales")[e];return o&&o.values&&(i=IY.inArray(o.values,n)),i},e._bindClickEvent=function t(e,n,r){var i=this,a=i.chart,o=a.get("views"),s=n.field,l=i.options;e.on("itemclick",(function(t){if(l.onClick&&!0!==l.defaultClickHandlerEnabled)l.onClick(t);else{var n=t.item,u=t.checked,c="single"===e.get("selectedMode"),h=n.dataValue;u?(IY.Array.remove(r,h),i._isFieldInView(s,h,a)&&a.filter(s,(function(t){return c?t===h:!IY.inArray(r,t)})),IY.each(o,(function(t){i._isFieldInView(s,h,t)&&t.filter(s,(function(t){return c?t===h:!IY.inArray(r,t)}))}))):c||(r.push(h),i._isFieldInView(s,h,a)&&a.filter(s,(function(t){return!IY.inArray(r,t)})),IY.each(o,(function(t){i._isFieldInView(s,h,t)&&t.filter(s,(function(t){return!IY.inArray(r,t)}))}))),l.onClick&&l.onClick(t),a.set("keepLegend",!0),a.set("keepPadding",!0),a.repaint(),a.set("keepPadding",!1),a.set("keepLegend",!1)}}))},e._bindClickEventForMix=function t(e){var n,r,i=this.chart.getAllGeoms();e.on("itemclick",(function(t){var e=t.item.field,n;t.checked?IY.each(i,(function(t){var n;t.getYScale().field===e&&t.show()})):IY.each(i,(function(t){var n;t.getYScale().field===e&&t.hide()}))}))},e._filterLabels=function t(e,n,r){if(e.get("gLabel"))e.get("gLabel").set("visible",r);else{var i=n.get("labelCfg");if(i&&i.fields&&i.fields.length>0){var a=n.getXScale(),o=n.getYScale(),s=a.field,l=o.field,u=e.get("origin")._origin,c,h=n.get("labelContainer").get("labelsGroup").get("children");IY.each(h,(function(t){var n=t.get("origin")||[];n[s]===u[s]&&n[l]===u[l]&&(t.set("visible",r),e.set("gLabel",t))}))}}},e._bindFilterEvent=function t(e,n){var r=this,i=this.chart,a=n.field;e.on("itemfilter",(function(t){var e=t.range;i.filterShape((function(t,n,i){if(!IY.isNil(t[a])){var o=t[a]>=e[0]&&t[a]<=e[1];return r._filterLabels(n,i,o),o}return!0}));for(var n=i.getAllGeoms()||[],o=function t(r){var i=n[r];"heatmap"===i.get("type")&&zY((function(){i.drawWithRange(e)}))},s=0;s<n.length;s++)o(s)}))},e._getShapeData=function t(e){var n=e.get("origin");return IY.isArray(n)&&(n=n[0]),n._origin},e._bindHoverEvent=function t(e,n){var r=this,i=r.chart,a=i.getAllGeoms(),o=r.options,s=i.get("canvas");e.on("itemhover",(function(t){var e=t.item.value,i=r.pre;if(i){if(i===e)return}else IY.each(a,(function(i){var a=i.get("shapeContainer"),l=i.getShapes(),u=[];if(n){var c=i.get("scales")[n];IY.each(l,(function(t){var i=r._getShapeData(t);i&&GY(i[n],e,c)&&u.push(t)}))}else i.getYScale().field===e&&(u=l);IY.isEmpty(u)||(t.shapes=u,t.geom=i,o.onHover?(o.onHover(t),a.sort(),s.draw()):i.setShapesActived(u))})),r.pre=e})),e.on("itemunhover",(function(t){r.pre=null,o.onUnhover&&o.onUnhover(t),IY.each(a,(function(t){t.get("activeShapes")&&(t.clearActivedShapes(),s.draw())}))}))},e._isFiltered=function t(e,n,r){if(!e.isCategory)return!0;var i=!0;return r=e.invert(r),IY.each(n,(function(t){if(e.getText(t)===e.getText(r))return i=!1,!1})),i},e._alignLegend=function t(e,n,r,i){var a=this,o=a.viewTheme,s,l=a.container.get("canvas"),u=l.get("width"),c=l.get("height"),h=a.totalRegion,f=a.plotRange,p=a.getBackRange(),d=e.get("offset")[0]||0,g=e.get("offset")[1]||0,v=e.getHeight(),m=e.getWidth(),y=o.legend.margin,x=o.legend.legendMargin,_=a.legends[i].length,b=i.split("-"),w=0,S=0,M=_>1?h:r;if("left"===b[0]||"right"===b[0])c=f.br.y,w=a._getXAlign(b[0],u,r,p,m,y),S=n?(n.get("y")||n.get("group").get("y"))+n.getHeight()+x:a._getYAlignVertical(b[1],c,M,p,0,y,l.get("height"));else if("top"===b[0]||"bottom"===b[0])if(S=a._getYAlignHorizontal(b[0],c,r,p,v,y),n){var C=n.getWidth();w=(n.get("x")||n.get("group").get("x"))+C+x}else w=a._getXAlign(b[1],u,M,p,0,y),"right"===b[1]&&(w=f.br.x-M.totalWidth);e.move(w+d,S+g)},e._getXAlign=function t(e,n,r,i,a,o){var s=i.minX-a-o[3]<0?0:i.minX-a-o[3],l="left"===e?s:i.maxX+o[1];return"center"===e&&(l=(n-r.totalWidth)/2),l},e._getYAlignHorizontal=function t(e,n,r,i,a,o){var s;return"top"===e?i.minY-a-o[0]:i.maxY+o[2]},e._getYAlignVertical=function t(e,n,r,i,a,o,s){var l="top"===e?i.minY-a-o[0]:n-r.totalHeight;return"center"===e&&(l=(s-r.totalHeight)/2),l},e._getSubRegion=function t(e){var n=0,r=0,i=0,a=0;return IY.each(e,(function(t){var e=t.getWidth(),o=t.getHeight();n<e&&(n=e),i+=e,r<o&&(r=o),a+=o})),{maxWidth:n,totalWidth:i,maxHeight:r,totalHeight:a}},e._getRegion=function t(){var e=this,n=e.viewTheme,r=e.legends,i=n.legend.legendMargin,a=[],o=0,s=0;return IY.each(r,(function(t){var n=e._getSubRegion(t);a.push(n),o+=n.totalWidth+i,s+=n.totalHeight+i})),{totalWidth:o,totalHeight:s,subs:a}},e._addCategoryLegend=function t(e,n,r,i,a){var o=this,s=e.field,l=o.options,u=l[s];u&&(l=u);var c=o.legends;c[a]=c[a]||[];var h=o.container,f=[],p=e.getTicks(),d=!0,g=r.get("shapeType")||"point",v=r.getDefaultValue("shape")||"circle";l[s]&&l[s].marker?(v=l[s].marker,g="point",d=!1):l.marker&&(v=l.marker,g="point",d=!1);var m=o.chart,y=o.viewTheme,x=m.get("canvas"),_=o.plotRange,b=a.split("-"),w="right"===b[0]||"left"===b[0]?_.bl.y-_.tr.y:x.get("width");IY.each(p,(function(t){var n,a=t.text,s=t.value,l=e.invert(s),u={isInCircle:r.isInCircle()},c=!i||o._isFiltered(e,i,s),h=r.getAttr("color"),p=r.getAttr("shape");if(h)if(h.callback&&h.callback.length>1){var m=Array(h.callback.length-1).fill("");u.color=h.mapping.apply(h,[l].concat(m)).join("")||y.defaultColor}else u.color=h.mapping(l).join("")||y.defaultColor;if(d&&p)if(p.callback&&p.callback.length>1){var x=Array(p.callback.length-1).fill("");v=p.mapping.apply(p,[l].concat(x)).join("")}else v=p.mapping(l).join("");var _,b=DY.getShapeFactory(g).getMarkerCfg(v,u);RY.legendMarkerRadius&&(b.radius=RY.legendMarkerRadius),IY.isFunction(v)&&(b.symbol=v),f.push({value:a,dataValue:l,checked:c,marker:b})}));var S=IY.deepMix({},y.legend[b[0]],l[s]||l,{viewId:m.get("_id"),maxLength:w,items:f,container:h,position:[0,0]}),M;if(S.title&&IY.deepMix(S,{title:{text:e.alias||e.field}}),o._isTailLegend(l,r))S.chart=o.chart,S.geom=r,M=new LY(S);else if(l.useHtml){var C=h.get("canvas").get("el");if(h=l.container,IY.isString(h)&&/^\#/.test(h)){var A=h.replace("#","");h=document.getElementById(A)}h||(h=C.parentNode),S.container=h,void 0===S.legendStyle&&(S.legendStyle={}),S.legendStyle.CONTAINER_CLASS=TY({},S.legendStyle.CONTAINER_CLASS,{position:"absolute",overflow:"auto","z-index":""===C.style.zIndex?1:parseInt(C.style.zIndex,10)+1}),l.flipPage?(S.legendStyle.CONTAINER_CLASS.height="right"===b[0]||"left"===b[0]?w+"px":"auto",S.legendStyle.CONTAINER_CLASS.width="right"!==b[0]&&"left"!==b[0]?w+"px":"auto",M=new OY.CatPageHtml(S)):M=new OY.CatHtml(S)}else M=new OY.Category(S);return o._bindClickEvent(M,e,i),c[a].push(M),M},e._bindChartMove=function t(e){var n=this.chart,r=this.legends;n.on("plotmove",(function(t){var n=!1;if(t.target){var i=t.target.get("origin");if(i){var a=i._origin||i[0]._origin,o=e.field;if(a){var s=a[o];IY.each(r,(function(t){IY.each(t,(function(t){n=!0,!t.destroyed&&t.activate(s)}))}))}}}n||IY.each(r,(function(t){IY.each(t,(function(t){!t.destroyed&&t.deactivate()}))}))}))},e._addContinuousLegend=function t(e,n,r){var i=this,a=i.legends;a[r]=a[r]||[];var o=i.container,s=e.field,l=e.getTicks(),u=[],c,h,f,p=i.viewTheme;IY.each(l,(function(t){var r=t.value,i=e.invert(r),a=n.mapping(i).join("");u.push({value:t.tickValue,attrValue:a,color:a,scaleValue:r}),0===r&&(h=!0),1===r&&(f=!0)})),h||u.push({value:e.min,attrValue:n.mapping(0).join(""),color:n.mapping(0).join(""),scaleValue:0}),f||u.push({value:e.max,attrValue:n.mapping(1).join(""),color:n.mapping(1).join(""),scaleValue:1});var d=i.options,g=r.split("-"),v=p.legend[g[0]];(d&&!1===d.slidable||d[s]&&!1===d[s].slidable)&&(v=IY.mix({},v,p.legend.gradient));var m=IY.deepMix({},v,d[s]||d,{items:u,attr:n,formatter:e.formatter,container:o,position:[0,0]});if(m.title&&IY.deepMix(m,{title:{text:e.alias||e.field}}),"color"===n.type)c=new OY.Color(m);else{if("size"!==n.type)return;c=d&&"circle"===d.sizeType?new OY.CircleSize(m):new OY.Size(m)}return i._bindFilterEvent(c,e),a[r].push(c),c},e._isTailLegend=function t(e,n){if(e.hasOwnProperty("attachLast")&&e.attachLast){var r=n.get("type");if("line"===r||"lineStack"===r||"area"===r||"areaStack"===r)return!0}return!1},e._adjustPosition=function t(e,n){var r;if(n)r="right-top";else if(IY.isArray(e))r=String(e[0])+"-"+String(e[1]);else{var i=e.split("-");1===i.length?("left"===i[0]&&(r="left-bottom"),"right"===i[0]&&(r="right-bottom"),"top"===i[0]&&(r="top-center"),"bottom"===i[0]&&(r="bottom-center")):r=e}return r},e.addLegend=function t(e,n,r,i){var a=this,o=a.options,s=e.field,l=o[s],u=a.viewTheme;if(!1===l)return null;if(l&&l.custom)a.addCustomLegend(s);else{var c=o.position||u.defaultLegendPosition,h;c=a._adjustPosition(c,a._isTailLegend(o,r)),l&&l.position&&(c=a._adjustPosition(l.position,a._isTailLegend(l,r))),(h=e.isLinear?a._addContinuousLegend(e,n,c):a._addCategoryLegend(e,n,r,i,c))&&(a._bindHoverEvent(h,s),o.reactive&&a._bindChartMove(e))}},e.addCustomLegend=function t(e){var n=this,r=n.chart,i=n.viewTheme,a=n.container,o=n.options;e&&(o=o[e]);var s=o.position||i.defaultLegendPosition;s=n._adjustPosition(s);var l=n.legends;l[s]=l[s]||[];var u=o.items;if(u){var c=r.getAllGeoms();IY.each(u,(function(t){var e=XY(c,t.value);IY.isPlainObject(t.marker)?t.marker.radius=t.marker.radius||RY.legendMarkerRadius||4.5:(t.marker={symbol:t.marker||"circle",radius:RY.legendMarkerRadius||4.5},-1!==IY.indexOf(YY,t.marker.symbol)?t.marker.stroke=t.fill:t.marker.fill=t.fill);var n=t.marker.symbol;IY.isString(n)&&-1!==n.indexOf("hollow")&&(t.marker.symbol=IY.lowerFirst(n.substr(6))),t.checked=!!IY.isNil(t.checked)||t.checked,t.geom=e}));var h=r.get("canvas"),f=n.plotRange,p=s.split("-"),d="right"===p[0]||"left"===p[0]?f.bl.y-f.tr.y:h.get("width"),g=IY.deepMix({},i.legend[p[0]],o,{maxLength:d,items:u,container:a,position:[0,0]}),v;if(o.useHtml){var m=o.container;if(/^\#/.test(a)){var y=m.replace("#","");m=document.getElementById(y)}else m||(m=a.get("canvas").get("el").parentNode);g.container=m,void 0===g.legendStyle&&(g.legendStyle={}),g.legendStyle.CONTAINER_CLASS||(g.legendStyle.CONTAINER_CLASS={height:"right"===p[0]||"left"===p[0]?d+"px":"auto",width:"right"!==p[0]&&"left"!==p[0]?d+"px":"auto",position:"absolute",overflow:"auto"}),v=o.flipPage?new OY.CatPageHtml(g):new OY.CatHtml(g)}else v=new OY.Category(g);return l[s].push(v),v.on("itemclick",(function(t){o.onClick&&o.onClick(t)})),n._bindHoverEvent(v),v}},e.addMixedLegend=function t(e,n){var r=this,i=r.options,a=[];IY.each(e,(function(t){var e=t.alias||t.field,r=i[t.field];IY.each(n,(function(n){if(n.getYScale()===t&&t.values&&t.values.length>0&&!1!==r){var i=n.get("shapeType")||"point",o=n.getDefaultValue("shape")||"circle",s=DY.getShapeFactory(i),l={color:n.getDefaultValue("color")},u=s.getMarkerCfg(o,l);RY.legendMarkerRadius&&(u.radius=RY.legendMarkerRadius);var c={value:e,marker:u,field:t.field};a.push(c)}}))}));var o={custom:!0,items:a};r.options=IY.deepMix({},o,r.options);var s=r.addCustomLegend();r._bindClickEventForMix(s)},e.alignLegends=function t(){var e=this,n=e.legends,r=e._getRegion(n);e.totalRegion=r;var i=0;return IY.each(n,(function(t,n){var a=r.subs[i];IY.each(t,(function(r,i){var o=t[i-1];r.get("useHtml")&&!r.get("autoPosition")||e._alignLegend(r,o,a,n)})),i++})),this},t}(),HY=VY;function WY(){return WY=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},WY.apply(this,arguments)}var qY=ow,UY=PN,ZY,QY=MR.Tooltip,$Y,JY=qY.MatrixUtil.vec2,KY=["line","area","path","areaStack"],tG=["line","area","point"],eG=["marker","showMarker"];function nG(t,e){var n=-1;return qY.each(t,(function(t,r){var i=!0;for(var a in e)if(e.hasOwnProperty(a)&&!eG.includes(a)&&!qY.isObject(e[a])&&e[a]!==t[a]){i=!1;break}if(i)return n=r,!1})),n}function rG(t,e){if(!t)return!1;var n="";return!!t.className&&(n=qY.isNil(t.className.baseVal)?t.className:t.className.baseVal).includes(e)}function iG(t,e){for(var n=t.parentNode,r=!1;n&&n!==document.body;){if(rG(n,e)){r=!0;break}n=n.parentNode}return r}function aG(t){var e=[];return qY.each(t,(function(t){var n=nG(e,t);-1===n?e.push(t):e[n]=t})),e}var oG,sG,lG=ow;function uG(t,e){if(lG.isNil(t)||lG.isNil(e))return!1;var n=t.get("origin"),r=e.get("origin");return lG.isNil(n)&&lG.isNil(r)?lG.isEqual(t,e):lG.isEqual(n,r)}function cG(t){t.shape&&t.shape.get("origin")&&(t.data=t.shape.get("origin"))}var hG,fG,pG={Scale:Aj,Coord:zz,Axis:Zz,Guide:hY,Legend:HY,Tooltip:function(){function t(t){qY.assign(this,t),this.timeStamp=0,this.locked=!1}var e=t.prototype;return e._normalizeEvent=function t(e){var n=this.chart,r=this._getCanvas(),i=r.getPointByClient(e.clientX,e.clientY),a=r.get("pixelRatio");i.x=i.x/a,i.y=i.y/a;var o=n.getViewsByPoint(i);return i.views=o,i},e._getCanvas=function t(){return this.chart.get("canvas")},e._getTriggerEvent=function t(){var e,n=this.options.triggerOn,r;return n&&"mousemove"!==n?"click"===n?r="plotclick":"none"===n&&(r=null):r="plotmove",r},e._getDefaultTooltipCfg=function t(){var e=this,n=e.chart,r=e.viewTheme,i=e.options,a=qY.mix({},r.tooltip),o=n.getAllGeoms().filter((function(t){return t.get("visible")})),s=[];qY.each(o,(function(t){var e=t.get("type"),n=t.get("adjusts"),r=!1;n&&qY.each(n,(function(t){if("symmetric"===t.type||"Symmetric"===t.type)return r=!0,!1})),-1!==qY.indexOf(s,e)||r||s.push(e)}));var l=!(!o.length||!o[0].get("coord"))&&o[0].get("coord").isTransposed,u;if(o.length&&o[0].get("coord")&&"cartesian"===o[0].get("coord").type)if("interval"===s[0]&&!1!==i.shared){var c=qY.mix({},r.tooltipCrosshairsRect);c.isTransposed=l,u={zIndex:0,crosshairs:c}}else if(qY.indexOf(tG,s[0])>-1){var h=qY.mix({},r.tooltipCrosshairsLine);h.isTransposed=l,u={crosshairs:h}}return qY.mix(a,u,{})},e._bindEvent=function t(){var e=this.chart,n=this._getTriggerEvent();n&&(e.on(n,qY.wrapBehavior(this,"onMouseMove")),e.on("plotleave",qY.wrapBehavior(this,"onMouseOut")))},e._offEvent=function t(){var e=this.chart,n=this._getTriggerEvent();n&&(e.off(n,qY.getWrapBehavior(this,"onMouseMove")),e.off("plotleave",qY.getWrapBehavior(this,"onMouseOut")))},e._setTooltip=function t(e,n,r,i){var a=this,o=a.tooltip,s=a.prePoint;if(!s||s.x!==e.x||s.y!==e.y){n=aG(n),a.prePoint=e;var l=a.chart,u=a.viewTheme,c=qY.isArray(e.x)?e.x[e.x.length-1]:e.x,h=qY.isArray(e.y)?e.y[e.y.length-1]:e.y;o.get("visible")||l.emit("tooltip:show",{x:c,y:h,tooltip:o});var f=n[0],p=f.title||f.name,d;o.isContentChange(p,n)&&(l.emit("tooltip:change",{tooltip:o,x:c,y:h,items:n}),p=n[0].title||n[0].name,o.setContent(p,n),qY.isEmpty(r)?(o.clearMarkers(),o.set("markerItems",[])):!0===a.options.hideMarkers?o.set("markerItems",r):o.setMarkers(r,u.tooltipMarker)),i===this._getCanvas()&&"mini"===o.get("type")?o.hide():(o.setPosition(c,h,i),o.show())}},e.hideTooltip=function t(){var e=this.tooltip,n=this.chart,r=this._getCanvas();this.prePoint=null,e.hide(),n.emit("tooltip:hide",{tooltip:e}),r.draw()},e.onMouseMove=function t(e){if(!qY.isEmpty(e.views)&&!this.locked){var n=this.timeStamp,r=+new Date,i={x:e.x,y:e.y};r-n>16&&!this.chart.get("stopTooltip")&&(this.showTooltip(i,e.views,e.shape),this.timeStamp=r)}},e.onMouseOut=function t(e){var n=this.tooltip;n.get("visible")&&n.get("follow")&&!this.locked&&(e&&e.toElement&&(rG(e.toElement,"g2-tooltip")||iG(e.toElement,"g2-tooltip"))||this.hideTooltip())},e.renderTooltip=function t(){var e=this;if(!e.tooltip){var n=e.chart,r=e.viewTheme,i=e._getCanvas(),a=e._getDefaultTooltipCfg(),o=e.options,s;(o=qY.deepMix({plotRange:n.get("plotRange"),capture:!1,canvas:i,frontPlot:n.get("frontPlot"),viewTheme:r.tooltip,backPlot:n.get("backPlot")},a,o)).crosshairs&&"rect"===o.crosshairs.type&&(o.zIndex=0),o.visible=!1,"mini"===o.type?(o.crosshairs=!1,o.position="top",s=new QY.Mini(o)):s=o.useHtml?new QY.Html(o):new QY.Canvas(o),e.tooltip=s;var l=e._getTriggerEvent(),u=s.get("container");s.get("enterable")||"plotmove"!==l||u&&(u.onmousemove=function(t){var r=e._normalizeEvent(t);n.emit(l,r)}),u&&(u.onmouseleave=function(){e.locked||e.hideTooltip()}),e._bindEvent()}},e._formatMarkerOfItem=function t(e,n,r){var i=this,a=i.options,o=r.point;if(o&&o.x&&o.y){var s=qY.isArray(o.x)?o.x[o.x.length-1]:o.x,l=qY.isArray(o.y)?o.y[o.y.length-1]:o.y;o=e.applyMatrix(s,l,1),r.x=o[0],r.y=o[1],r.showMarker=!0,"l("!==r.color.substring(0,2)||a.hasOwnProperty("useHtml")&&!a.useHtml||(r.color=r.color.split(" ")[1].substring(2));var u=i._getItemMarker(n,r);if(r.marker=u,-1!==qY.indexOf(KY,n.get("type")))return r}return null},e.lockTooltip=function t(){this.locked=!0},e.unlockTooltip=function t(){this.locked=!1},e.showTooltip=function t(e,n,r){var i=this,a=this;if(!qY.isEmpty(n)&&e){this.tooltip||this.renderTooltip();var o=a.options,s=[],l=[];if(qY.each(n,(function(t){if(!t.get("tooltipEnable"))return!0;var n=t.get("geoms"),r=t.get("coord");qY.each(n,(function(t){var n=t.get("type");if(t.get("visible")&&!1!==t.get("tooltipCfg")){var u=t.get("dataArray");if(t.isShareTooltip()||!1===o.shared&&qY.inArray(["area","line","path","polygon"],n)){var c=t.getXScale(),h=t.getAttr("color"),f=h?h.field:void 0;if("interval"===n&&c.field===f&&t.hasAdjust("dodge")){var p=qY.find(u,(function(n){return!!t.findPoint(e,n)}));qY.each(p,(function(e){var n=t.getTipItems(e,o.title);qY.each(n,(function(e){var n=a._formatMarkerOfItem(r,t,e);n&&s.push(n)})),l=l.concat(n)}))}else qY.each(u,(function(n){var i=t.findPoint(e,n);if(i){var u=t.getTipItems(i,o.title);qY.each(u,(function(e){var n=a._formatMarkerOfItem(r,t,e);n&&s.push(n)})),l=l.concat(u)}}))}else{var d=t.get("shapeContainer"),g,v=d.get("canvas").get("pixelRatio"),m=d.getShape(e.x*v,e.y*v);m&&m.get("visible")&&m.get("origin")&&(l=t.getTipItems(m.get("origin"),o.title)),qY.each(l,(function(e){var n=i._formatMarkerOfItem(r,t,e);n&&s.push(n)}))}}})),qY.each(l,(function(t){var e=t.point,n=qY.isArray(e.x)?e.x[e.x.length-1]:e.x,i=qY.isArray(e.y)?e.y[e.y.length-1]:e.y;e=r.applyMatrix(n,i,1),t.x=e[0],t.y=e[1]}))})),l.length){var u=l[0];if(!l.every((function(t){return t.title===u.title}))){var c=u,h=1/0;l.forEach((function(t){var n=JY.distance([e.x,e.y],[t.x,t.y]);n<h&&(h=n,c=t)})),l=l.filter((function(t){return t.title===c.title})),s=s.filter((function(t){return t.title===c.title}))}if(!1===o.shared&&l.length>1){var f=l[0],p=Math.abs(e.y-f.y);qY.each(l,(function(t){Math.abs(e.y-t.y)<=p&&(f=t,p=Math.abs(e.y-t.y))})),f&&f.x&&f.y&&(s=[f]),l=[f]}a._setTooltip(e,l,s,r)}else a.hideTooltip()}},e.clear=function t(){var e=this.tooltip;e&&e.destroy(),this.tooltip=null,this.prePoint=null,this._offEvent()},e._getItemMarker=function t(e,n){var r,i=this.options.marker||this.viewTheme.tooltip.marker;if(qY.isFunction(i)){var a=e.get("shapeType")||"point",o=e.getDefaultValue("shape")||"circle",s=UY.getShapeFactory(a),l={color:n.color},u;return i(s.getMarkerCfg(o,l),n)}return WY({fill:n.color},i)},t}(),Event:function(){function t(t){this.view=null,this.canvas=null,lG.assign(this,t),this._init()}var e=t.prototype;return e._init=function t(){this.pixelRatio=this.canvas.get("pixelRatio")},e._getShapeEventObj=function t(e){return{x:e.x/this.pixelRatio,y:e.y/this.pixelRatio,target:e.target,toElement:e.event.toElement||e.event.relatedTarget}},e._getShape=function t(e,n){var r,i;return this.view.get("canvas").getShape(e,n)},e._getPointInfo=function t(e){var n=this.view,r={x:e.x/this.pixelRatio,y:e.y/this.pixelRatio},i=n.getViewsByPoint(r);return r.views=i,r},e._getEventObj=function t(e,n,r){return{x:n.x,y:n.y,target:e.target,toElement:e.event.toElement||e.event.relatedTarget,views:r}},e.bindEvents=function t(){var e=this.canvas;e.on("mousedown",lG.wrapBehavior(this,"onDown")),e.on("mousemove",lG.wrapBehavior(this,"onMove")),e.on("mouseleave",lG.wrapBehavior(this,"onOut")),e.on("mouseup",lG.wrapBehavior(this,"onUp")),e.on("click",lG.wrapBehavior(this,"onClick")),e.on("dblclick",lG.wrapBehavior(this,"onClick")),e.on("touchstart",lG.wrapBehavior(this,"onTouchstart")),e.on("touchmove",lG.wrapBehavior(this,"onTouchmove")),e.on("touchend",lG.wrapBehavior(this,"onTouchend"))},e._triggerShapeEvent=function t(e,n,r){if(e&&e.name&&!e.get("destroyed")){var i=this.view;if(i.isShapeInView(e)){var a=e.name+":"+n;r.view=i,r.appendInfo=e.get("appendInfo"),i.emit(a,r);var o=i.get("parent");o&&o.emit(a,r)}}},e.onDown=function t(e){var n=this.view,r=this._getShapeEventObj(e);r.shape=this.currentShape,cG(r),n.emit("mousedown",r),this._triggerShapeEvent(this.currentShape,"mousedown",r)},e.onMove=function t(e){var n=this,r=n.view,i=n.currentShape;i&&i.get("destroyed")&&(i=null,n.currentShape=null);var a=n._getShape(e.x,e.y)||e.currentTarget,o=n._getShapeEventObj(e);if(o.shape=a,cG(o),r.emit("mousemove",o),n._triggerShapeEvent(a,"mousemove",o),i&&!uG(i,a)){var s=n._getShapeEventObj(e);s.shape=i,s.toShape=a,cG(s),n._triggerShapeEvent(i,"mouseleave",s)}if(a&&!uG(i,a)){var l=n._getShapeEventObj(e);l.shape=a,l.fromShape=i,cG(l),n._triggerShapeEvent(a,"mouseenter",l)}n.currentShape=a;var u=n._getPointInfo(e),c=n.curViews||[];0===c.length&&u.views.length&&r.emit("plotenter",n._getEventObj(e,u,u.views)),c.length&&0===u.views.length&&r.emit("plotleave",n._getEventObj(e,u,c)),u.views.length&&((o=n._getEventObj(e,u,u.views)).shape=a,cG(o),r.emit("plotmove",o)),n.curViews=u.views},e.onOut=function t(e){var n=this,r=n.view,i=n._getPointInfo(e),a=n.curViews||[],o=n._getEventObj(e,i,a);!n.curViews||0===n.curViews.length||o.toElement&&"CANVAS"===o.toElement.tagName||(r.emit("plotleave",o),n.curViews=[])},e.onUp=function t(e){var n=this.view,r=this._getShapeEventObj(e);r.shape=this.currentShape,n.emit("mouseup",r),this._triggerShapeEvent(this.currentShape,"mouseup",r)},e.onClick=function t(e){var n=this,r=n.view,i=n._getShape(e.x,e.y)||e.currentTarget,a=n._getShapeEventObj(e);a.shape=i,cG(a),r.emit("click",a),n._triggerShapeEvent(i,e.type,a),n.currentShape=i;var o=n._getPointInfo(e),s=o.views;if(!lG.isEmpty(s)){var l=n._getEventObj(e,o,s);if(n.currentShape){var u=n.currentShape;l.shape=u,cG(l)}"dblclick"===e.type?(r.emit("plotdblclick",l),r.emit("dblclick",a)):r.emit("plotclick",l)}},e.onTouchstart=function t(e){var n=this.view,r=this._getShape(e.x,e.y)||e.currentTarget,i=this._getShapeEventObj(e);i.shape=r,cG(i),n.emit("touchstart",i),this._triggerShapeEvent(r,"touchstart",i),this.currentShape=r},e.onTouchmove=function t(e){var n=this.view,r=this._getShape(e.x,e.y)||e.currentTarget,i=this._getShapeEventObj(e);i.shape=r,cG(i),n.emit("touchmove",i),this._triggerShapeEvent(r,"touchmove",i),this.currentShape=r},e.onTouchend=function t(e){var n=this.view,r=this._getShapeEventObj(e);r.shape=this.currentShape,cG(r),n.emit("touchend",r),this._triggerShapeEvent(this.currentShape,"touchend",r)},e.clearEvents=function t(){var e=this.canvas;e.off("mousemove",lG.getWrapBehavior(this,"onMove")),e.off("mouseleave",lG.getWrapBehavior(this,"onOut")),e.off("mousedown",lG.getWrapBehavior(this,"onDown")),e.off("mouseup",lG.getWrapBehavior(this,"onUp")),e.off("click",lG.getWrapBehavior(this,"onClick")),e.off("dblclick",lG.getWrapBehavior(this,"onClick")),e.off("touchstart",lG.getWrapBehavior(this,"onTouchstart")),e.off("touchmove",lG.getWrapBehavior(this,"onTouchmove")),e.off("touchend",lG.getWrapBehavior(this,"onTouchend"))},t}()},dG=ow,gG=Ow,vG,mG=dG.MatrixUtil.mat3,yG;function xG(t,e){var n=[];if(!1===t.get("animate"))return[];var r=t.get("children");return dG.each(r,(function(t){if(t.isGroup)n=n.concat(xG(t,e));else if(t.isShape&&t._id){var r=t._id;(r=r.split("-")[0])===e&&n.push(t)}})),n}function _G(t){var e={};return dG.each(t,(function(t){if(t._id&&!t.isClip){var n=t._id;e[n]={_id:n,type:t.get("type"),attrs:dG.cloneDeep(t.attr()),name:t.name,index:t.get("index"),animateCfg:t.get("animateCfg"),coord:t.get("coord")}}})),e}function bG(t,e,n,r){var i;return i=r?gG.Action[n][r]:gG.getAnimation(t,e,n)}function wG(t,e,n){var r=gG.getAnimateCfg(t,e);return n&&n[e]?dG.deepMix({},r,n[e]):r}function SG(t,e,n,r){var i,a,o=!1;if(r){var s=[],l=[];dG.each(e,(function(e){var n=t[e._id];n?(e.setSilent("cacheShape",n),s.push(e),delete t[e._id]):l.push(e)})),dG.each(t,(function(t){var e=t.name,r=t.coord,s=t._id,l=t.attrs,u=t.index,c=t.type;if(a=wG(e,"leave",t.animateCfg),i=bG(e,r,"leave",a.animation),dG.isFunction(i)){var h=n.addShape(c,{attrs:l,index:u});if(h._id=s,h.name=e,r&&"label"!==e){var f=h.getMatrix(),p=mG.multiply([],f,r.matrix);h.setMatrix(p)}o=!0,i(h,a,r)}})),dG.each(s,(function(t){var e=t.name,n=t.get("coord"),r=t.get("cacheShape").attrs;if(!dG.isEqual(r,t.attr())){if(a=wG(e,"update",t.get("animateCfg")),i=bG(e,n,"update",a.animation),dG.isFunction(i))i(t,a,n);else{var s=dG.cloneDeep(t.attr());t.attr(r),t.animate(s,a.duration,a.easing,(function(){t.setSilent("cacheShape",null)}))}o=!0}})),dG.each(l,(function(t){var e=t.name,n=t.get("coord");a=wG(e,"enter",t.get("animateCfg")),i=bG(e,n,"enter",a.animation),dG.isFunction(i)&&(i(t,a,n),o=!0)}))}else dG.each(e,(function(t){var e=t.name,n=t.get("coord");a=wG(e,"appear",t.get("animateCfg")),i=bG(e,n,"appear",a.animation),dG.isFunction(i)&&(i(t,a,n),o=!0)}));return o}function MG(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function CG(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,AG(t,e)}function AG(t,e){return(AG=Object.setPrototypeOf||function t(e,n){return e.__proto__=n,e})(t,e)}var PG=jw,kG=yj,TG=ow,IG=pG,EG=cC,OG=oC,LG="_origin",DG={execAnimation:function t(e,n){var r=e.get("middlePlot"),i=e.get("backPlot"),a=e.get("_id"),o=e.get("canvas"),s=o.get(a+"caches")||[];0===s.length&&(n=!1);var l=xG(r,a),u=xG(i,a),c=l.concat(u),h;o.setSilent(a+"caches",_G(c)),(h=SG(s,n?c:l,o,n))||o.draw()}};function FG(t){var e=t.startAngle,n=t.endAngle;return!(!TG.isNil(e)&&!TG.isNil(n)&&n-e<2*Math.PI)}function BG(t,e,n){var r=(t-e)/(n-e);return r>=0&&r<=1}function RG(t,e){var n=!1,r;if(t)if("theta"===t.type){var i=t.start,a=t.end;n=BG(e.x,i.x,a.x)&&BG(e.y,i.y,a.y)}else{var o=t.invert(e);n=o.x>=0&&o.y>=0&&o.x<=1&&o.y<=1}return n}var NG={};TG.each(kG,(function(t,e){var n=TG.lowerFirst(e);NG[n]=function(e){var n=new t(e);return this.addGeom(n),n}}));var jG=function(t){CG(n,t);var e=n.prototype;function n(e){var n,r=MG(n=t.call(this,e)||this);return r._setTheme(),TG.each(kG,(function(t,e){var n=TG.lowerFirst(e);r[n]=function(e){void 0===e&&(e={}),e.viewTheme=r.get("viewTheme");var n=new t(e);return r.addGeom(n),n}})),r.init(),n}return e.getDefaultCfg=function t(){return{viewContainer:null,coord:null,start:{x:0,y:0},end:{x:1,y:1},geoms:[],scales:{},options:{},scaleController:null,padding:0,theme:null,parent:null,tooltipEnable:!0,animate:EG.animate,visible:!0}},e._setTheme=function t(){var e=this,n=e.get("theme"),r={},i={};TG.isObject(n)?i=n:-1!==TG.indexOf(Object.keys(OG),n)&&(i=OG[n]),TG.deepMix(r,EG,i),e.set("viewTheme",r)},e.init=function t(){this._initViewPlot(),this.get("data")&&this._initData(this.get("data")),this._initOptions(),this._initControllers(),this._bindEvents()},e._initOptions=function t(){var e=this,n=TG.mix({},e.get("options"));n.scales||(n.scales={}),n.coord||(n.coord={}),!1===n.animate&&this.set("animate",!1),(!1===n.tooltip||TG.isNull(n.tooltip))&&this.set("tooltipEnable",!1),n.geoms&&n.geoms.length&&TG.each(n.geoms,(function(t){e._createGeom(t)}));var r=e.get("scaleController");r&&(r.defs=n.scales);var i=e.get("coordController");i&&i.reset(n.coord),this.set("options",n)},e._createGeom=function t(e){var n=e.type,r;this[n]&&(r=this[n](),TG.each(e,(function(t,e){var n;r[e]&&(TG.isObject(t)&&t.field?"label"===t?r[e](t.field,t.callback,t.cfg):(TG.each(t,(function(t,e){"field"!==e&&(n=t)})),r[e](t.field,n)):r[e](t))})))},e._initControllers=function t(){var e=this,n=e.get("options"),r=e.get("viewTheme"),i=e.get("canvas"),a=new IG.Scale({viewTheme:r,defs:n.scales}),o=new IG.Coord(n.coord);this.set("scaleController",a),this.set("coordController",o);var s=new IG.Axis({canvas:i,viewTheme:r});this.set("axisController",s);var l=new IG.Guide({viewTheme:r,options:n.guides||[]});this.set("guideController",l)},e._initViewPlot=function t(){this.get("viewContainer")||this.set("viewContainer",this.get("middlePlot"))},e._initGeoms=function t(){for(var e=this.get("geoms"),n=this.get("filteredData"),r=this.get("coord"),i=this.get("_id"),a=0;a<e.length;a++){var o=e[a];o.set("data",n),o.set("coord",r),o.set("_id",i+"-geom"+a),o.set("keyFields",this.get("keyFields")),o.init()}},e._clearGeoms=function t(){for(var e,n=this.get("geoms"),r=0;r<n.length;r++){var i;n[r].clear()}},e._removeGeoms=function t(){for(var e,n=this.get("geoms");n.length>0;){var r;n.shift().destroy()}},e._drawGeoms=function t(){this.emit("beforedrawgeoms");for(var e=this.get("geoms"),n=this.get("coord"),r=0;r<e.length;r++){var i=e[r];i.setCoord(n),i.paint()}this.emit("afterdrawgeoms")},e.isShapeInView=function t(e){var n=this.get("_id"),r=e._id;if(r)return r.split("-")[0]===n;for(var i=e;i;){if(i.get("viewId")===n)return!0;i=i.get("parent")}return!1},e.getViewRegion=function t(){var e=this,n=e.get("parent"),r,i;if(n){var a=n.getViewRegion(),o=e._getViewRegion(a.start,a.end);r=o.start,i=o.end}else r=e.get("start"),i=e.get("end");return{start:r,end:i}},e._getViewRegion=function t(e,n){var r=this.get("start"),i=this.get("end"),a=r.x,o=1-i.y,s=i.x,l=1-r.y,u=this.get("padding"),c=TG.toAllPadding(u),h=c[0],f=c[1],p=c[2],d=c[3],g,v;return{start:{x:a*(n.x-e.x)+e.x+d,y:o*(n.y-e.y)+e.y-p},end:{x:s*(n.x-e.x)+e.x-f,y:l*(n.y-e.y)+e.y+h}}},e._createCoord=function t(){var e=this.get("coordController"),n=this.getViewRegion(),r=e.createCoord(n.start,n.end);this.set("coord",r)},e._renderAxes=function t(){var e,n=this.get("options").axes;if(!1!==n){var r=this.get("axisController");r.container=this.get("backPlot"),r.coord=this.get("coord"),r.options=n||{};var i=this.getXScale(),a=this.getYScales(),o=this.get("_id");r.createAxis(i,a,o)}},e._renderGuides=function t(){var e=this.get("guideController");if(!TG.isEmpty(e.options)){var n=this.get("coord");e.view=this,e.backContainer=this.get("backPlot"),e.frontContainer=this.get("frontPlot"),e.xScales=this._getScales("x"),e.yScales=this._getScales("y"),e.render(n)}},e._bindEvents=function t(){var e=new IG.Event({view:this,canvas:this.get("canvas")});e.bindEvents(),this.set("eventController",e)},e._clearEvents=function t(){var e=this.get("eventController");e&&e.clearEvents()},e._getScales=function t(e){for(var n=this.get("geoms"),r={},i=0;i<n.length;i++){var a=n[i],o="x"===e?a.getXScale():a.getYScale();o&&!r[o.field]&&(r[o.field]=o)}return r},e._adjustScale=function t(){this._setCatScalesRange();for(var e=this.get("geoms"),n,r=this.get("scaleController").defs,i=0;i<e.length;i++){var a=e[i];if("interval"===a.get("type")){var o=a.getYScale(),s=o.field,l=o.min,u=o.max,c=o.type;r[s]&&r[s].min||"time"===c||(l>0?o.change({min:0}):u<=0&&o.change({max:0}))}}},e._setCatScalesRange=function t(){var e=this,n=e.get("coord"),r=e.get("viewTheme"),i=e.getXScale(),a=e.getYScales(),o=[];i&&o.push(i),o=o.concat(a);var s=n.isPolar&&FG(n),l,u=e.get("scaleController").defs;TG.each(o,(function(t){if((t.isCategory||t.isIdentity)&&t.values&&(!u[t.field]||!u[t.field].range)){var e=t.values.length,i;if(1===e)i=[.5,1];else{var a=1,o=0;i=s?n.isTransposed?[(o=1/e*(a=r.widthRatio.multiplePie))/2,1-o/2]:[0,1-1/e]:[o=1/e*1/2,1-o]}t.range=i}}))},e.getXScale=function t(){var e=this.get("geoms"),n=null;return TG.isEmpty(e)||(n=e[0].getXScale()),n},e.getYScales=function t(){for(var e=this.get("geoms"),n=[],r=0;r<e.length;r++){var i,a=e[r].getYScale();a&&-1===TG.indexOf(n,a)&&n.push(a)}return n},e.getXY=function t(e){var n=this,r=n.get("coord"),i=n._getScales("x"),a=n._getScales("y"),o,s;for(var l in e)i[l]&&(o=i[l].scale(e[l])),a[l]&&(s=a[l].scale(e[l]));return TG.isNil(o)||TG.isNil(s)?null:r.convert({x:o,y:s})},e.getSnapRecords=function t(e){var n,r=this.get("geoms"),i=[];return TG.each(r,(function(t){var n=t.get("dataArray"),r;TG.each(n,(function(n){(r=t.findPoint(e,n))&&i.push(r)}))})),i},e.addGeom=function t(e){var n=this,r;n.get("geoms").push(e),e.set("view",n);var i=n.get("viewContainer");e.set("container",i),e.set("animate",n.get("animate")),e.bindEvents()},e.removeGeom=function t(e){var n=this.get("geoms");TG.Array.remove(n,e),e.destroy()},e.createScale=function t(e,n){var r=this.get("scales"),i=this.get("parent"),a=r[e];if(!n){var o=this.get("filteredData"),s=this._getFieldsForLegend();n=o.length&&!s.includes(e)?o:this.get("data")}var l=this.get("scaleController");if(a){if(a.sync){var u=l.createScale(e,n);this._syncScale(a,u)}}else{if((a=l.createScale(e,n)).sync&&i){var c=i.createScale(e,n);a=this._getSyncScale(c,a)}r[e]=a}return a},e._getFieldsForLegend=function t(){var e=[],n=this.get("geoms");return TG.each(n,(function(t){var n=t.getFieldsForLegend();e=e.concat(n)})),TG.uniq(e)},e._getSyncScale=function t(e,n){return e.type!==n.type?n:(this._syncScale(e,n),e)},e._syncScale=function t(e,n){var r=TG.union(e.values,n.values);if(n.isLinear){var i=Math.max(e.max,n.max),a=Math.min(e.min,n.min);e.max===i&&e.min===a||e.change({min:a,max:i,values:r})}r.length!==e.values.length&&e.change({values:r})},e.getFilteredValues=function t(e){var n,r=this.get("scales")[e].values,i=this._getFilters(),a;return a=i&&i[e]?r.filter(i[e]):r.slice(0)},e.getFilteredOutValues=function t(e){var n,r=this.get("scales")[e].values,i=this._getFilters(),a;return a=i&&i[e]?r.filter((function(){return!i[e].apply(i,arguments)})):[],a},e.filter=function t(e,n){var r=this.get("options");r.filters||(r.filters={}),r.filters[e]=n,this.get("scaleController").filters=r.filters},e._getFilters=function t(){var e;return this.get("options").filters},e.execFilter=function t(e){var n,r=this._getFilters();return r&&(e=e.filter((function(t){var e=!0;return TG.each(r,(function(n,r){if(n&&!(e=n(t[r],t)))return!1})),e}))),e},e.axis=function t(e,n){var r=this.get("options"),i;!1===e?r.axes=!1:(r.axes||(r.axes={}),r.axes[e]=n);return this},e.guide=function t(){return this.get("guideController")},e._getKeyFields=function t(e){var n=[];TG.each(e,(function(t,e){t.key&&n.push(e)})),this.set("keyFields",n)},e.scale=function t(e,n){var r,i=this.get("options").scales;return TG.isObject(e)?TG.mix(i,e):i[e]=n,this._getKeyFields(i),this},e.tooltip=function t(e){return this.set("tooltipEnable",e),this},e.animate=function t(e){var n;return this.get("options").animate=e,this.set("animate",e),this},e.changeOptions=function t(e){return this.set("options",e),this._initOptions(e),this},e.getViewsByPoint=function t(e){var n=[],r=this.get("views");return RG(this.get("coord"),e)&&n.push(this),TG.each(r,(function(t){t.get("visible")&&RG(t.get("coord"),e)&&n.push(t)})),n},e.eachShape=function t(e){var n=this,r=n.get("views"),i=n.get("canvas");TG.each(r,(function(t){t.eachShape(e)}));var a=this.get("geoms");return TG.each(a,(function(t){var r=t.getShapes();TG.each(r,(function(r){var i=r.get("origin");if(TG.isArray(i)){var a=i.map((function(t){return t._origin}));e(a,r,t,n)}else{var o=i._origin;e(o,r,t,n)}}))})),i.draw(),this},e.filterShape=function t(e){var n=function t(n,r,i,a){e(n,r,i,a)?r.show():r.hide()};return this.eachShape(n),this},e.clearInner=function t(){var e;this.set("scales",{}),this.emit("beforeclearinner"),this.get("options").geoms=null,this._clearGeoms(),this.get("guideController")&&this.get("guideController").reset(),this.get("axisController")&&this.get("axisController").clear(),this.emit("afterclearinner")},e.clear=function t(){var e;return this.get("options").filters=null,this._removeGeoms(),this.clearInner(),this.get("guideController")&&this.get("guideController").clear(),this.set("isUpdate",!1),this.set("keyFields",[]),this},e.coord=function t(e,n){var r=this.get("coordController");return r.reset({type:e,cfg:n}),r},e.resetCoord=function t(){this._createCoord()},e.source=function t(e,n){return this._initData(e),n&&this.scale(n),this.emit("setdata"),this},e.changeData=function t(e){return this.emit("beforechangedata"),this._initData(e),this.emit("afterchangedata"),this.repaint(),this},e._initData=function t(e){var n=this.get("dataView");n&&(n.off("change",TG.getWrapBehavior(this,"_onViewChange")),this.set("dataView",null)),e&&e.isDataView&&(e.on("change",TG.wrapBehavior(this,"_onViewChange")),this.set("dataView",e),e=e.rows),this.set("data",e)},e._onViewChange=function t(){this.emit("beforechangedata");var e,n=this.get("dataView").rows;this.set("data",n),this.emit("afterchangedata"),this.repaint()},e.beforeRender=function t(){var e=this.get("views");TG.each(e,(function(t){t.beforeRender()})),this.initView()},e.drawComponents=function t(){var e=this.get("views");TG.each(e,(function(t){t.drawComponents()})),this._renderAxes(),this._renderGuides()},e.drawCanvas=function t(e){if(!e){var n=this.get("views"),r;this.get("backPlot").sort();var i=this.get("canvas"),a;if(this.get("animate")){var o=this.get("isUpdate");TG.each(n,(function(t){DG.execAnimation(t,o)})),DG.execAnimation(this,o)}else i.draw()}},e.render=function t(e){return this.clearInner(),this.emit("beforerender"),this.beforeRender(),this.emit("beforepaint"),this.drawComponents(),this.paint(),this.emit("afterpaint"),this.drawCanvas(e),this.emit("afterrender"),this.set("rendered",!0),this},e.initView=function t(){var e=this.get("data")||[],n=this.execFilter(e);this.set("filteredData",n),this._createCoord(),this.emit("beforeinitgeoms"),this._initGeoms(),this._adjustScale()},e.paint=function t(){var e=this.get("views");TG.each(e,(function(t){t.paint()}));var n=this.get("data");TG.isEmpty(n)||this._drawGeoms(),this.get("visible")||this.changeVisible(!1,!0)},e.changeVisible=function t(e,n){var r=this.get("geoms"),i;(TG.each(r,(function(t){t.changeVisible(e,!0)})),this.get("axisController")&&this.get("axisController").changeVisible(e),this.get("guideController")&&this.get("guideController").changeVisible(e),n)||this.get("canvas").draw()},e.repaint=function t(){this.set("isUpdate",!0),this.clearInner(),this.render()},e.destroy=function e(){this._clearEvents();var n=this.get("dataView");n&&n.off("change",TG.getWrapBehavior(this,"_onViewChange")),this.clear(),t.prototype.destroy.call(this)},n}(PG),zG=jG,YG=ow,GG,XG=Kv.Group,VG="auto",HG=function t(e){t.superclass.constructor.call(this,e)};YG.extend(HG,XG),YG.augment(HG,{getDefaultCfg:function t(){return{type:"plotBack",padding:null,background:null,plotRange:null,plotBackground:null}},_beforeRenderUI:function t(){this._calculateRange()},_renderUI:function t(){this._renderBackground(),this._renderPlotBackground()},_renderBackground:function t(){var e=this,n=e.get("background");if(n){var r=this.get("canvas"),i,a,o={x:0,y:0,width:e.get("width")||r.get("width"),height:e.get("height")||r.get("height")},s=e.get("backgroundShape");s?s.attr(o):(s=this.addShape("rect",{attrs:YG.mix(o,n)}),this.set("backgroundShape",s))}},_renderPlotBackground:function t(){var e=this,n=e.get("plotBackground");if(n){var r=e.get("plotRange"),i=r.br.x-r.bl.x,a=r.br.y-r.tr.y,o=r.tl,s={x:o.x,y:o.y,width:i,height:a},l=e.get("plotBackShape");l?l.attr(s):(n.image?(s.img=n.image,l=e.addShape("image",{attrs:s})):(YG.mix(s,n),l=e.addShape("rect",{attrs:s})),e.set("plotBackShape",l))}},_convert:function t(e,n){if(YG.isString(e))if("auto"===e)e=0;else if(e.includes("%")){var r=this.get("canvas"),i=this.get("width")||r.get("width"),a=this.get("height")||r.get("height");e=parseInt(e,10)/100,e=n?e*i:e*a}return e},_calculateRange:function t(){var e=this,n=e.get("plotRange");YG.isNil(n)&&(n={});var r=e.get("padding"),i=this.get("canvas"),a=e.get("width")||i.get("width"),o=e.get("height")||i.get("height"),s=YG.toAllPadding(r),l=e._convert(s[0],!1),u=e._convert(s[1],!0),c=e._convert(s[2],!1),h=e._convert(s[3],!0),f=Math.min(h,a-u),p=Math.max(h,a-u),d=Math.min(o-c,l),g=Math.max(o-c,l);n.tl={x:f,y:d},n.tr={x:p,y:d},n.bl={x:f,y:g},n.br={x:p,y:g},n.cc={x:(p+f)/2,y:(g+d)/2},this.set("plotRange",n)},repaint:function t(){return this._calculateRange(),this._renderBackground(),this._renderPlotBackground(),this}});var WG=HG;function qG(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,UG(t,e)}function UG(t,e){return(UG=Object.setPrototypeOf||function t(e,n){return e.__proto__=n,e})(t,e)}var ZG=ow,QG=zG,$G,JG=Kv.Canvas,KG=ZG.DomUtil,tX=cC,eX=WG,nX=pG,rX=bY,iX=PY,aX=kY,oX="auto";function sX(t,e){var n=!1;return ZG.each(t,(function(t){var r=[].concat(t.values),i=[].concat(e.values);t.type!==e.type||t.field!==e.field||r.sort().toString()!==i.sort().toString()||(n=!0)})),n}function lX(t,e){return ZG.isEqualWith(t,e,(function(t,e){return t===e}))}var uX=function(t){function e(){return t.apply(this,arguments)||this}qG(e,t);var n=e.prototype;return n.getDefaultCfg=function e(){var n=t.prototype.getDefaultCfg.call(this);return ZG.mix(n,{id:null,forceFit:!1,container:null,wrapperEl:null,canvas:null,width:500,height:500,pixelRatio:null,backPlot:null,frontPlot:null,plotBackground:null,padding:tX.plotCfg.padding,background:null,autoPaddingAppend:5,limitInPlot:!1,renderer:tX.renderer,views:[]})},n.init=function e(){var n=this,r=n.get("viewTheme");n._initCanvas(),n._initPlot(),n._initEvents(),t.prototype.init.call(this);var i=new nX.Tooltip({chart:n,viewTheme:r,options:{}});n.set("tooltipController",i);var a=new nX.Legend({chart:n,viewTheme:r});n.set("legendController",a),n.set("_id","chart"),n.emit("afterinit")},n._isAutoPadding=function t(){var e=this.get("padding");return ZG.isArray(e)?e.includes("auto"):"auto"===e},n._getAutoPadding=function t(){for(var e=this.get("padding"),n,r=this.get("frontPlot").getBBox(),i=this.get("backPlot"),a=iX(i,aX(this.get("plotRange"))),o=rX(r,a),s=[0-o.minY,o.maxX-this.get("width"),o.maxY-this.get("height"),0-o.minX],l=ZG.toAllPadding(e),u=0;u<l.length;u++)if("auto"===l[u]){var c=Math.max(0,s[u]);l[u]=c+this.get("autoPaddingAppend")}return l},n._initCanvas=function t(){var e=this.get("container"),n=this.get("id");!e&&n&&(e=n,this.set("container",n));var r=this.get("width"),i=this.get("height");if(ZG.isString(e)){if(!(e=document.getElementById(e)))throw new Error("Please specify the container for the chart!");this.set("container",e)}var a=KG.createDom('<div style="position:relative;"></div>');e.appendChild(a),this.set("wrapperEl",a),this.get("forceFit")&&(r=KG.getWidth(e,r),this.set("width",r));var o=this.get("renderer"),s=new JG({containerDOM:a,width:r,height:i,pixelRatio:"svg"===o?1:this.get("pixelRatio"),renderer:o});this.set("canvas",s)},n._initPlot=function t(){var e=this;e._initPlotBack();var n=e.get("canvas"),r=n.addGroup({zIndex:1}),i=n.addGroup({zIndex:0}),a=n.addGroup({zIndex:3});e.set("backPlot",r),e.set("middlePlot",i),e.set("frontPlot",a)},n._initPlotBack=function t(){var e=this,n=e.get("canvas"),r=e.get("viewTheme"),i=n.addGroup(eX,{padding:this.get("padding"),plotBackground:ZG.mix({},r.plotBackground,e.get("plotBackground")),background:ZG.mix({},r.background,e.get("background"))});e.set("plot",i),e.set("plotRange",i.get("plotRange"))},n._initEvents=function t(){this.get("forceFit")&&window.addEventListener("resize",ZG.wrapBehavior(this,"_initForceFitEvent"))},n._initForceFitEvent=function t(){var e=setTimeout(ZG.wrapBehavior(this,"forceFit"),200);clearTimeout(this.get("resizeTimer")),this.set("resizeTimer",e)},n._renderLegends=function t(){var e,n=this.get("options").legends;if(ZG.isNil(n)||!1!==n){var r=this.get("legendController");if(r.options=n||{},r.plotRange=this.get("plotRange"),n&&n.custom)r.addCustomLegend();else{var i=this.getAllGeoms(),a=[];ZG.each(i,(function(t){var e=t.get("view"),n=t.getAttrsForLegend();ZG.each(n,(function(n){var i=n.type,o=n.getScale(i);if(o.field&&"identity"!==o.type&&!sX(a,o)){a.push(o);var s=e.getFilteredOutValues(o.field);r.addLegend(o,n,t,s)}}))}));var o=this.getYScales();0===a.length&&o.length>1&&r.addMixedLegend(o,i)}r.alignLegends()}},n._renderTooltips=function t(){var e=this.get("options");if(ZG.isNil(e.tooltip)||!1!==e.tooltip){var n=this.get("tooltipController");n.options=e.tooltip||{},n.renderTooltip()}},n.getAllGeoms=function t(){var e=[];e=e.concat(this.get("geoms"));var n=this.get("views");return ZG.each(n,(function(t){e=e.concat(t.get("geoms"))})),e},n.forceFit=function t(){var e=this;if(e&&!e.destroyed){var n=e.get("container"),r=e.get("width"),i=KG.getWidth(n,r);if(0!==i&&i!==r){var a=e.get("height");e.changeSize(i,a)}return e}},n.resetPlot=function t(){var e=this.get("plot"),n=this.get("padding");lX(n,e.get("padding"))||(e.set("padding",n),e.repaint())},n.changeSize=function t(e,n){var r=this,i;r.get("canvas").changeSize(e,n);var a=this.get("plot");return r.set("width",e),r.set("height",n),a.repaint(),this.set("keepPadding",!0),r.repaint(),this.set("keepPadding",!1),this.emit("afterchangesize"),r},n.changeWidth=function t(e){return this.changeSize(e,this.get("height"))},n.changeHeight=function t(e){return this.changeSize(this.get("width"),e)},n.view=function t(e){(e=e||{}).theme=this.get("theme"),e.parent=this,e.backPlot=this.get("backPlot"),e.middlePlot=this.get("middlePlot"),e.frontPlot=this.get("frontPlot"),e.canvas=this.get("canvas"),ZG.isNil(e.animate)&&(e.animate=this.get("animate")),e.options=ZG.mix({},this._getSharedOptions(),e.options);var n=new QG(e);return n.set("_id","view"+this.get("views").length),this.get("views").push(n),this.emit("addview",{view:n}),n},n.removeView=function t(e){var n=this.get("views");ZG.Array.remove(n,e),e.destroy()},n._getSharedOptions=function t(){var e=this.get("options"),n={};return ZG.each(["scales","coord","axes"],(function(t){n[t]=ZG.cloneDeep(e[t])})),n},n.getViewRegion=function t(){var e=this.get("plotRange");return{start:e.bl,end:e.tr}},n.legend=function t(e,n){var r=this.get("options");r.legends||(r.legends={});var i={};return!1===e?r.legends=!1:ZG.isObject(e)?i=e:ZG.isString(e)?i[e]=n:i=n,ZG.mix(r.legends,i),this},n.tooltip=function t(e,n){var r=this.get("options");return r.tooltip||(r.tooltip={}),!1===e?r.tooltip=!1:ZG.isObject(e)?ZG.mix(r.tooltip,e):ZG.mix(r.tooltip,n),this},n.clear=function e(){this.emit("beforeclear");for(var n=this.get("views");n.length>0;){var r;n.shift().destroy()}t.prototype.clear.call(this);var i=this.get("canvas");return this.resetPlot(),i.draw(),this.emit("afterclear"),this},n.clearInner=function e(){var n=this.get("views");ZG.each(n,(function(t){t.clearInner()}));var r=this.get("tooltipController");if(r&&r.clear(),!this.get("keepLegend")){var i=this.get("legendController");i&&i.clear()}t.prototype.clearInner.call(this)},n.drawComponents=function e(){t.prototype.drawComponents.call(this),this.get("keepLegend")||this._renderLegends()},n.render=function e(){var n=this;if(!n.get("keepPadding")&&n._isAutoPadding()){n.beforeRender(),n.drawComponents();var r=n._getAutoPadding(),i=n.get("plot");lX(i.get("padding"),r)||(i.set("padding",r),i.repaint())}var a=n.get("middlePlot");if(n.get("limitInPlot")&&!a.attr("clip")){var o=ZG.getClipByRange(n.get("plotRange"));a.attr("clip",o)}t.prototype.render.call(this),n._renderTooltips()},n.repaint=function e(){this.get("keepPadding")||this.resetPlot(),t.prototype.repaint.call(this)},n.changeVisible=function t(e){var n,r=e?"":"none";this.get("wrapperEl").style.display=r},n.toDataURL=function t(){var e=this,n=e.get("canvas"),r=e.get("renderer"),i=n.get("el"),a="";if("svg"===r){var o=i.cloneNode(!0),s=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),l=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",s);l.replaceChild(o,l.documentElement);var u=(new XMLSerializer).serializeToString(l);a="data:image/svg+xml;charset=utf8,"+encodeURIComponent(u)}else"canvas"===r&&(a=i.toDataURL("image/png"));return a},n.downloadImage=function t(e){var n=this,r=document.createElement("a"),i=n.get("renderer"),a=(e||"chart")+("svg"===i?".svg":".png"),o;n.get("canvas").get("timeline").stopAllAnimations(),setTimeout((function(){var t=n.toDataURL();if(window.Blob&&window.URL&&"svg"!==i){for(var e=t.split(","),o=e[0].match(/:(.*?);/)[1],s=atob(e[1]),l=s.length,u=new Uint8Array(l);l--;)u[l]=s.charCodeAt(l);var c=new Blob([u],{type:o});window.navigator.msSaveBlob?window.navigator.msSaveBlob(c,a):r.addEventListener("click",(function(){r.download=a,r.href=window.URL.createObjectURL(c)}))}else r.addEventListener("click",(function(){r.download=a,r.href=t}));var h=document.createEvent("MouseEvents");h.initEvent("click",!1,!1),r.dispatchEvent(h)}),16)},n.showTooltip=function t(e){var n=this.getViewsByPoint(e),r;n.length&&this.get("tooltipController").showTooltip(e,n);return this},n.lockTooltip=function t(){var e;return this.get("tooltipController").lockTooltip(),this},n.unlockTooltip=function t(){var e;return this.get("tooltipController").unlockTooltip(),this},n.hideTooltip=function t(){var e;return this.get("tooltipController").hideTooltip(),this},n.getTooltipItems=function t(e){var n,r=this.getViewsByPoint(e),i=[];return ZG.each(r,(function(t){var n=t.get("geoms");ZG.each(n,(function(t){var n=t.get("dataArray"),r=[];ZG.each(n,(function(n){var i=t.findPoint(e,n);if(i){var a=t.getTipItems(i);r=r.concat(a)}})),i=i.concat(r)}))})),i},n.destroy=function e(){this.emit("beforedestroy"),clearTimeout(this.get("resizeTimer"));var n=this.get("canvas"),r=this.get("wrapperEl");r.parentNode.removeChild(r),t.prototype.destroy.call(this),n.destroy(),window.removeEventListener("resize",ZG.getWrapBehavior(this,"_initForceFitEvent")),this.emit("afterdestroy")},e}(QG),cX=uX,hX=dn,fX=Kv,pX=Ow,dX=cX,gX=cC,vX=PN,mX=ow,yX={version:gX.version,Animate:pX,Chart:dX,Global:gX,Scale:hX,Shape:vX,Util:mX,G:fX,DomUtil:mX.DomUtil,MatrixUtil:mX.MatrixUtil,PathUtil:mX.PathUtil,track:function(){console.warn("G2 tracks nothing ;-)")}};"undefined"!=typeof window&&(window.G2?console.warn("There are multiple versions of G2. Version "+yX.version+"'s reference is 'window.G2_3'"):window.G2=yX);var xX=yX;Object.defineProperty(O,"__esModule",{value:!0});var _X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bX=xX;function wX(t,e){return t===e?0!==t||0!==e||1/t==1/e:t!=t&&e!=e}function SX(t){return bX.Util.isArray(t)?t.length:bX.Util.isObject(t)?Object.keys(t).length:0}O.default=bX.Util.mix({},bX.Util,{shallowEqual:function t(e,n){if(wX(e,n))return!0;if("object"!==(void 0===e?"undefined":_X(e))||null===e||"object"!==(void 0===n?"undefined":_X(n))||null===n)return!1;if(bX.Util.isArray(e)!==bX.Util.isArray(n))return!1;if(SX(e)!==SX(n))return!1;var r=!0;return bX.Util.each(e,(function(t,e){return!!wX(t,n[e])||(r=!1)})),r},without:function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r={};return bX.Util.each(e,(function(t,e){-1===bX.Util.indexOf(n,e)&&(r[e]=t)})),r},length:SX});var MX={};Object.defineProperty(MX,"__esModule",{value:!0});var CX,AX=PX(O);function PX(t){return t&&t.__esModule?t:{default:t}}MX.default={init:function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments[1],r=arguments[2];AX.default.each(e,(function(t){var e=n[t];void 0!==e&&(AX.default.isArray(e)||(e=[e]),r(e,t))}))},update:function t(e,n,r,i){var a=void 0,o=void 0;AX.default.each(e,(function(t){a=n[t],o=r[t],AX.default.shallowEqual(o,a)||(AX.default.isArray(o)||(o=[o]),i(o,t))}))}},Object.defineProperty(E,"__esModule",{value:!0}),E.Prop=E.Util=void 0;var kX,TX=OX(O),IX,EX=OX(MX);function OX(t){return t&&t.__esModule?t:{default:t}}E.Util=TX.default,E.Prop=EX.default;var LX={};Object.defineProperty(LX,"__esModule",{value:!0}),LX.default={COORD_FUNC_PROPS:["rotate","scale","reflect","transpose"],GEOM_FUNC_PROPS:["position","color","size","shape","opacity","tooltip","style","animate","active","select","sets"]};var DX={},FX={};Object.defineProperty(FX,"__esModule",{value:!0});var BX,RX=zX(l.exports),NX,jX=zX(O);function zX(t){return t&&t.__esModule?t:{default:t}}for(var YX=[{prop:"onPlotMove",event:"plotmove"},{prop:"onPlotEnter",event:"plotenter"},{prop:"onPlotLeave",event:"plotleave"},{prop:"onPlotClick",event:"plotclick"},{prop:"onPlotDblClick",event:"plotdblclick"},{prop:"onItemSelected",event:"itemselected"},{prop:"onItemUnselected",event:"itemunselected"},{prop:"onItemSelectedChange",event:"itemselectedchange"},{prop:"onTooltipChange",event:"tooltip:change"},{prop:"onTooltipShow",event:"tooltip:show"},{prop:"onTooltipHide",event:"tooltip:hide"}],GX=["mouseenter","mousemove","mouseleave","click","dblclick","mousedown","mouseup","touchstart","touchmove","touchend"],XX=["Mouseenter","Mousemove","Mouseleave","Click","Dblclick","Mousedown","Mouseup","Touchstart","Touchmove","Touchend"],VX=["point","area","line","path","interval","schema","polygon","edge","axis-title","axis-label","axis-ticks","axis-line","axis-grid","legend-title","legend-item","legend-marker","legend-text","guide-text","guide-region","guide-line","guide-image","label"],HX=["onPoint","onArea","onLine","onPath","onInterval","onSchema","onPolygon","onEdge","onAxisTitle","onAxisLabel","onAxisTicks","onAxisLine","onAxisGrid","onLegendTitle","onLegendItem","onLegendMarker","onLegendText","onGuideText","onGuideRegion","onGuideLine","onGuideImage","onLabel"],WX=[],qX=0;qX<VX.length;qX+=1)for(var UX=0;UX<GX.length;UX+=1)WX.push({prop:""+HX[qX]+XX[UX],event:VX[qX]+":"+GX[UX]});var ZX=YX.concat(WX);function QX(){return[{prop:"onMouseEnter",event:"mouseenter"},{prop:"onMouseMove",event:"mousemove"},{prop:"onMouseLeave",event:"mouseleave"},{prop:"onClick",event:"click"},{prop:"onDblClick",event:"dblclick"},{prop:"onMouseDown",event:"mousedown"},{prop:"onMouseUp",event:"mouseup"},{prop:"onTouchStart",event:"touchstart"},{prop:"onTouchMove",event:"touchmove"},{prop:"onTouchEnd",event:"touchend"}]}function $X(t){var e=[{prop:"onMouseEnter",event:"mouseenter"},{prop:"onMouseMove",event:"mousemove"},{prop:"onMouseLeave",event:"mouseleave"},{prop:"onClick",event:"click"},{prop:"onDblClick",event:"dblclick"},{prop:"onMouseDown",event:"mousedown"},{prop:"onMouseUp",event:"mouseup"},{prop:"onTouchStart",event:"touchstart"},{prop:"onTouchMove",event:"touchmove"},{prop:"onTouchEnd",event:"touchend"}];return jX.default.map(e,(function(e){var n=e.event;return e.event=t+":"+n,e})),e}var JX=[{prop:"onMouseEnter",event:"mouseenter"},{prop:"onMouseMove",event:"mousemove"},{prop:"onMouseLeave",event:"mouseleave"},{prop:"onClick",event:"click"},{prop:"onDblClick",event:"dblclick"},{prop:"onMouseDown",event:"mousedown"},{prop:"onMouseUp",event:"mouseup"},{prop:"onTouchStart",event:"touchstart"},{prop:"onTouchMove",event:"touchmove"},{prop:"onTouchEnd",event:"touchend"}],KX={onMouseEnter:RX.default.object,onMouseMove:RX.default.object,onMouseLeave:RX.default.object,onClick:RX.default.oneOfType([RX.default.object,RX.default.func]),onDblClick:RX.default.object,onMouseDown:RX.default.object,onMouseUp:RX.default.object,onTouchStart:RX.default.object,onTouchMove:RX.default.object,onTouchEnd:RX.default.object},tV={onMouseEnter:RX.default.func,onMouseMove:RX.default.func,onMouseLeave:RX.default.func,onClick:RX.default.func,onDblClick:RX.default.func,onMouseDown:RX.default.func,onMouseUp:RX.default.func,onTouchStart:RX.default.func,onTouchMove:RX.default.func,onTouchEnd:RX.default.func};function eV(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2];jX.default.each(e,(function(e){var r=e.prop,i=e.event,a=n[r];if(jX.default.isFunction(a))t.on(i,a);else if(jX.default.isObject(a))for(var o in a)void 0!==a[o]&&t.on(o+":"+i,a[o])}))}function nV(t,e){eV(t,JX,e)}function rV(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2],r=arguments[3];jX.default.each(e,(function(e){var i=e.prop,a=e.event,o=n[i],s=r[i],l=void 0;if(!jX.default.shallowEqual(o,s))if(jX.default.isFunction(o)&&jX.default.isFunction(s))t.off(a,o),t.on(a,s);else if(jX.default.isObject(o)&&jX.default.isObject(s)){for(l in o)Object.prototype.hasOwnProperty.call(o,l)&&t.off(l+":"+a,o[l]);for(l in s)Object.prototype.hasOwnProperty.call(s,l)&&t.on(l+":"+a,s[l])}}))}function iV(t,e,n){rV(t,JX,e,n)}function aV(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2];jX.default.each(e,(function(e){var r=e.prop,i=e.event,a=n[r];if(jX.default.isFunction(a))t.off(i,a);else if(jX.default.isObject(a))for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&t.off(o+":"+i,a[o])}))}function oV(t,e){aV(t,JX,e)}FX.default={baseEventObjectTypes:KX,baseEventFuncTypes:tV,genBaseEvents:QX,genItemBaseEvents:$X,bindEvents:eV,bindBaseEvents:nV,updateEvents:rV,updateBaseEvents:iV,unbindEvents:aV,unbindBaseEvents:oV,chartEvents:ZX},Object.defineProperty(DX,"__esModule",{value:!0});var sV=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lV,uV=yV(xX),cV=E,hV,fV=mV(LX),pV,dV=mV(FX),gV,vV=mV(P);function mV(t){return t&&t.__esModule?t:{default:t}}function yV(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function xV(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function _V(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}var bV=fV.default.COORD_FUNC_PROPS,wV=fV.default.GEOM_FUNC_PROPS;DX.default={createChart:function t(e){var n=e.chart,r=n.props.forceFit;n.props.forceFit=!1;var i=new uV.Chart(n.props);return n.props.afterChartInitialized&&n.props.afterChartInitialized(i),r&&i.forceFit(),n.g2Instance=i,i},executeChartConfig:function t(e,n){var r,i=n.chart.props;e.coord("rect",{}),e.source(i.data,i.scale),(n.facet||i.axis)&&n.facet&&!1!==i.axis||e.axis(!1),e.legend(!1),e.tooltip(!1),i.filter&&i.filter.forEach((function(t){e.filter(t[0],t[1])})),dV.default.bindEvents(e,dV.default.chartEvents,i),dV.default.bindBaseEvents(e,i)},coord:function t(e,n){var r=n.coord;if(r&&!r.g2Instance){var i=r.props,a=i.type,o=_V(i,["type"]),s=e.coord(a||"rect",cV.Util.without(o,bV));cV.Prop.init(bV,o,(function(t,e){"reflect"===e?cV.Util.each(t,(function(t){return s[e](t)})):"transpose"===e?!0===t[0]&&s[e].apply(s,xV(t)):s[e].apply(s,xV(t))})),r.g2Instance=s}},createLabel:function t(e,n){if(n&&!n.g2Instance){var r=n.props,i=r.content,a=_V(r,["content"]);i&&(cV.Util.isArray(i)?n.g2Instance=e.label(i[0],i[1],a):n.g2Instance=e.label(i,a))}},createGeom:function t(e,n){if(n.g2Instance)n.label&&this.createLabel(n.g2Instance,n.label);else{var r=n.props,i=e[r.type||"interval"]();r.adjust&&i.adjust(r.adjust),cV.Prop.init(wV,r,(function(t,e){i[e].apply(i,xV(t))})),n.g2Instance=i,this.createLabel(i,n.label)}},geoms:function t(e,n){var r=n.geoms;if(r)for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&this.createGeom(e,r[i])},legends:function t(e,n){var r=n.legends;for(var i in r)if(r[i]){var a=r[i];if(a.g2Instance)return;var o=a.props,s=o.name,l=o.visible,u=_V(o,["name","visible"]),c=l;Object.prototype.hasOwnProperty.call(a.props,"visible")||(c=!0);var h=c?u:c;a.g2Instance=e.legend.apply(e,xV(s?[s,h]:[h]))}},tooltip:function t(e,n){var r=n.tooltip;r&&!r.g2Instance&&(r.g2Instance=e.tooltip(sV({},r.props)))},createAxis:function t(e,n){if(!n.g2Instance){var r=n.props,i=r.name,a=r.visible,o=_V(r,["name","visible"]);a||!Object.prototype.hasOwnProperty.call(n.props,"visible")?n.g2Instance=e.axis(i,o):n.g2Instance=e.axis(i,!1)}},axises:function t(e,n){var r=n.axises;for(var i in r)r[i]&&this.createAxis(e,r[i])},views:function t(e,n){var r=n.views;for(var i in r)r[i]&&this.createView(e,r[i])},createView:function t(e,n){if("Facet"!==n.parentInfo.name){if(n.g2Instance)return n.filter&&n.filter.forEach((function(t){n.g2Instance.filter(t[0],t[1])})),this.coord(n.g2Instance,n),this.axises(n.g2Instance,n),this.geoms(n.g2Instance,n),void this.guide(n.g2Instance,n.guide);var r=n.props,i=r.scale,a=r.data,o=r.instance,s=r.axis,l=r.filter;r.geoms;var u=_V(r,["scale","data","instance","axis","filter","geoms"]),c=void 0;c=o||e.view(sV({},u)),a&&c.source(a,i),i&&c.scale(i),l&&l.forEach((function(t){c.filter(t[0],t[1])})),!0===s||o||c.axis(!1),n.g2Instance=c,this.coord(c,n),this.axises(c,n),this.geoms(c,n),this.guide(c,n.guide)}},facetView:function t(e,n){var r=n.props,i=r.scale,a=r.data,o=r.axis;r.geoms,_V(r,["scale","data","axis","geoms"]),a&&e.source(a,i),i&&e.scale(i),!1===o&&e.axis(!1),this.coord(e,n),this.axises(e,n),this.geoms(e,n),this.guide(e,n.guide),vV.default.mergeView(n,!0)},guide:function t(e,n){if(n){var r=n.elements;for(var i in r)if(r[i]){var a=r[i];if(!a.g2Instance){var o=a.props;o.type;var s=_V(o,["type"]);a.g2Instance=e.guide()[a.type](s)}}}},facet:function t(e,n){var r=this,i=n.facet;if(i&&!i.g2Instance){var a=i.props,o=a.children,s=a.type,l=_V(a,["children","type"]);if(o){var u=n.views,c=null;for(var h in u)if(u[h]&&"Facet"===u[h].parentInfo.name&&u[h].parentInfo.id===i.id){c=u[h];break}c&&(vV.default.mergeView(c,!0),l.eachView=function(t){r.facetView(t,c)},e.facet(s,l))}else e.facet(s,l)}},synchronizeG2Add:function t(e,n){this.coord(e,n),this.axises(e,n),this.legends(e,n),this.tooltip(e,n),this.geoms(e,n),this.facet(e,n),this.views(e,n),this.guide(e,n.guide)},synchronizeG2Views:function t(e,n){var r=n.views;for(var i in r)r[i]&&this.synchronizeG2View(r[i].g2Instance,r[i])},synchronizeG2View:function t(e,n){e.clear(),this.clearViewG2Instance(n);var r=n.props,i=r.scale,a=r.data,o=r.instance,s=r.axis;r.geoms,_V(r,["scale","data","instance","axis","geoms"]),a&&e.source(a,i),i&&e.scale(i),!0===s||o||e.axis(!1),this.coord(e,n),this.axises(e,n),this.geoms(e,n),this.guide(e,n.guide)},clearViewG2Instance:function t(e){e.coord&&delete e.coord.g2Instance,e.axises&&Object.keys(e.axises).forEach((function(t){delete e.axises[t].g2Instance})),e.geoms&&Object.keys(e.geoms).forEach((function(t){delete e.geoms[t].g2Instance,e.geoms[t].label&&delete e.geoms[t].label.g2Instance})),e.guide&&e.guide.elements&&Object.keys(e.guide.elements).forEach((function(t){delete e.guide.elements[t].g2Instance}))}},Object.defineProperty(I,"__esModule",{value:!0});var SV=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},MV=E,CV,AV=LV(LX),PV,kV=LV(DX),TV,IV=LV(P),EV,OV=LV(FX);function LV(t){return t&&t.__esModule?t:{default:t}}function DV(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function FV(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}var BV=AV.default.COORD_FUNC_PROPS,RV=AV.default.GEOM_FUNC_PROPS,NV={needRebuildChart:function t(e){if(null==e.chart.props||null==e.chart.updateProps)return!1;var n=e.chart.props,r=e.chart.updateProps;return!(MV.Util.shallowEqual(n.padding,r.padding)&&MV.Util.shallowEqual(n.background,r.background)&&MV.Util.shallowEqual(n.plotBackground,r.plotBackground)&&MV.Util.shallowEqual(n.pixelRatio,r.pixelRatio))},needReExecute:function t(e){var n=e.geoms;if(null==n)return!1;for(var r in n)if(n[r].props&&n[r].updateProps&&(n[r].props.type!==n[r].updateProps.type||n[r].props.color&&!n[r].updateProps.color||n[r].props.size&&!n[r].updateProps.size||n[r].props.shape&&!n[r].updateProps.shape))return!0;return!1},needRepaint:function t(e){var n=e.chart,r,i;return n.props.data===n.updateProps.data},synchronizeG2Update:function t(e,n){this.updateChart(e,n.chart),this.updateAxises(e,n.axises),this.updateTooltip(e,n),this.updateCoord(e,n),this.updateLegends(e,n.legends),this.updateGeoms(e,n.geoms),this.updateGuide(e,n.guide),this.updateFacet(e,n),this.updateViews(e,n)},updateChart:function t(e,n){if(n){var r=n.props,i=n.updateProps,a=r.width,o=r.height,s=r.animate,l=r.data,u=r.scale,c=i.width,h=i.height,f=i.animate,p=i.data,d=i.scale;l!==p&&e.changeData(p),MV.Util.shallowEqual(u,d)||(MV.Util.isArray(d)?e.scale(d[0],d[1]):e.scale(d)),s!==f&&e.animate(f),a!==c&&o!==h?e.changeSize(c,h):a!==c?e.changeWidth(c):o!==h&&e.changeHeight(h),OV.default.updateEvents(e,OV.default.chartEvents,n.props,i),OV.default.updateBaseEvents(e,n.updateProps,i)}},updateAxis:function t(e,n){var r=n.props,i=r.name,a=r.visible,o=FV(r,["name","visible"]),s=n.updateProps;s.name;var l=s.visible,u=FV(s,["name","visible"]);a!==l&&e.axis(i,!!l),MV.Util.shallowEqual(o,u)||e.axis(i,u)},updateAxises:function t(e,n){if(n)for(var r in n)n[r]&&n[r].props&&n[r].updateProps&&this.updateAxis(e,n[r])},updateTooltip:function t(e,n){if(n.tooltip){var r=n.tooltip.props,i=n.tooltip.updateProps;null==r&&null==i||MV.Util.shallowEqual(r,i)||e.tooltip(SV({},i))}},updateCoord:function t(e,n){var r=n.coord;if(r){var i=r.props,a=r.updateProps;if(null!=i&&null!=a){var o=MV.Util.without(a,BV.concat(["type"]));if(!MV.Util.shallowEqual(i,a)){var s=e.coord(a.type,o);r.g2Instance=s,MV.Prop.init(BV,a,(function(t,e){"reflect"===e?MV.Util.each(t,(function(t){return s[e](t)})):"transpose"===e?!0===t[0]&&s[e].apply(s,DV(t)):s[e].apply(s,DV(t))}))}}}},updateLegend:function t(e,n){var r=n.props,i=n.updateProps;if(i&&!MV.Util.shallowEqual(r,i)){var a=i.name,o=i.visible,s=FV(i,["name","visible"]),l=o?s:o;e.legend.apply(e,DV(a?[a,l]:[l]))}},updateLegends:function t(e,n){if(null!=n)for(var r in n)n[r]&&this.updateLegend(e,n[r])},updateLabel:function t(e,n,r){if(null!=n&&null!=r){var i=n.content,a=FV(n,["content"]),o=r.content,s=FV(r,["content"]);MV.Util.shallowEqual(a,s)&&MV.Util.shallowEqual(i,o)||(MV.Util.isArray(o)?e.label(o[0],o[1],s):e.label(o,s))}},updateGeom:function t(e,n){var r=n.props,i=n.updateProps;if(r&&i&&r.type===i.type){var a=n.g2Instance;if(MV.Util.shallowEqual(r,i))n.label&&this.updateLabel(a,n.label.props,n.label.updateProps);else{var o=r.adjust,s=FV(r,["adjust"]),l=i.adjust,u=FV(i,["adjust"]);(o||l)&&a.adjust(l),MV.Prop.update(RV,s,u,(function(t,e){a[e].apply(a,DV(t))})),n.label&&this.updateLabel(a,n.label.props,n.label.updateProps)}}},updateGeoms:function t(e,n){if(null==n)return!1;for(var r in n)n[r]&&this.updateGeom(e,n[r]);return!1},isTypedGuideChanged:function t(e){return!MV.Util.shallowEqual(e.props,e.updateProps)},updateGuide:function t(e,n){if(n&&n.elements){var r=n.elements,i=!1;for(var a in r)if(r[a]&&(r[a].updateProps||this.isTypedGuideChanged(r[a]))){i=!0;break}i&&(IV.default.mergeGuide(n,!0),e.guide().clear(),kV.default.guide(e,n))}},updateView:function t(e,n){if(n&&n.props&&n.updateProps&&"Facet"!==n.parentInfo.name){var r=n.g2Instance,i=n.props,a=n.updateProps,o=i.scale,s=i.data,l=i.animate,u=i.axis,c=i.filter,h=a.scale,f=a.animate,p=a.data,d=a.axis,g=a.filter;l!==f&&r.animate(f),s!==p&&r.changeData(p),MV.Util.shallowEqual(o,h)||r.scale(h),MV.Util.shallowEqual(c,g)||g.forEach((function(t){r.filter(t[0],t[1])})),u!==d&&r.axis(d),this.updateCoord(r,n),this.updateAxises(r,n.axises),this.updateGeoms(r,n.geoms),this.updateGuide(r,n.guide)}},updateViews:function t(e,n){var r=n.views;if(r)for(var i in r){var a=r[i];a&&(a.needReExecute||this.needReExecute(a))?(kV.default.synchronizeG2View(a.g2Instance,a),r[i].needReExecute=!1):this.updateView(e,a)}},updateFacet:function t(e,n){var r=n.facet;if(r){var i=r.props,a=r.updateProps;if(null!=i&&null!=a){var o=i.type,s=FV(i,["type"]),l=a.type,u=FV(a,["type"]);o===l&&MV.Util.shallowEqual(s,u)||(r.props=a,kV.default.facet(e,n))}}}};I.default=NV;var jV={};function zV(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}Object.defineProperty(jV,"__esModule",{value:!0});var YV={Chart:"deleteChart",Coord:"deleteCoord",Geom:"deleteGeom",Axis:"deleteAxis",Tooltip:"deleteTooltip",Legend:"deleteLegend",Label:"deleteLabel",View:"deleteView",Guide:"deleteGuide",GuideLine:"deleteTypedGuide",GuideImage:"deleteTypedGuide",GuideText:"deleteTypedGuide",GuideRegion:"deleteTypedGuide",GuideHtml:"deleteTypedGuide",GuideArc:"deleteTypedGuide",Facet:"deleteFacet"},GV={Geom:!0,Label:!0,Facet:!0},XV={deleteAxis:function t(e,n,r){var i=n.axises[r].props;e.axis(i.name,!1)},deleteTooltip:function t(e){e.tooltip(!1)},deleteCoord:function t(e){e.coord("rect",{})},deleteLegend:function t(e,n,r){var i=n.legends[r].props;e.legend.apply(e,zV(i.name?[i.name,!1]:[!1]))},deleteGuide:function t(e){e.guide().clear()},deleteView:function t(e,n,r){n.views[r].g2Instance&&(e.removeView(n.views[r].g2Instance),delete n.views[r].g2Instance)},deleteViewElement:function t(e,n,r,i){var a=this;Object.keys(r).forEach((function(t){var e=i[t],r=e.viewId;r&&(GV[e.name]?n.views[r].needReExecute=!0:n.views[r].g2Instance&&a[YV[e.name]]&&a[YV[e.name]](n.views[r].g2Instance,n.views[r],e.id))}))},needReExecute:function t(e,n){for(var r in e)if(GV[n[r].name]&&!n[r].viewId)return!0;return!1},synchronizeG2Delete:function t(e,n,r,i){var a=this;Object.keys(r).forEach((function(t){var r=YV[i[t].name];a[r]&&!i[t].viewId&&a[r](e,n,t)})),this.deleteViewElement(e,n,r,i)}};jV.default=XV,Object.defineProperty(S,"__esModule",{value:!0});var VV=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},HV=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),WV,qV=rH(M),UV,ZV=rH(P),QV,$V=rH(I),JV,KV=rH(jV),tH,eH=rH(DX),nH=E;function rH(t){return t&&t.__esModule?t:{default:t}}function iH(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function aH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var oH=function(){function t(){aH(this,t),this.config={},this.elementInfos={},this.added=!1,this.initedG2=!1,this.updated=!1,this.deleted=!1,this.deleteInfos={}}return HV(t,[{key:"calUpdateFlag",value:function t(e,n){var r=this.elementInfos[n].props;r.children;var i=iH(r,["children"]),a=this.elementInfos[n].updateProps;a.children;var o=iH(a,["children"]);if("Chart"===e||"View"===e){var s=i.data,l=iH(i,["data"]),u=o.data,c=iH(o,["data"]);s===u&&nH.Util.isEqual(l,c)||(this.updated=!0)}else nH.Util.isEqual(i,o)||(this.updated=!0)}},{key:"addElement",value:function t(e,n,r,i,a){!this.chart&&this.initedG2||(this.added=!0,this.elementInfos[n]={id:n,viewId:a,parentInfo:i,name:e,props:VV({},r)},i&&!this.elementInfos[i.id]&&(this.elementInfos[i.id]={id:i.id,name:i.name}),qV.default.addElement(e,this.config,this.elementInfos[n]))}},{key:"updateElement",value:function t(e,n,r){this.elementInfos[n].updateProps=VV({},r),this.calUpdateFlag(e,n)}},{key:"deleteElement",value:function t(e,n){this.chart&&(this.deleteInfos[n]=n,this.deleted=!0)}},{key:"createG2Instance",value:function t(){var e=this.config,n=eH.default.createChart(e,this.elementInfos);return eH.default.executeChartConfig(n,e,this.elementInfos),eH.default.synchronizeG2Add(n,e,this.elementInfos),n.render(),this.chart=n,this.initedG2=!0,this.resetStates(),n}},{key:"destory",value:function t(){this.chart.destroy(),this.chart=null}},{key:"resetStates",value:function t(){var e=this.elementInfos;for(var n in e)e[n].updateProps&&delete e[n].updateProps,this.deleteInfos[n]&&delete e[n];this.added=!1,this.updated=!1,this.deleteInfos={}}},{key:"reExecuteChart",value:function t(){return this.chart.clear(),ZV.default.merge(this.config,this.deleteInfos,this.elementInfos,!0),eH.default.executeChartConfig(this.chart,this.config,this.elementInfos),eH.default.synchronizeG2Add(this.chart,this.config,this.elementInfos),this.chart.repaint(),this.resetStates(),this.chart}},{key:"batchedUpdate",value:function t(){return null==this.chart?null:this.config.chart.props.forceUpdate||$V.default.needRebuildChart(this.config)?(ZV.default.merge(this.config,this.deleteInfos,this.elementInfos,!0),this.chart.destroy(),this.chart="destroy",this.createG2Instance()):KV.default.needReExecute(this.deleteInfos,this.elementInfos)||$V.default.needReExecute(this.config)?(this.reExecuteChart(),this.chart):(this.deleted&&(KV.default.synchronizeG2Delete(this.chart,this.config,this.deleteInfos,this.elementInfos),ZV.default.mergeDelete(this.config,this.deleteInfos,this.elementInfos)),this.added&&eH.default.synchronizeG2Add(this.chart,this.config),this.updated&&$V.default.synchronizeG2Update(this.chart,this.config),(this.added||this.deleted||this.updated)&&this.chart.repaint(),ZV.default.mergeUpdate(this.config,!1),this.resetStates(),this.chart)}}]),t}();S.default=oH;var sH=s(u);Object.defineProperty(w,"__esModule",{value:!0});var lH=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uH=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),cH=c.exports,hH=_H(cH),fH,pH=_H(l.exports),dH,gH=_H(S),vH,mH=_H(sH),yH,xH=_H(x);function _H(t){return t&&t.__esModule?t:{default:t}}function bH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wH(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function SH(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var MH=function(t){function e(t){bH(this,e);var n=wH(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return CH.call(n),n.name="Chart",n.gId=0,n.id=n.createId(),n.g2Processor=new gH.default,n.forceFit=(0,xH.default)((function(){n.chart&&n.chart.forceFit()}),300),n}return SH(e,t),uH(e,[{key:"getChildContext",value:function t(){return{addElement:this.addElement,updateElement:this.updateElement,deleteElement:this.deleteElement,createId:this.createId,getParentInfo:this.getParentInfo,getViewId:this.getViewId}}},{key:"componentDidMount",value:function t(){if(this.addElement(this.name,this.id,lH({},this.props,{container:this.containerWrap})),this.chart=this.g2Processor.createG2Instance(),this.notifyG2Instance(),this.props.forceFit){var e=new mH.default(this.forceFit);e.observe(this.containerWrap),this.observe=e}}},{key:"componentDidUpdate",value:function t(){this.updateElement(this.name,this.id,lH({},this.props,{container:this.containerWrap}));var e=this.g2Processor.batchedUpdate();this.chart!==e&&(this.chart=e,this.notifyG2Instance()),this.props.forceUpdate&&this.chart.forceFit()}},{key:"componentWillUnmount",value:function t(){this.g2Processor.destory(),this.chart=null,this.forceFit&&this.forceFit.cancel(),this.observe&&this.observe.unobserve(this.containerWrap),this.containerWrap=null}},{key:"getG2Instance",value:function t(){return this.chart}},{key:"notifyG2Instance",value:function t(){this.props.onGetG2Instance&&this.props.onGetG2Instance(this.chart)}},{key:"render",value:function t(){return hH.default.createElement("div",{ref:this.refHandle},this.props.children)}}]),e}(cH.Component);MH.propTypes={data:pH.default.oneOfType([pH.default.arrayOf(pH.default.object),pH.default.object]),scale:pH.default.oneOfType([pH.default.object,pH.default.array]),animate:pH.default.bool,width:pH.default.number,height:pH.default.number.isRequired,onGetG2Instance:pH.default.func,forceFit:pH.default.bool,forceUpdate:pH.default.bool},MH.childContextTypes={addElement:pH.default.func,updateElement:pH.default.func,deleteElement:pH.default.func,createId:pH.default.func,getParentInfo:pH.default.func,getViewId:pH.default.func};var CH=function t(){var e=this;this.getViewId=function(){},this.getParentInfo=function(){return{id:e.id,name:e.name}},this.createId=function(){return e.gId+=1,e.gId},this.addElement=function(t,n,r,i,a){return e.g2Processor.addElement(t,n,r,i,a)},this.updateElement=function(t,n,r,i,a){e.g2Processor.updateElement(t,n,r,i,a)},this.deleteElement=function(t,n,r){e.g2Processor.deleteElement(t,n,r)},this.refHandle=function(t){e.containerWrap||(e.containerWrap=t)}};w.default=MH;var AH={},PH,kH=function(){};Object.defineProperty(AH,"__esModule",{value:!0});var TH=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),IH,EH=BH(c.exports),OH,LH=BH(l.exports),DH,FH;function BH(t){return t&&t.__esModule?t:{default:t}}function RH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function NH(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function jH(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(0,BH(kH).default)(EH.default.PureComponent,"`React.PureComponent` needs React >=15.3.0");var zH=function(t){function e(){return RH(this,e),NH(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return jH(e,t),TH(e,[{key:"render",value:function t(){var e=this.props,n=e.width,r=e.height,i=e.placeholder;return EH.default.createElement("div",{style:{width:n,height:r}},i)}}]),e}(EH.default.PureComponent||EH.default.Component);zH.propTypes={width:LH.default.oneOfType([LH.default.string,LH.default.number]),height:LH.default.oneOfType([LH.default.string,LH.default.number]),placeholder:LH.default.node},zH.defaultProps={width:"100%",placeholder:EH.default.createElement("div",{style:{position:"relative",top:"48%",textAlign:"center"}},"\u6682\u65e0\u6570\u636e")},AH.default=zH;var YH={};Object.defineProperty(YH,"__esModule",{value:!0});var GH=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),XH,VH=HH(c.exports);function HH(t){return t&&t.__esModule?t:{default:t}}function WH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qH(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function UH(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var ZH=function(t){function e(t){WH(this,e);var n=qH(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.state={hasError:!1},n}return UH(e,t),GH(e,[{key:"shouldComponentUpdate",value:function t(){return this.state.hasError&&this.setState({hasError:!1}),!0}},{key:"componentDidCatch",value:function t(){this.setState({hasError:!0})}},{key:"unstable_handleError",value:function t(){this.setState({hasError:!0})}},{key:"render",value:function t(){return this.state.hasError?VH.default.createElement("h1",null,"bizcharts error."):this.props.children}}]),e}(VH.default.Component);YH.default=ZH,Object.defineProperty(b,"__esModule",{value:!0});var QH=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$H=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),JH,KH=oW(c.exports),tW,eW=oW(w),nW,rW=oW(AH),iW,aW=oW(YH);function oW(t){return t&&t.__esModule?t:{default:t}}function sW(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function lW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uW(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function cW(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function hW(t){var e=!0;return(null==t||0===t.length||t.rows&&0===t.rows.length)&&(e=!1),!!e}var fW=function(t){function e(){var t,n,r,i;lW(this,e);for(var a=arguments.length,o=Array(a),s=0;s<a;s++)o[s]=arguments[s];return n=r=uW(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(o))),r._refCallback=function(t){t&&(r.chart=t.getG2Instance())},r.hasViewSource=function(){var t=!1;return KH.default.Children.map(r.props.children,(function(e){!t&&e&&"function"==typeof e.type&&"View"===e.type.name&&e.props.data&&hW(e.props.data)&&(t=!0)})),t},uW(r,i=n)}return cW(e,t),$H(e,[{key:"getG2Instance",value:function t(){return this.chart}},{key:"render",value:function t(){var e=this.props,n=e.data,r=e.width,i=e.height,a=e.placeholder,o=e.className,s=e.style;return KH.default.createElement("div",{className:o,style:s},hW(n)||this.hasViewSource()||!a?KH.default.createElement(eW.default,QH({ref:this._refCallback},this.props)):KH.default.createElement(rW.default,{width:r,height:i,placeholder:!0===a?void 0:a}))}}]),e}(KH.default.PureComponent||KH.default.Component),pW=function(t){function e(){return lW(this,e),uW(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return cW(e,t),$H(e,[{key:"render",value:function t(){var e=this.props,n=e.widthErrorBoundary,r=sW(e,["widthErrorBoundary"]);return!1===n?KH.default.createElement(fW,r):KH.default.createElement(aW.default,null,KH.default.createElement(fW,r))}}]),e}(KH.default.Component);b.default=pW;var dW={},gW={};Object.defineProperty(gW,"__esModule",{value:!0});var vW=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),mW=c.exports,yW=bW(mW),xW,_W=bW(l.exports);function bW(t){return t&&t.__esModule?t:{default:t}}function wW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function SW(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function MW(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var CW=function(t){function e(t,n){wW(this,e);var r=SW(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return r.getParentInfo=function(){return{id:r.id,name:r.name}},r.name=n,r}return MW(e,t),vW(e,[{key:"getChildContext",value:function t(){return{addElement:this.context.addElement,updateElement:this.context.updateElement,deleteElement:this.context.deleteElement,createId:this.context.createId,getParentInfo:this.getParentInfo,getViewId:this.context.getViewId}}},{key:"componentWillMount",value:function t(){var e=this.context;this.id=e.createId(),e.addElement(this.name,this.id,this.props,e.getParentInfo(),e.getViewId())}},{key:"componentWillReceiveProps",value:function t(e){this.context.updateElement(this.name,this.id,e,this.context.getParentInfo(),this.context.getViewId())}},{key:"componentWillUnmount",value:function t(){this.context.deleteElement(this.name,this.id)}},{key:"render",value:function t(){var e=this.props.children;return e?e.length&&(e=yW.default.createElement("div",null,e)):e=null,e}}]),e}(mW.Component);function AW(t){var e=function(e){function n(e){return wW(this,n),SW(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e,t))}return MW(n,e),vW(n,[{key:"getChildContext",value:function t(){return{addElement:this.context.addElement,updateElement:this.context.updateElement,deleteElement:this.context.deleteElement,createId:this.context.createId,getParentInfo:this.getParentInfo,getViewId:this.context.getViewId}}}]),n}(CW);return e.contextTypes={addElement:_W.default.func,updateElement:_W.default.func,deleteElement:_W.default.func,createId:_W.default.func,getParentInfo:_W.default.func,getViewId:_W.default.func},e.childContextTypes={addElement:_W.default.func,updateElement:_W.default.func,deleteElement:_W.default.func,createId:_W.default.func,getParentInfo:_W.default.func,getViewId:_W.default.func},e.displayName=t,e}CW.contextTypes={addElement:_W.default.func,updateElement:_W.default.func,deleteElement:_W.default.func,createId:_W.default.func,getParentInfo:_W.default.func,getViewId:_W.default.func},CW.childContextTypes={addElement:_W.default.func,updateElement:_W.default.func,deleteElement:_W.default.func,createId:_W.default.func,getParentInfo:_W.default.func,getViewId:_W.default.func},CW.generateBaseTypedComponent=AW,gW.default=CW,Object.defineProperty(dW,"__esModule",{value:!0});var PW,kW=TW(gW);function TW(t){return t&&t.__esModule?t:{default:t}}dW.default=kW.default.generateBaseTypedComponent("Coord");var IW={};Object.defineProperty(IW,"__esModule",{value:!0});var EW,OW=LW(gW);function LW(t){return t&&t.__esModule?t:{default:t}}IW.default=OW.default.generateBaseTypedComponent("Axis");var DW={};Object.defineProperty(DW,"__esModule",{value:!0});var FW,BW=jW(gW),RW,NW=jW(l.exports);function jW(t){return t&&t.__esModule?t:{default:t}}function zW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function YW(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function GW(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var XW=function(t){function e(t){return zW(this,e),YW(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,"Legend"))}return GW(e,t),e}(BW.default);XW.contextTypes={addElement:NW.default.func,updateElement:NW.default.func,deleteElement:NW.default.func,createId:NW.default.func,getParentInfo:NW.default.func,getViewId:NW.default.func},XW.childContextTypes={addElement:NW.default.func,updateElement:NW.default.func,deleteElement:NW.default.func,createId:NW.default.func,getParentInfo:NW.default.func,getViewId:NW.default.func},XW.defaultProps={visible:!0},DW.default=XW;var VW={};Object.defineProperty(VW,"__esModule",{value:!0});var HW,WW=qW(gW);function qW(t){return t&&t.__esModule?t:{default:t}}VW.default=WW.default.generateBaseTypedComponent("Tooltip");var UW={},ZW=ow,QW,$W={splitPoints:function t(e){var n=[],r=e.x,i=e.y;return i=ZW.isArray(i)?i:[i],ZW.each(i,(function(t,e){var i={x:ZW.isArray(r)?r[e]:r,y:t};n.push(i)})),n},addFillAttrs:function t(e,n){n.color&&(e.fill=n.color),ZW.isNumber(n.opacity)&&(e.opacity=e.fillOpacity=n.opacity)},addStrokeAttrs:function t(e,n){n.color&&(e.stroke=n.color),ZW.isNumber(n.opacity)&&(e.opacity=e.strokeOpacity=n.opacity)}},JW=ow,KW=$W,tq=cC,eq=PN,nq,rq=Kv.Marker,iq=JW.PathUtil,aq=["circle","square","bowtie","diamond","hexagon","triangle","triangle-down"],oq=["cross","tick","plus","hyphen","line","pointerLine","pointerArrow"],sq=Math.sqrt(3);function lq(t){var e=tq.shape.point,n=JW.mix({},e,t.style);return KW.addFillAttrs(n,t),JW.isNumber(t.size)&&(n.radius=t.size),n}function uq(t){var e=tq.shape.hollowPoint,n=JW.mix({},e,t.style);return KW.addStrokeAttrs(n,t),JW.isNumber(t.size)&&(n.radius=t.size),n}function cq(t){var e=t.points[0].x,n=t.points[0].y,r=t.size[0],i=t.size[1],a;return[["M",e-.5*r,n-.5*i],["L",e+.5*r,n-.5*i],["L",e+.5*r,n+.5*i],["L",e-.5*r,n+.5*i],["z"]]}JW.mix(rq.Symbols,{hexagon:function t(e,n,r){var i=r/2*sq;return[["M",e,n-r],["L",e+i,n-r/2],["L",e+i,n+r/2],["L",e,n+r],["L",e-i,n+r/2],["L",e-i,n-r/2],["Z"]]},bowtie:function t(e,n,r){var i=r-1.5;return[["M",e-r,n-i],["L",e+r,n+i],["L",e+r,n-i],["L",e-r,n+i],["Z"]]},cross:function t(e,n,r){return[["M",e-r,n-r],["L",e+r,n+r],["M",e+r,n-r],["L",e-r,n+r]]},tick:function t(e,n,r){return[["M",e-r/2,n-r],["L",e+r/2,n-r],["M",e,n-r],["L",e,n+r],["M",e-r/2,n+r],["L",e+r/2,n+r]]},plus:function t(e,n,r){return[["M",e-r,n],["L",e+r,n],["M",e,n-r],["L",e,n+r]]},hyphen:function t(e,n,r){return[["M",e-r,n],["L",e+r,n]]},line:function t(e,n,r){return[["M",e,n-r],["L",e,n+r]]}}),eq.registerFactory("point",{defaultShapeType:"hollowCircle",getActiveCfg:function t(e,n){var r=n.radius,i;return{radius:r+1,shadowBlur:r,shadowColor:i=e&&(0===e.indexOf("hollow")||-1!==JW.indexOf(oq,e))||!e?n.stroke||n.strokeStyle:n.fill||n.fillStyle,stroke:i,strokeOpacity:1,lineWidth:1}},getDefaultPoints:function t(e){return KW.splitPoints(e)}}),eq.registerShape("point","rect",{draw:function t(e,n){var r=lq(e),i=cq(e),a;return i=this.parsePath(i),n.addShape("path",{attrs:JW.mix(r,{path:i})})},getMarkerCfg:function t(e){var n=lq(e);return n.symbol="rect",n.radius=4.5,n}}),JW.each(aq,(function(t){eq.registerShape("point",t,{draw:function e(n,r){var i=lq(n);return r.addShape("Marker",{attrs:JW.mix(i,{symbol:t,x:n.x,y:n.y})})},getMarkerCfg:function e(n){var r=lq(n);return r.symbol=t,r.radius=4.5,r}}),eq.registerShape("point","hollow"+JW.upperFirst(t),{draw:function e(n,r){var i=uq(n);return r.addShape("Marker",{attrs:JW.mix(i,{symbol:t,x:n.x,y:n.y})})},getMarkerCfg:function e(n){var r=uq(n);return r.symbol=t,r.radius=4.5,r}})})),JW.each(oq,(function(t){eq.registerShape("point",t,{draw:function e(n,r){var i=uq(n);return r.addShape("Marker",{attrs:JW.mix(i,{symbol:t,x:n.x,y:n.y})})},getMarkerCfg:function e(n){var r=uq(n);return r.symbol=t,r.radius=4.5,r}})})),eq.registerShape("point","image",{draw:function t(e,n){return e.points=this.parsePoints(e.points),n.addShape("image",{attrs:{x:e.points[0].x-e.size/2,y:e.points[0].y-e.size,width:e.size,height:e.size,img:e.shape[1]}})}});var hq={};function fq(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,pq(t,e)}function pq(t,e){return(pq=Object.setPrototypeOf||function t(e,n){return e.__proto__=n,e})(t,e)}eq.registerShape("point","path",{draw:function t(e,n){var r=JW.mix({},uq(e),lq(e)),i=e.shape[1],a=e.size||10,o;if(hq[i])o=hq[i];else{var s=iq.parsePathString(i),l=JW.flatten(s).filter((function(t){return JW.isNumber(t)}));hq[i]=o={range:Math.max.apply(null,l)-Math.min.apply(null,l),segments:s}}var u=a/o.range,c=[];r.rotate&&(c.push(["r",r.rotate/180*Math.PI]),delete r.rotate);var h=n.addShape("path",{attrs:JW.mix(r,{path:o.segments})});return c.push(["s",u,u],["t",e.x,e.y]),h.transform(c),h}});var dq=yj,gq=ow,vq=function(t){function e(){return t.apply(this,arguments)||this}fq(e,t);var n=e.prototype;return n.getDefaultCfg=function e(){var n=t.prototype.getDefaultCfg.call(this);return n.type="point",n.shapeType="point",n.generatePoints=!0,n},n.drawPoint=function t(e,n,r,i){var a=this,o=e.shape,s=a.getDrawCfg(e),l;if(a._applyViewThemeShapeStyle(s,o,r),gq.isArray(e.y)){var u=a.hasStack();gq.each(e.y,(function(t,e){s.y=t,s.yIndex=e,u&&0===e||(l=r.drawShape(o,s,n),a.appendShapeInfo(l,i+e))}))}else gq.isNil(e.y)||(l=r.drawShape(o,s,n),a.appendShapeInfo(l,i))},e}(dq),mq=function(t){function e(){return t.apply(this,arguments)||this}var n;return fq(e,t),e.prototype.getDefaultCfg=function e(){var n=t.prototype.getDefaultCfg.call(this);return n.hasDefaultAdjust=!0,n.adjusts=[{type:"jitter"}],n},e}(vq),yq=function(t){function e(){return t.apply(this,arguments)||this}var n;return fq(e,t),e.prototype.getDefaultCfg=function e(){var n=t.prototype.getDefaultCfg.call(this);return n.hasDefaultAdjust=!0,n.adjusts=[{type:"stack"}],n},e}(vq);vq.Jitter=mq,vq.Stack=yq,dq.Point=vq,dq.PointJitter=mq,dq.PointStack=yq;var xq=vq,_q=ow,bq=cC,wq={splitData:function t(e){var n=this.get("viewTheme")||bq;if(!e.length)return[];var r=[],i=[],a,o=this.getYScale().field,s;return _q.each(e,(function(t){s=t._origin?t._origin[o]:t[o],n.connectNulls?_q.isNil(s)||i.push(t):_q.isArray(s)&&_q.isNil(s[0])||_q.isNil(s)?i.length&&(r.push(i),i=[]):i.push(t)})),i.length&&r.push(i),r}};function Sq(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Mq(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Cq(t,e)}function Cq(t,e){return(Cq=Object.setPrototypeOf||function t(e,n){return e.__proto__=n,e})(t,e)}var Aq=yj,Pq=wq,kq=ow,Tq=function(t){Mq(n,t);var e=n.prototype;function n(e){var n;return n=t.call(this,e)||this,kq.assign(Sq(n),Pq),n}return e.getDefaultCfg=function e(){var n=t.prototype.getDefaultCfg.call(this);return n.type="path",n.shapeType="line",n},e.getDrawCfg=function e(n){var r=t.prototype.getDrawCfg.call(this,n);return r.isStack=this.hasStack(),r},e.draw=function t(e,n,r,i){var a=this,o=this.splitData(e),s=this.getDrawCfg(e[0]);a._applyViewThemeShapeStyle(s,s.shape,r),s.origin=e,kq.each(o,(function(t,e){if(!kq.isEmpty(t)){s.splitedIndex=e,s.points=t;var o=r.drawShape(s.shape,s,n);a.appendShapeInfo(o,i+e)}}))},n}(Aq);Aq.Path=Tq;var Iq=Tq,Eq=ow,Oq=QR,Lq=$W,Dq=PN,Fq=cC,Bq=[1,1],Rq=[5.5,1];function Nq(t){var e=Fq.shape.line,n=Eq.mix({},e,t.style);return Lq.addStrokeAttrs(n,t),t.size&&(n.lineWidth=t.size),n}function jq(t){var e=Fq.shape.line,n=Eq.mix({lineWidth:2,radius:6},e,t.style);return Lq.addStrokeAttrs(n,t),n}function zq(t,e,n,r){for(var i=[],a=r.isStack,o=[],s=0;s<t.length;s++){var l=t[s],u=Lq.splitPoints(l);o.push(u[0]),i.push(u[1])}var c=Yq(i,e,n,r),h=Yq(o,e,n,r);return a?c:c.concat(h)}function Yq(t,e,n,r){var i;if(e){var a=r.constraint;n&&t.length&&t.push({x:t[0].x,y:t[0].y}),i=Oq.getSplinePath(t,!1,a)}else i=Oq.getLinePath(t,!1),n&&i.push(["Z"]);return i}function Gq(t,e){var n,r=t.points,i=t.isInCircle,a=r[0];return n=Eq.isArray(a.y)?zq(r,e,i,t):Yq(r,e,i,t)}function Xq(t,e){var n=[];return Eq.each(t,(function(r,i){var a=t[i+1];n.push(r),a&&(n=n.concat(e(r,a)))})),n}function Vq(t){var e=[];return Eq.each(t,(function(t,n){var r=0===n?["M",t.x,t.y]:["L",t.x,t.y];e.push(r)})),e}function Hq(t,e){var n;return Vq(Xq(t.points,e))}function Wq(t,e,n){return[["M",t-n,e],["L",t+n,e]]}function qq(t,e,n){return[["M",t-n,e],["A",n/2,n/2,0,1,1,t,e],["A",n/2,n/2,0,1,0,t+n,e]]}function Uq(t,e){return Eq.mix({symbol:e?qq:Wq},jq(t))}function Zq(t,e){return Eq.mix({symbol:e},jq(t))}function Qq(t,e,n){var r=e.points[0];return n.addShape("circle",{attrs:Eq.mix({x:r.x,y:r.y,r:2,fill:e.color},e.style)})}var $q=Dq.registerFactory("line",{defaultShapeType:"line",getActiveCfg:function t(e,n){var r;return{lineWidth:(n.lineWidth||0)+1}},getDefaultPoints:function t(e){return Lq.splitPoints(e)},drawShape:function t(e,n,r){var i=this.getShape(e),a;return(a=1===n.points.length&&Fq.showSinglePoint?Qq(this,n,r):i.draw(n,r))&&(a.set("origin",n.origin),a._id=n.splitedIndex?n._id+n.splitedIndex:n._id,a.name=this.name),a}});function Jq(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Kq(t,e)}function Kq(t,e){return(Kq=Object.setPrototypeOf||function t(e,n){return e.__proto__=n,e})(t,e)}Dq.registerShape("line","line",{draw:function t(e,n){var r=Nq(e),i=Gq(e,!1);return n.addShape("path",{attrs:Eq.mix(r,{path:i})})},getMarkerCfg:function t(e){return Uq(e)}}),Dq.registerShape("line","dot",{draw:function t(e,n){var r=Nq(e),i=Gq(e,!1);return n.addShape("path",{attrs:Eq.mix(r,{path:i,lineDash:Bq})})},getMarkerCfg:function t(e){var n=Uq(e,!1);return n.lineDash=Bq,n}}),Dq.registerShape("line","dash",{draw:function t(e,n){var r=Nq(e),i=Gq(e,!1);return n.addShape("path",{attrs:Eq.mix({path:i,lineDash:Rq},r)})},getMarkerCfg:function t(e){var n=Uq(e,!1);return n.lineDash=n.lineDash||Rq,n}}),Dq.registerShape("line","smooth",{draw:function t(e,n){var r=Nq(e),i=this._coord;e.constraint=[[i.start.x,i.end.y],[i.end.x,i.start.y]];var a=Gq(e,!0);return n.addShape("path",{attrs:Eq.mix(r,{path:a})})},getMarkerCfg:function t(e){return Uq(e,!0)}}),Dq.registerShape("line","hv",{draw:function t(e,n){var r=Nq(e),i=Hq(e,(function(t,e){var n=[];return n.push({x:e.x,y:t.y}),n}));return n.addShape("path",{attrs:Eq.mix(r,{path:i})})},getMarkerCfg:function t(e){return Zq(e,(function(t,e,n){return[["M",t-n-1,e-2.5],["L",t,e-2.5],["L",t,e+2.5],["L",t+n+1,e+2.5]]}))}}),Dq.registerShape("line","vh",{draw:function t(e,n){var r=Nq(e),i=Hq(e,(function(t,e){var n=[];return n.push({x:t.x,y:e.y}),n}));return n.addShape("path",{attrs:Eq.mix(r,{path:i})})},getMarkerCfg:function t(e){return Zq(e,(function(t,e,n){return[["M",t-n-1,e+2.5],["L",t,e+2.5],["L",t,e-2.5],["L",t+n+1,e-2.5]]}))}}),Dq.registerShape("line","hvh",{draw:function t(e,n){var r=Nq(e),i=Hq(e,(function(t,e){var n=[],r=(e.x-t.x)/2+t.x;return n.push({x:r,y:t.y}),n.push({x:r,y:e.y}),n}));return n.addShape("path",{attrs:Eq.mix(r,{path:i})})},getMarkerCfg:function t(e){return Zq(e,(function(t,e,n){return[["M",t-(n+1),e+2.5],["L",t-n/2,e+2.5],["L",t-n/2,e-2.5],["L",t+n/2,e-2.5],["L",t+n/2,e+2.5],["L",t+n+1,e+2.5]]}))}}),Dq.registerShape("line","vhv",{draw:function t(e,n){var r=Nq(e),i=Hq(e,(function(t,e){var n=[],r=(e.y-t.y)/2+t.y;return n.push({x:t.x,y:r}),n.push({x:e.x,y:r}),n}));return n.addShape("path",{attrs:Eq.mix(r,{path:i})})},getMarkerCfg:function t(e){return Zq(e,(function(t,e){return[["M",t-5,e+2.5],["L",t-5,e],["L",t,e],["L",t,e-3],["L",t,e+3],["L",t+6.5,e+3]]}))}}),$q.spline=$q.smooth;var tU=yj,eU,nU=function(t){function e(){return t.apply(this,arguments)||this}var n;return Jq(e,t),e.prototype.getDefaultCfg=function e(){var n=t.prototype.getDefaultCfg.call(this);return n.type="line",n.sortable=!0,n},e}(Iq),rU=function(t){function e(){return t.apply(this,arguments)||this}var n;return Jq(e,t),e.prototype.getDefaultCfg=function e(){var n=t.prototype.getDefaultCfg.call(this);return n.hasDefaultAdjust=!0,n.adjusts=[{type:"stack"}],n},e}(nU);nU.Stack=rU,tU.Line=nU,tU.LineStack=rU;var iU=nU,aU=cC,oU=ow;function sU(t,e){var n=t.length;oU.isString(t[0])&&(t=t.map((function(t){return e.translate(t)})));for(var r=t[1]-t[0],i=2;i<n;i++){var a=t[i]-t[i-1];r>a&&(r=a)}return r}var lU,uU={getDefaultSize:function t(){var e=this.get("defaultSize"),n=this.get("viewTheme")||aU;if(!e){var r=this.get("coord"),i=this.getXScale(),a=i.values,o=this.get("dataArray"),s;if(i.isLinear&&a.length>1){a.sort();var l=sU(a,i);s=(i.max-i.min)/l,a.length>s&&(s=a.length)}else s=a.length;var u=i.range,c=1/s,h=1;if(this.isInCircle()?h=r.isTransposed&&s>1?n.widthRatio.multiplePie:n.widthRatio.rose:(i.isLinear&&(c*=u[1]-u[0]),h=n.widthRatio.column),c*=h,this.hasAdjust("dodge")){var f=this._getDodgeCfg(o),p=f.dodgeCount,d=f.dodgeRatio;c/=p,d>0&&(c=d*c/h)}e=c,this.set("defaultSize",e)}return e},_getDodgeCfg:function t(e){var n=this.get("adjusts"),r,i,a=e.length;if(oU.each(n,(function(t){"dodge"===t.type&&(r=t.dodgeBy,i=t.dodgeRatio)})),r){var o=oU.Array.merge(e),s;a=oU.Array.values(o,r).length}return{dodgeCount:a,dodgeRatio:i}},getDimWidth:function t(e){var n=this.get("coord"),r=n.convertPoint({x:0,y:0}),i=n.convertPoint({x:"x"===e?1:0,y:"x"===e?0:1}),a=0;return r&&i&&(a=Math.sqrt(Math.pow(i.x-r.x,2)+Math.pow(i.y-r.y,2))),a},_getWidth:function t(){var e=this.get("coord"),n;return n=this.isInCircle()&&!e.isTransposed?(e.endAngle-e.startAngle)*e.radius:this.getDimWidth("x")},_toNormalizedSize:function t(e){var n;return e/this._getWidth()},_toCoordSize:function t(e){var n;return this._getWidth()*e},getNormalizedSize:function t(e){var n=this.getAttrValue("size",e);return n=oU.isNil(n)?this.getDefaultSize():this._toNormalizedSize(n)},getSize:function t(e){var n=this.getAttrValue("size",e);if(oU.isNil(n)){var r=this.getDefaultSize();n=this._toCoordSize(r)}return n}},cU=ow,hU=PN,fU=QR,pU=$W,dU=cC,gU=Kv,vU=cU.PathUtil;function mU(t,e){var n=t.x,r=t.y,i=t.y0,a=t.size,o=i,s=r,l,u;cU.isArray(r)&&(s=r[1],o=r[0]),cU.isArray(n)?(l=n[0],u=n[1]):(l=n-a/2,u=n+a/2);var c=[];return c.push({x:l,y:o},{x:l,y:s}),e?c.push({x:u,y:(s+o)/2}):c.push({x:u,y:s},{x:u,y:o}),c}function yU(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];if(r){var i=0===n?"M":"L";e.push([i,r.x,r.y])}}var a=t[0];return e.push(["L",a.x,a.y]),e.push(["z"]),e}function xU(t){var e=t.x,n=t.y,r=t.y0,i=[];return cU.isArray(n)?cU.each(n,(function(t,n){i.push({x:cU.isArray(e)?e[n]:e,y:t})})):i.push({x:e,y:n},{x:e,y:r}),i}function _U(t){var e=t.x,n=cU.isArray(t.y)?t.y[1]:t.y,r=cU.isArray(t.y)?t.y[0]:t.y0,i=t.size,a=[];return a.push({x:e-i/2,y:n},{x:e+i/2,y:n},{x:e,y:n},{x:e,y:r},{x:e-i/2,y:r},{x:e+i/2,y:r}),a}function bU(t){var e=[];return e.push(["M",t[0].x,t[0].y],["L",t[1].x,t[1].y],["M",t[2].x,t[2].y],["L",t[3].x,t[3].y],["M",t[4].x,t[4].y],["L",t[5].x,t[5].y]),e}function wU(t){var e=dU.shape.interval,n=cU.mix({},e,t.style);return pU.addFillAttrs(n,t),t.color&&(n.stroke=n.stroke||t.color),n}function SU(t){var e=dU.shape.hollowInterval,n=cU.mix({},e,t.style);return pU.addStrokeAttrs(n,t),n}function MU(t,e){var n=[],r=t.points,i=t.nextPoints;return cU.isNil(i)?e?n.push(["M",r[0].x,r[0].y],["L",r[1].x,r[1].y],["L",r[2].x,r[2].y],["L",r[3].x,r[3].y],["Z"]):n.push(["M",r[0].x,r[0].y],["L",r[1].x,r[1].y],["L",r[2].x,r[2].y],["L",r[2].x,r[2].y],["Z"]):n.push(["M",r[0].x,r[0].y],["L",r[1].x,r[1].y],["L",i[1].x,i[1].y],["L",i[0].x,i[0].y],["Z"]),n}function CU(t,e){var n=e.getRadius(),r,i,a,o=n*e.innerRadius,s,l;return!cU.isArray(t.x)&&cU.isArray(t.y)&&(t.x=[t.x,t.x]),cU.isArray(t.x)?(s={x:t.x[0],y:t.y[0]},l={x:t.x[1],y:t.y[1]},i=fU.getPointAngle(e,s),(a=fU.getPointAngle(e,l))<=i&&(a+=2*Math.PI)):(l=t,i=e.startAngle,a=fU.getPointAngle(e,l)),{r:n,ir:o,startAngle:i,endAngle:a}}function AU(t,e){var n,r=e.geom.get("coord"),i=e.point,a=7.5,o;if(r&&"theta"===r.type){var s=CU(i,r),l=(s.endAngle-s.startAngle)/2+s.startAngle,u,c;o={transform:[["t",a*Math.cos(l),a*Math.sin(l)]]}}return cU.mix({},o)}function PU(t,e,n,r){return 0===e?[[t+.5*n/Math.PI/2,r/2],[t+.5*n/Math.PI,r],[t+n/4,r]]:1===e?[[t+.5*n/Math.PI/2*(Math.PI-2),r],[t+.5*n/Math.PI/2*(Math.PI-1),r/2],[t+n/4,0]]:2===e?[[t+.5*n/Math.PI/2,-r/2],[t+.5*n/Math.PI,-r],[t+n/4,-r]]:[[t+.5*n/Math.PI/2*(Math.PI-2),-r],[t+.5*n/Math.PI/2*(Math.PI-1),-r/2],[t+n/4,0]]}function kU(t,e,n,r,i,a,o){for(var s=2*Math.ceil(2*t/n*4),l=[];r<2*-Math.PI;)r+=2*Math.PI;for(;r>0;)r-=2*Math.PI;var u=a-t+(r=r/Math.PI/2*n)-2*t;l.push(["M",u,e]);for(var c=0,h=0;h<s;++h){var f,p=PU(h*n/4,h%4,n,i);l.push(["C",p[0][0]+u,-p[0][1]+e,p[1][0]+u,-p[1][1]+e,p[2][0]+u,-p[2][1]+e]),h===s-1&&(c=p[2][0])}return l.push(["L",c+u,o+t]),l.push(["L",u,o+t]),l.push(["L",u,e]),l}function TU(t,e,n,r,i,a,o,s){for(var l=o.getBBox(),u=l.maxX-l.minX,c=l.maxY-l.minY,h=5e3,f=300,p=0;p<r;p++){var d=a.addShape("path",{attrs:{path:kU(s,l.minY+c*n,u/4,0,u/64,t,e),fill:i[p],clip:o}});"canvas"===dU.renderer&&d.animate({transform:[["t",u/2,0]],repeat:!0},h-p*f)}}hU.registerFactory("interval",{defaultShapeType:"rect",getActiveCfg:function t(e,n){var r,i;return!e||cU.inArray(["rect","funnel","pyramid"],e)?{fillOpacity:(n.fillOpacity||n.opacity||1)-.15}:{lineWidth:(n.lineWidth||0)+1}},getDefaultPoints:function t(e){return mU(e)},getSelectedCfg:function t(e,n){return AU(e,n)}}),hU.registerShape("interval","rect",{draw:function t(e,n){var r=wU(e),i=yU(e.points);return i=this.parsePath(i),n.addShape("path",{attrs:cU.mix(r,{path:i})})},getMarkerCfg:function t(e){var n=wU(e),r=e.isInCircle;return cU.mix({symbol:r?"circle":"square",radius:r?4.5:4},n)}}),hU.registerShape("interval","hollowRect",{draw:function t(e,n){var r=SU(e),i=yU(e.points);return i=this.parsePath(i),n.addShape("path",{attrs:cU.mix(r,{path:i})})},getMarkerCfg:function t(e){var n=SU(e),r=e.isInCircle;return cU.mix({symbol:r?"circle":"square",radius:r?4.5:4},n)}}),hU.registerShape("interval","line",{getPoints:function t(e){return xU(e)},draw:function t(e,n){var r=SU(e);r.lineWidth=e.size||1;var i=yU(e.points);return i=this.parsePath(i),n.addShape("path",{attrs:cU.mix(r,{path:i})})},getMarkerCfg:function t(e){var n=SU(e);return cU.mix({symbol:"line",radius:5},n)}}),hU.registerShape("interval","tick",{getPoints:function t(e){return _U(e)},draw:function t(e,n){var r=SU(e);r.lineWidth||(r.lineWidth=2);var i=bU(e.points);return i=this.parsePath(i),n.addShape("path",{attrs:cU.mix(r,{path:i})})},getMarkerCfg:function t(e){var n=SU(e);return cU.mix({symbol:"tick",radius:5},n)}}),hU.registerShape("interval","funnel",{getPoints:function t(e){return e.size=2*e.size,mU(e)},draw:function t(e,n){var r=wU(e),i=MU(e,!0);return i=this.parsePath(i),n.addShape("path",{attrs:cU.mix(r,{path:i})})},getMarkerCfg:function t(e){var n=wU(e);return cU.mix({symbol:"square",radius:4},n)}}),hU.registerShape("interval","pyramid",{getPoints:function t(e){return e.size=2*e.size,mU(e,!0)},draw:function t(e,n){var r=wU(e),i=MU(e,!1);return i=this.parsePath(i),n.addShape("path",{attrs:cU.mix(r,{path:i})})},getMarkerCfg:function t(e){var n=wU(e);return cU.mix({symbol:"square",radius:4},n)}}),hU.registerShape("interval","liquid-fill-gauge",{draw:function t(e,n){var r=this,i=.5,a=0,o=1/0;cU.each(e.points,(function(t){t.x<o&&(o=t.x),a+=t.x}));var s=a/e.points.length,l=r.parsePoint({x:s,y:i}),u=r.parsePoint({x:o,y:.5}),c=l.x-u.x,h=Math.min(c,u.y),f=wU(e),p=new gU.Circle({attrs:{x:l.x,y:l.y,r:h}});return TU(l.x,l.y,e.y/(2*l.y),1,[f.fill],n,p,4*h),n.addShape("circle",{attrs:cU.mix(SU(e),{x:l.x,y:l.y,r:h+h/8})})}});var IU={};function EU(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function OU(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,LU(t,e)}function LU(t,e){return(LU=Object.setPrototypeOf||function t(e,n){return e.__proto__=n,e})(t,e)}hU.registerShape("interval","liquid-fill-path",{draw:function t(e,n){var r=this,i=cU.mix({},wU(e)),a=e.shape[1],o=.5,s=0,l=1/0;cU.each(e.points,(function(t){t.x<l&&(l=t.x),s+=t.x}));var u=s/e.points.length,c=r.parsePoint({x:u,y:o}),h=r.parsePoint({x:l,y:.5}),f=c.x-h.x,p=Math.min(f,h.y),d;if(IU[a])d=IU[a];else{var g=vU.parsePathString(a);IU[a]=d={segments:g}}var v=[];i.rotate&&(v.push(["r",i.rotate/180*Math.PI]),delete i.rotate);var m=n.addShape("path",{attrs:cU.mix(i,{fillOpacity:0,path:d.segments})}),y=cU.cloneDeep(m.getBBox()),x=y.maxX-y.minX,_=y.maxY-y.minY,b,w=2*p/Math.max(x,_);m.transform(v.concat([["s",w,w]]));var S=w*x/2,M=w*_/2;m.transform([["t",c.x-S,c.y-M]]),TU(c.x,c.y,e.y/(2*c.y),1,[i.fill],n,m,4*h.y);var C=n.addShape("path",{attrs:cU.mix(SU(e),{path:d.segments})});return C.transform(v.concat([["s",w,w],["t",c.x-S,c.y-M]])),C}}),hU.registerShape("interval","top-line",{draw:function t(e,n){var r=wU(e),i=e.style||{},a=[["M",e.points[1].x,e.points[1].y],["L",e.points[2].x,e.points[2].y]],o={stroke:i.stroke||"white",lineWidth:i.lineWidth||1,path:this.parsePath(a)},s=yU(e.points);s=this.parsePath(s),delete r.stroke;var l=n.addShape("path",{attrs:cU.mix(r,{zIndex:0,path:s})});return n.addShape("path",{zIndex:1,attrs:o}),l},getMarkerCfg:function t(e){var n=wU(e),r=e.isInCircle;return cU.mix({symbol:r?"circle":"square",radius:r?4.5:4},n)}});var DU=yj,FU=ow,BU=uU,RU=function(t){OU(n,t);var e=n.prototype;function n(e){var n;return n=t.call(this,e)||this,FU.assign(EU(n),BU),n}return e.getDefaultCfg=function e(){var n=t.prototype.getDefaultCfg.call(this);return n.type="interval",n.shapeType="interval",n.generatePoints=!0,n},e.createShapePointsCfg=function e(n){var r=t.prototype.createShapePointsCfg.call(this,n);return r.size=this.getNormalizedSize(n),r},e.clearInner=function e(){t.prototype.clearInner.call(this),this.set("defaultSize",null)},n}(DU),NU=function(t){function e(){return t.apply(this,arguments)||this}var n;return OU(e,t),e.prototype.getDefaultCfg=function e(){var n=t.prototype.getDefaultCfg.call(this);return n.hasDefaultAdjust=!0,n.adjusts=[{type:"stack"}],n},e}(RU),jU=function(t){function e(){return t.apply(this,arguments)||this}var n;return OU(e,t),e.prototype.getDefaultCfg=function e(){var n=t.prototype.getDefaultCfg.call(this);return n.hasDefaultAdjust=!0,n.adjusts=[{type:"dodge"}],n},e}(RU),zU=function(t){function e(){return t.apply(this,arguments)||this}var n;return OU(e,t),e.prototype.getDefaultCfg=function e(){var n=t.prototype.getDefaultCfg.call(this);return n.hasDefaultAdjust=!0,n.adjusts=[{type:"symmetric"}],n},e}(RU);RU.Stack=NU,RU.Dodge=jU,RU.Symmetric=zU,DU.Interval=RU,DU.IntervalStack=NU,DU.IntervalDodge=jU,DU.IntervalSymmetric=zU;var YU=RU,GU=ow,XU=PN,VU=QR,HU=$W,WU=cC;function qU(t){var e=WU.shape.hollowArea,n=GU.mix({},e,t.style);return HU.addStrokeAttrs(n,t),GU.isNumber(t.size)&&(n.lineWidth=t.size),n}function UU(t){var e=WU.shape.area,n=GU.mix({},e,t.style);return HU.addFillAttrs(n,t),t.color&&(n.stroke=n.stroke||t.color),GU.isNumber(t.size)&&(n.lineWidth=t.size),n}function ZU(t,e,n){var r=[],i=[],a=[],o=[],s=t.isInCircle;return GU.each(t.points,(function(t){a.push(t[1]),o.push(t[0])})),o=o.reverse(),i.push(a,o),GU.each(i,(function(i,a){var o=[],l=(i=n.parsePoints(i))[0];s&&i.push({x:l.x,y:l.y}),o=e?VU.getSplinePath(i,!1,t.constraint):VU.getLinePath(i,!1),a>0&&(o[0][0]="L"),r=r.concat(o)})),r.push(["Z"]),r}function QU(t){return{symbol:function t(e,n,r){return[["M",e-r,n-4],["L",e+r,n-4],["L",e+r,n+4],["L",e-r,n+4],["Z"]]},radius:5,fill:t.color,fillOpacity:.6}}function $U(t,e){var n;if("line"===t||"smoothLine"===t)return{lineWidth:(e.lineWidth||0)+1};var r=e.fillOpacity||e.opacity||1;return{fillOpacity:r-.15,strokeOpacity:r-.15}}function JU(t,e,n){var r,i=t._coord.convertPoint(e.points[0][1]);return n.addShape("circle",{attrs:GU.mix({x:i.x,y:i.y,r:2,fill:e.color},e.style)})}var KU=XU.registerFactory("area",{defaultShapeType:"area",getDefaultPoints:function t(e){var n=[],r=e.x,i=e.y,a=e.y0;return i=GU.isArray(i)?i:[a,i],GU.each(i,(function(t){n.push({x:r,y:t})})),n},getActiveCfg:function t(e,n){return $U(e,n)},drawShape:function t(e,n,r){var i=this.getShape(e),a;return(a=1===n.points.length&&WU.showSinglePoint?JU(this,n,r):i.draw(n,r))&&(a.set("origin",n.origin),a._id=n.splitedIndex?n._id+n.splitedIndex:n._id,a.name=this.name),a},getSelectedCfg:function t(e,n){return n&&n.style?n.style:this.getActiveCfg(e,n)}});function tZ(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function eZ(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,nZ(t,e)}function nZ(t,e){return(nZ=Object.setPrototypeOf||function t(e,n){return e.__proto__=n,e})(t,e)}XU.registerShape("area","area",{draw:function t(e,n){var r=UU(e),i=ZU(e,!1,this);return n.addShape("path",{attrs:GU.mix(r,{path:i})})},getMarkerCfg:function t(e){return QU(e)}}),XU.registerShape("area","smooth",{draw:function t(e,n){var r=UU(e),i=this._coord;e.constraint=[[i.start.x,i.end.y],[i.end.x,i.start.y]];var a=ZU(e,!0,this);return n.addShape("path",{attrs:GU.mix(r,{path:a})})},getMarkerCfg:function t(e){return QU(e)}}),XU.registerShape("area","line",{draw:function t(e,n){var r=qU(e),i=ZU(e,!1,this);return n.addShape("path",{attrs:GU.mix(r,{path:i})})},getMarkerCfg:function t(e){return QU(e)}}),XU.registerShape("area","smoothLine",{draw:function t(e,n){var r=qU(e),i=ZU(e,!0,this);return n.addShape("path",{attrs:GU.mix(r,{path:i})})},getMarkerCfg:function t(e){return QU(e)}}),KU.spline=KU.smooth;var rZ=yj,iZ=wq,aZ=ow,oZ=function(t){eZ(n,t);var e=n.prototype;function n(e){var n;return n=t.call(this,e)||this,aZ.assign(tZ(n),iZ),n}return e.getDefaultCfg=function e(){var n=t.prototype.getDefaultCfg.call(this);return n.type="area",n.shapeType="area",n.generatePoints=!0,n.sortable=!0,n},e.draw=function t(e,n,r,i){var a=this,o=this.getDrawCfg(e[0]);a._applyViewThemeShapeStyle(o,o.shape,r);var s=this.splitData(e);o.origin=e,aZ.each(s,(function(t,e){o.splitedIndex=e;var s=t.map((function(t){return t.points}));o.points=s;var l=r.drawShape(o.shape,o,n);a.appendShapeInfo(l,i+e)}))},n}(rZ),sZ=function(t){function e(){return t.apply(this,arguments)||this}var n;return eZ(e,t),e.prototype.getDefaultCfg=function e(){var n=t.prototype.getDefaultCfg.call(this);return n.hasDefaultAdjust=!0,n.adjusts=[{type:"stack"}],n},e}(oZ);oZ.Stack=sZ,rZ.Area=oZ,rZ.AreaStack=sZ;var lZ=oZ,uZ=ow,cZ=PN,hZ=$W,fZ=cC;function pZ(t){var e=fZ.shape.polygon,n=uZ.mix({},e,t.style);return hZ.addFillAttrs(n,t),n}function dZ(t){var e=fZ.shape.hollowPolygon,n=uZ.mix({},e,t.style);return hZ.addStrokeAttrs(n,t),n}function gZ(t){for(var e=t[0],n=1,r=[["M",e.x,e.y]];n<t.length;){var i=t[n];i.x===t[n-1].x&&i.y===t[n-1].y||(r.push(["L",i.x,i.y]),i.x===e.x&&i.y===e.y&&n<t.length-1&&(e=t[n+1],r.push(["Z"]),r.push(["M",e.x,e.y]),n++)),n++}return uZ.isEqual(r[r.length-1],e)||r.push(["L",e.x,e.y]),r.push(["Z"]),r}function vZ(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,mZ(t,e)}function mZ(t,e){return(mZ=Object.setPrototypeOf||function t(e,n){return e.__proto__=n,e})(t,e)}cZ.registerFactory("polygon",{defaultShapeType:"polygon",getDefaultPoints:function t(e){var n=[];return uZ.each(e.x,(function(t,r){var i=e.y[r];n.push({x:t,y:i})})),n},getActiveCfg:function t(e,n){var r=n.lineWidth||1,i;return"hollow"===e?{lineWidth:r+1}:{fillOpacity:(n.fillOpacity||n.opacity||1)-.08}},getSelectedCfg:function t(e,n){return n&&n.style?n.style:this.getActiveCfg(e,n)}}),cZ.registerShape("polygon","polygon",{draw:function t(e,n){if(!uZ.isEmpty(e.points)){var r=pZ(e),i=gZ(e.points);return i=this.parsePath(i),n.addShape("path",{attrs:uZ.mix(r,{path:i})})}},getMarkerCfg:function t(e){return uZ.mix({symbol:"square",radius:4},pZ(e))}}),cZ.registerShape("polygon","hollow",{draw:function t(e,n){if(!uZ.isEmpty(e.points)){var r=dZ(e),i=gZ(e.points);return i=this.parsePath(i),n.addShape("path",{attrs:uZ.mix(r,{path:i})})}},getMarkerCfg:function t(e){return uZ.mix({symbol:"square",radius:4},pZ(e))}});var yZ=yj,xZ=ow,_Z=function(t){function e(){return t.apply(this,arguments)||this}vZ(e,t);var n=e.prototype;return n.getDefaultCfg=function e(){var n=t.prototype.getDefaultCfg.call(this);return n.type="polygon",n.shapeType="polygon",n.generatePoints=!0,n},n.createShapePointsCfg=function e(n){var r=t.prototype.createShapePointsCfg.call(this,n),i=this,a=r.x,o=r.y,s;if(!xZ.isArray(a)||!xZ.isArray(o)){var l=i.getXScale(),u=i.getYScale(),c,h,f=.5/(l.values?l.values.length:l.ticks.length),p=.5/(u.values?u.values.length:u.ticks.length);l.isCategory&&u.isCategory?(a=[a-f,a-f,a+f,a+f],o=[o-p,o+p,o+p,o-p]):xZ.isArray(a)?(a=[(s=a)[0],s[0],s[1],s[1]],o=[o-p/2,o+p/2,o+p/2,o-p/2]):xZ.isArray(o)&&(o=[(s=o)[0],s[1],s[1],s[0]],a=[a-f/2,a-f/2,a+f/2,a+f/2]),r.x=a,r.y=o}return r},e}(yZ);yZ.Polygon=_Z;var bZ=_Z,wZ=ow,SZ=PN,MZ=$W,CZ=cC;function AZ(t){wZ.isArray(t)||(t=[t]);var e=t[0],n=t[t.length-1],r=t.length>1?t[1]:e,i,a;return{min:e,max:n,min1:r,max1:t.length>3?t[3]:n,median:t.length>2?t[2]:r}}function PZ(t,e){wZ.each(t,(function(t){e.push({x:t[0],y:t[1]})}))}function kZ(t){var e=CZ.shape.schema,n=wZ.mix({},e,t.style);return MZ.addStrokeAttrs(n,t),n}function TZ(t){var e=CZ.shape.schema,n=wZ.mix({},e,t.style);return MZ.addFillAttrs(n,t),t.color&&(n.stroke=t.color||n.stroke),n}function IZ(t,e,n){var r=[],i,a;return wZ.isArray(e)?i=[[t-n/2,(a=AZ(e)).max],[t+n/2,a.max],[t,a.max],[t,a.max1],[t-n/2,a.min1],[t-n/2,a.max1],[t+n/2,a.max1],[t+n/2,a.min1],[t,a.min1],[t,a.min],[t-n/2,a.min],[t+n/2,a.min],[t-n/2,a.median],[t+n/2,a.median]]:(e=e||.5,i=[[(a=AZ(t)).min,e-n/2],[a.min,e+n/2],[a.min,e],[a.min1,e],[a.min1,e-n/2],[a.min1,e+n/2],[a.max1,e+n/2],[a.max1,e-n/2],[a.max1,e],[a.max,e],[a.max,e-n/2],[a.max,e+n/2],[a.median,e-n/2],[a.median,e+n/2]]),PZ(i,r),r}function EZ(t){wZ.isArray(t)||(t=[t]);var e=t.sort((function(t,e){return t<e?1:-1})),n=e.length;if(n<4)for(var r=e[n-1],i=0;i<4-n;i++)e.push(r);return e}function OZ(t,e,n){var r=EZ(e),i;return[{x:t,y:r[0]},{x:t,y:r[1]},{x:t-n/2,y:r[2]},{x:t-n/2,y:r[1]},{x:t+n/2,y:r[1]},{x:t+n/2,y:r[2]},{x:t,y:r[2]},{x:t,y:r[3]}]}function LZ(t){var e;return[["M",t[0].x,t[0].y],["L",t[1].x,t[1].y],["M",t[2].x,t[2].y],["L",t[3].x,t[3].y],["M",t[4].x,t[4].y],["L",t[5].x,t[5].y],["L",t[6].x,t[6].y],["L",t[7].x,t[7].y],["L",t[4].x,t[4].y],["Z"],["M",t[8].x,t[8].y],["L",t[9].x,t[9].y],["M",t[10].x,t[10].y],["L",t[11].x,t[11].y],["M",t[12].x,t[12].y],["L",t[13].x,t[13].y]]}function DZ(t){var e;return[["M",t[0].x,t[0].y],["L",t[1].x,t[1].y],["M",t[2].x,t[2].y],["L",t[3].x,t[3].y],["L",t[4].x,t[4].y],["L",t[5].x,t[5].y],["Z"],["M",t[6].x,t[6].y],["L",t[7].x,t[7].y]]}function FZ(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function BZ(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,RZ(t,e)}function RZ(t,e){return(RZ=Object.setPrototypeOf||function t(e,n){return e.__proto__=n,e})(t,e)}SZ.registerFactory("schema",{defaultShapeType:"",getActiveCfg:function t(e,n){var r;if("box"===e)return{lineWidth:(n.lineWidth||1)+1};var i=n.fillOpacity||n.opacity||1;return{fillOpacity:i-.15,strokeOpacity:i-.15}},getSelectedCfg:function t(e,n){return n&&n.style?n.style:this.getActiveCfg(e,n)}}),SZ.registerShape("schema","box",{getPoints:function t(e){return IZ(e.x,e.y,e.size)},draw:function t(e,n){var r=kZ(e),i=LZ(e.points);return i=this.parsePath(i),n.addShape("path",{attrs:wZ.mix(r,{path:i})})},getMarkerCfg:function t(e){return{symbol:function t(e,n,r){var i,a=IZ(e,[n-6,n-3,n,n+3,n+6],r);return[["M",a[0].x+1,a[0].y],["L",a[1].x-1,a[1].y],["M",a[2].x,a[2].y],["L",a[3].x,a[3].y],["M",a[4].x,a[4].y],["L",a[5].x,a[5].y],["L",a[6].x,a[6].y],["L",a[7].x,a[7].y],["L",a[4].x,a[4].y],["Z"],["M",a[8].x,a[8].y],["L",a[9].x,a[9].y],["M",a[10].x+1,a[10].y],["L",a[11].x-1,a[11].y],["M",a[12].x,a[12].y],["L",a[13].x,a[13].y]]},radius:6,lineWidth:1,stroke:e.color}}}),SZ.registerShape("schema","candle",{getPoints:function t(e){return OZ(e.x,e.y,e.size)},draw:function t(e,n){var r=TZ(e),i=DZ(e.points);return i=this.parsePath(i),n.addShape("path",{attrs:wZ.mix(r,{path:i})})},getMarkerCfg:function t(e){return{symbol:function t(e,n,r){var i=OZ(e,n=[n+7.5,n+3,n-3,n-7.5],r);return[["M",i[0].x,i[0].y],["L",i[1].x,i[1].y],["M",i[2].x,i[2].y],["L",i[3].x,i[3].y],["L",i[4].x,i[4].y],["L",i[5].x,i[5].y],["Z"],["M",i[6].x,i[6].y],["L",i[7].x,i[7].y]]},lineWidth:1,stroke:e.color,fill:e.color,radius:6}}});var NZ=yj,jZ=ow,zZ=uU,YZ=function(t){BZ(n,t);var e=n.prototype;function n(e){var n;return n=t.call(this,e)||this,jZ.assign(FZ(n),zZ),n}return e.getDefaultCfg=function e(){var n=t.prototype.getDefaultCfg.call(this);return n.type="schema",n.shapeType="schema",n.generatePoints=!0,n},e.createShapePointsCfg=function e(n){var r=t.prototype.createShapePointsCfg.call(this,n);return r.size=this.getNormalizedSize(n),r},e.clearInner=function e(){t.prototype.clearInner.call(this),this.set("defaultSize",null)},n}(NZ),GZ=function(t){function e(){return t.apply(this,arguments)||this}var n;return BZ(e,t),e.prototype.getDefaultCfg=function e(){var n=t.prototype.getDefaultCfg.call(this);return n.hasDefaultAdjust=!0,n.adjusts=[{type:"dodge"}],n},e}(YZ);YZ.Dodge=GZ,NZ.Schema=YZ,NZ.SchemaDodge=GZ;var XZ=YZ,VZ=ow,HZ=PN,WZ=$W,qZ=cC,UZ=QR,ZZ=1/3;function QZ(t){var e=qZ.shape.edge,n=VZ.mix({},e,t.style);return WZ.addStrokeAttrs(n,t),t.size&&(n.lineWidth=t.size),n}function $Z(t,e){var n=[];n.push({x:t.x,y:.5*t.y+1*e.y/2}),n.push({y:.5*t.y+1*e.y/2,x:e.x}),n.push(e);var r=["C"];return VZ.each(n,(function(t){r.push(t.x,t.y)})),r}function JZ(t,e){var n=[];n.push({x:e.x,y:e.y}),n.push(t);var r=["Q"];return VZ.each(n,(function(t){r.push(t.x,t.y)})),r}function KZ(t,e){var n=$Z(t,e),r=[["M",t.x,t.y]];return r.push(n),r}function tQ(t,e,n){var r=JZ(e,n),i=[["M",t.x,t.y]];return i.push(r),i}function eQ(t,e){var n=JZ(t[1],e),r=JZ(t[3],e),i=[["M",t[0].x,t[0].y]];return i.push(r),i.push(["L",t[3].x,t[3].y]),i.push(["L",t[2].x,t[2].y]),i.push(n),i.push(["L",t[1].x,t[1].y]),i.push(["L",t[0].x,t[0].y]),i.push(["Z"]),i}function nQ(t,e){var n=[];n.push({y:t.y*(1-ZZ)+e.y*ZZ,x:t.x}),n.push({y:t.y*(1-ZZ)+e.y*ZZ,x:e.x}),n.push(e);var r=[["M",t.x,t.y]];return VZ.each(n,(function(t){r.push(["L",t.x,t.y])})),r}function rQ(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,iQ(t,e)}function iQ(t,e){return(iQ=Object.setPrototypeOf||function t(e,n){return e.__proto__=n,e})(t,e)}HZ.registerFactory("edge",{defaultShapeType:"line",getDefaultPoints:function t(e){return WZ.splitPoints(e)},getActiveCfg:function t(e,n){var r;return{lineWidth:(n.lineWidth||0)+1}}}),HZ.registerShape("edge","line",{draw:function t(e,n){var r=this.parsePoints(e.points),i=QZ(e),a=UZ.getLinePath(r),o;return n.addShape("path",{attrs:VZ.mix(i,{path:a})})},getMarkerCfg:function t(e){return VZ.mix({symbol:"circle",radius:4.5},QZ(e))}}),HZ.registerShape("edge","vhv",{draw:function t(e,n){var r=e.points,i=QZ(e),a=nQ(r[0],r[1]),o;return a=this.parsePath(a),n.addShape("path",{attrs:VZ.mix(i,{path:a})})},getMarkerCfg:function t(e){return VZ.mix({symbol:"circle",radius:4.5},QZ(e))}}),HZ.registerShape("edge","smooth",{draw:function t(e,n){var r=e.points,i=QZ(e),a=KZ(r[0],r[1]),o;return a=this.parsePath(a),n.addShape("path",{attrs:VZ.mix(i,{path:a})})},getMarkerCfg:function t(e){return VZ.mix({symbol:"circle",radius:4.5},QZ(e))}}),HZ.registerShape("edge","arc",{draw:function t(e,n){var r=e.points,i=r.length>2?"weight":"normal",a=QZ(e),o,s;if(e.isInCircle){var l={x:0,y:1};"normal"===i?s=tQ(r[0],r[1],l):(a.fill=a.stroke,s=eQ(r,l)),s=this.parsePath(s),o=n.addShape("path",{attrs:VZ.mix(a,{path:s})})}else if("normal"===i)r=this.parsePoints(r),o=n.addShape("arc",{attrs:VZ.mix(a,{x:(r[1].x+r[0].x)/2,y:r[0].y,r:Math.abs(r[1].x-r[0].x)/2,startAngle:Math.PI,endAngle:2*Math.PI})});else{s=[["M",r[0].x,r[0].y],["L",r[1].x,r[1].y]];var u=$Z(r[1],r[3]),c=$Z(r[2],r[0]);s.push(u),s.push(["L",r[3].x,r[3].y]),s.push(["L",r[2].x,r[2].y]),s.push(c),s.push(["Z"]),s=this.parsePath(s),a.fill=a.stroke,o=n.addShape("path",{attrs:VZ.mix(a,{path:s})})}return o},getMarkerCfg:function t(e){return VZ.mix({symbol:"circle",radius:4.5},QZ(e))}});var aQ=yj,oQ=function(t){function e(){return t.apply(this,arguments)||this}var n;return rQ(e,t),e.prototype.getDefaultCfg=function e(){var n=t.prototype.getDefaultCfg.call(this);return n.type="edge",n.shapeType="edge",n.generatePoints=!0,n},e}(aQ);aQ.Edge=oQ;var sQ=oQ;function lQ(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,uQ(t,e)}function uQ(t,e){return(uQ=Object.setPrototypeOf||function t(e,n){return e.__proto__=n,e})(t,e)}var cQ,hQ=LS.ColorUtil,fQ=yj,pQ=ow,dQ="_origin",gQ="shadowCanvas",vQ="valueRange",mQ="imageShape",yQ="mappedData",xQ="grayScaleBlurredCanvas",_Q="heatmapSize",bQ=function(t){function e(){return t.apply(this,arguments)||this}lQ(e,t);var n=e.prototype;return n.getDefaultCfg=function e(){var n=t.prototype.getDefaultCfg.call(this);return n.type="heatmap",n.paletteCache={},n},n._prepareRange=function t(){var e=this,n=e.get(yQ),r,i=e.getAttr("color").field,a=1/0,o=-1/0;n.forEach((function(t){var e=t._origin[i];e>o&&(o=e),e<a&&(a=e)})),a===o&&(a=o-1);var s=[a,o];e.set(vQ,s)},n._prepareSize=function t(){var e=this,n=e.getDefaultValue("size");pQ.isNumber(n)||(n=e._getDefaultSize());var r=e.get("styleOptions"),i=r&&pQ.isObject(r.style)?r.style.blur:null;pQ.isFinite(i)&&null!==i||(i=n/2),e.set(_Q,{blur:i,radius:n})},n._getDefaultSize=function t(){var e=this,n=e.getAttr("position"),r=e.get("coord"),i;return Math.min(r.width/(4*n.scales[0].ticks.length),r.height/(4*n.scales[1].ticks.length))},n._colorize=function t(e){for(var n=this,r=n.getAttr("color"),i=e.data,a=n.get("paletteCache"),o=3;o<i.length;o+=4){var s=i[o];if(s){var l=void 0;a[s]?l=a[s]:(l=hQ.rgb2arr(r.gradient(s/256)),a[s]=l),i[o-3]=l[0],i[o-2]=l[1],i[o-1]=l[2],i[o]=s}}},n._prepareGreyScaleBlurredCircle=function t(e,n){var r=this,i=r.get("grayScaleBlurredCanvas");i||(i=document.createElement("canvas"),r.set("grayScaleBlurredCanvas",i));var a=e+n,o=i.getContext("2d");i.width=i.height=2*a,o.clearRect(0,0,i.width,i.height),o.shadowOffsetX=o.shadowOffsetY=2*a,o.shadowBlur=n,o.shadowColor="black",o.beginPath(),o.arc(-a,-a,e,0,2*Math.PI,!0),o.closePath(),o.fill()},n._drawGrayScaleBlurredCircle=function t(e,n,r,i,a){var o,s=this.get("grayScaleBlurredCanvas");a.globalAlpha=i,a.drawImage(s,e-r,n-r)},n._getShadowCanvasCtx=function t(){var e=this,n=e.get(gQ);n||(n=document.createElement("canvas"),e.set(gQ,n));var r=e.get("coord");return r&&(n.width=r.width,n.height=r.height),n.getContext("2d")},n._clearShadowCanvasCtx=function t(){var e=this._getShadowCanvasCtx();e.clearRect(0,0,e.canvas.width,e.canvas.height)},n._getImageShape=function t(){var e=this,n=e.get(mQ),r;return n||(n=e.get("container").addShape("Image",{}),e.set(mQ,n),n)},n.clear=function e(){this._clearShadowCanvasCtx(),t.prototype.clear.call(this)},n.drawWithRange=function t(e){var n=this,r=n.get("coord"),i=r.start,a=r.end,o=r.width,s=r.height,l=n.getAttr("color").field,u=n.get(_Q);n._clearShadowCanvasCtx();var c=n._getShadowCanvasCtx(),h=n.get(yQ);e&&(h=h.filter((function(t){return t._origin[l]<=e[1]&&t._origin[l]>=e[0]})));for(var f=n._getScale(l),p=0;p<h.length;p++){var d=h[p],g=n.getDrawCfg(d),v=f.scale(d._origin[l]);n._drawGrayScaleBlurredCircle(g.x-i.x,g.y-a.y,u.radius+u.blur,v,c)}var m=c.getImageData(0,0,o,s);n._clearShadowCanvasCtx(),n._colorize(m),c.putImageData(m,0,0);var y=n._getImageShape();y.attr("x",i.x),y.attr("y",a.y),y.attr("width",o),y.attr("height",s),y.attr("img",c.canvas)},n.draw=function t(e){var n=this;n.set(yQ,e),n._prepareRange(),n._prepareSize();var r=n.get(_Q);n._prepareGreyScaleBlurredCircle(r.radius,r.blur);var i=n.get(vQ);n.drawWithRange(i)},e}(fQ);fQ.Heatmap=bQ;var wQ=bQ,SQ=1e-10;function MQ(t,e){var n=AQ(t),r=n.filter((function(e){return CQ(e,t)})),i=0,a=0,o=[],s;if(r.length>1){var l=EQ(r);for(s=0;s<r.length;++s){var u=r[s];u.angle=Math.atan2(u.x-l.x,u.y-l.y)}r.sort((function(t,e){return e.angle-t.angle}));var c=r[r.length-1];for(s=0;s<r.length;++s){var h=r[s];a+=(c.x+h.x)*(h.y-c.y);for(var f={x:(h.x+c.x)/2,y:(h.y+c.y)/2},p=null,d=0;d<h.parentIndex.length;++d)if(c.parentIndex.indexOf(h.parentIndex[d])>-1){var g=t[h.parentIndex[d]],v=Math.atan2(h.x-g.x,h.y-g.y),m=Math.atan2(c.x-g.x,c.y-g.y),y=m-v;y<0&&(y+=2*Math.PI);var x=m-y/2,_=kQ(f,{x:g.x+g.radius*Math.sin(x),y:g.y+g.radius*Math.cos(x)});_>2*g.radius&&(_=2*g.radius),(null===p||p.width>_)&&(p={circle:g,width:_,p1:h,p2:c})}null!==p&&(o.push(p),i+=PQ(p.circle.radius,p.width),c=h)}}else{var b=t[0];for(s=1;s<t.length;++s)t[s].radius<b.radius&&(b=t[s]);var w=!1;for(s=0;s<t.length;++s)if(kQ(t[s],b)>Math.abs(b.radius-t[s].radius)){w=!0;break}w?i=a=0:(i=b.radius*b.radius*Math.PI,o.push({circle:b,p1:{x:b.x,y:b.y+b.radius},p2:{x:b.x-1e-10,y:b.y+b.radius},width:2*b.radius}))}return a/=2,e&&(e.area=i+a,e.arcArea=i,e.polygonArea=a,e.arcs=o,e.innerPoints=r,e.intersectionPoints=n),i+a}function CQ(t,e){for(var n=0;n<e.length;++n)if(kQ(t,e[n])>e[n].radius+1e-10)return!1;return!0}function AQ(t){for(var e=[],n=0;n<t.length;++n)for(var r=n+1;r<t.length;++r)for(var i=IQ(t[n],t[r]),a=0;a<i.length;++a){var o=i[a];o.parentIndex=[n,r],e.push(o)}return e}function PQ(t,e){return t*t*Math.acos(1-e/t)-(t-e)*Math.sqrt(e*(2*t-e))}function kQ(t,e){return Math.sqrt((t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y))}function TQ(t,e,n){if(n>=t+e)return 0;if(n<=Math.abs(t-e))return Math.PI*Math.min(t,e)*Math.min(t,e);var r,i=e-(n*n-t*t+e*e)/(2*n);return PQ(t,t-(n*n-e*e+t*t)/(2*n))+PQ(e,i)}function IQ(t,e){var n=kQ(t,e),r=t.radius,i=e.radius;if(n>=r+i||n<=Math.abs(r-i))return[];var a=(r*r-i*i+n*n)/(2*n),o=Math.sqrt(r*r-a*a),s=t.x+a*(e.x-t.x)/n,l=t.y+a*(e.y-t.y)/n,u=-(e.y-t.y)*(o/n),c=-(e.x-t.x)*(o/n);return[{x:s+u,y:l-c},{x:s-u,y:l+c}]}function EQ(t){for(var e={x:0,y:0},n=0;n<t.length;++n)e.x+=t[n].x,e.y+=t[n].y;return e.x/=t.length,e.y/=t.length,e}function OQ(t,e,n,r){var i=(r=r||{}).maxIterations||100,a=r.tolerance||1e-10,o=t(e),s=t(n),l=n-e;if(o*s>0)throw"Initial bisect points must have opposite signs";if(0===o)return e;if(0===s)return n;for(var u=0;u<i;++u){var c=e+(l/=2),h=t(c);if(h*o>=0&&(e=c),Math.abs(l)<a||0===h)return c}return e+l}function LQ(t){for(var e=new Array(t),n=0;n<t;++n)e[n]=0;return e}function DQ(t,e){return LQ(t).map((function(){return LQ(e)}))}function FQ(t,e){for(var n=0,r=0;r<t.length;++r)n+=t[r]*e[r];return n}function BQ(t){return Math.sqrt(FQ(t,t))}function RQ(t,e,n){for(var r=0;r<e.length;++r)t[r]=e[r]*n}function NQ(t,e,n,r,i){for(var a=0;a<t.length;++a)t[a]=e*n[a]+r*i[a]}function jQ(t,e,n){var r=(n=n||{}).maxIterations||200*e.length,i=n.nonZeroDelta||1.05,a=n.zeroDelta||.001,o=n.minErrorDelta||1e-6,s=n.minErrorDelta||1e-5,l=void 0!==n.rho?n.rho:1,u=void 0!==n.chi?n.chi:2,c=void 0!==n.psi?n.psi:-.5,h=void 0!==n.sigma?n.sigma:.5,f,p=e.length,d=new Array(p+1);d[0]=e,d[0].fx=t(e),d[0].id=0;for(var g=0;g<p;++g){var v=e.slice();v[g]=v[g]?v[g]*i:a,d[g+1]=v,d[g+1].fx=t(v),d[g+1].id=g+1}function m(t){for(var e=0;e<t.length;e++)d[p][e]=t[e];d[p].fx=t.fx}for(var y=function(t,e){return t.fx-e.fx},x=e.slice(),_=e.slice(),b=e.slice(),w=e.slice(),S=0;S<r;++S){if(d.sort(y),n.history){var M=d.map((function(t){var e=t.slice();return e.fx=t.fx,e.id=t.id,e}));M.sort((function(t,e){return t.id-e.id})),n.history.push({x:d[0].slice(),fx:d[0].fx,simplex:M})}for(f=0,g=0;g<p;++g)f=Math.max(f,Math.abs(d[0][g]-d[1][g]));if(Math.abs(d[0].fx-d[p].fx)<o&&f<s)break;for(g=0;g<p;++g){x[g]=0;for(var C=0;C<p;++C)x[g]+=d[C][g];x[g]/=p}var A=d[p];if(NQ(_,1+l,x,-l,A),_.fx=t(_),_.fx<d[0].fx)NQ(w,1+u,x,-u,A),w.fx=t(w),w.fx<_.fx?m(w):m(_);else if(_.fx>=d[p-1].fx){var P=!1;if(_.fx>A.fx?(NQ(b,1+c,x,-c,A),b.fx=t(b),b.fx<A.fx?m(b):P=!0):(NQ(b,1-c*l,x,c*l,A),b.fx=t(b),b.fx<_.fx?m(b):P=!0),P){if(h>=1)break;for(g=1;g<d.length;++g)NQ(d[g],1-h,d[0],h,d[g]),d[g].fx=t(d[g])}}else m(_)}return d.sort(y),{fx:d[0].fx,x:d[0]}}function zQ(t,e,n,r,i,a,o){var s=n.fx,l=FQ(n.fxprime,e),u=s,c=s,h=l,f=0;function p(c,f,p){for(var d=0;d<16;++d)if(i=(c+f)/2,NQ(r.x,1,n.x,i,e),u=r.fx=t(r.x,r.fxprime),h=FQ(r.fxprime,e),u>s+a*i*l||u>=p)f=i;else{if(Math.abs(h)<=-o*l)return i;h*(f-c)>=0&&(f=c),c=i,p=u}return 0}i=i||1,a=a||1e-6,o=o||.1;for(var d=0;d<10;++d){if(NQ(r.x,1,n.x,i,e),u=r.fx=t(r.x,r.fxprime),h=FQ(r.fxprime,e),u>s+a*i*l||d&&u>=c)return p(f,i,c);if(Math.abs(h)<=-o*l)return i;if(h>=0)return p(i,f,u);c=u,f=i,i*=2}return i}function YQ(t,e,n){var r={x:e.slice(),fx:0,fxprime:e.slice()},i={x:e.slice(),fx:0,fxprime:e.slice()},a=e.slice(),o,s,l=1,u;u=(n=n||{}).maxIterations||20*e.length,r.fx=t(r.x,r.fxprime),RQ(o=r.fxprime.slice(),r.fxprime,-1);for(var c=0;c<u;++c){if(l=zQ(t,o,r,i,l),n.history&&n.history.push({x:r.x.slice(),fx:r.fx,fxprime:r.fxprime.slice(),alpha:l}),l){NQ(a,1,i.fxprime,-1,r.fxprime);var h=FQ(r.fxprime,r.fxprime),f;NQ(o,Math.max(0,FQ(a,i.fxprime)/h),o,-1,i.fxprime),s=r,r=i,i=s}else RQ(o,r.fxprime,-1);if(BQ(r.fxprime)<=1e-5)break}return n.history&&n.history.push({x:r.x.slice(),fx:r.fx,fxprime:r.fxprime.slice(),alpha:l}),r}function GQ(t,e){(e=e||{}).maxIterations=e.maxIterations||500;var n=e.initialLayout||UQ,r=e.lossFunction||$Q,i=n(t=HQ(t),e),a=[],o=[],s;for(s in i)i.hasOwnProperty(s)&&(a.push(i[s].x),a.push(i[s].y),o.push(s));for(var l,u=jQ((function(e){for(var n={},a=0;a<o.length;++a){var s=o[a];n[s]={x:e[2*a],y:e[2*a+1],radius:i[s].radius}}return r(n,t)}),a,e).x,c=0;c<o.length;++c)s=o[c],i[s].x=u[2*c],i[s].y=u[2*c+1];return i}var XQ=1e-10;function VQ(t,e,n){return Math.min(t,e)*Math.min(t,e)*Math.PI<=n+1e-10?Math.abs(t-e):OQ((function(r){return TQ(t,e,r)-n}),0,t+e)}function HQ(t){t=t.slice();var e=[],n={},r,i,a,o;for(r=0;r<t.length;++r){var s=t[r];1==s.sets.length?e.push(s.sets[0]):2==s.sets.length&&(n[[a=s.sets[0],o=s.sets[1]]]=!0,n[[o,a]]=!0)}for(e.sort((function(t,e){return t>e})),r=0;r<e.length;++r)for(a=e[r],i=r+1;i<e.length;++i)[a,o=e[i]]in n||t.push({sets:[a,o],size:0});return t}function WQ(t,e,n){var r=DQ(e.length,e.length),i=DQ(e.length,e.length);return t.filter((function(t){return 2==t.sets.length})).map((function(t){var a=n[t.sets[0]],o=n[t.sets[1]],s,l,u=VQ(Math.sqrt(e[a].size/Math.PI),Math.sqrt(e[o].size/Math.PI),t.size);r[a][o]=r[o][a]=u;var c=0;t.size+1e-10>=Math.min(e[a].size,e[o].size)?c=1:t.size<=1e-10&&(c=-1),i[a][o]=i[o][a]=c})),{distances:r,constraints:i}}function qQ(t,e,n,r){var i=0,a;for(a=0;a<e.length;++a)e[a]=0;for(a=0;a<n.length;++a)for(var o=t[2*a],s=t[2*a+1],l=a+1;l<n.length;++l){var u=t[2*l],c=t[2*l+1],h=n[a][l],f=r[a][l],p=(u-o)*(u-o)+(c-s)*(c-s),d=Math.sqrt(p),g=p-h*h;f>0&&d<=h||f<0&&d>=h||(i+=2*g*g,e[2*a]+=4*g*(o-u),e[2*a+1]+=4*g*(s-c),e[2*l]+=4*g*(u-o),e[2*l+1]+=4*g*(c-s))}return i}function UQ(t,e){var n=QQ(t,e),r=e.lossFunction||$Q;if(t.length>=8){var i=ZQ(t,e),a,o;r(i,t)+1e-8<r(n,t)&&(n=i)}return n}function ZQ(t,e){var n=(e=e||{}).restarts||10,r=[],i={},a;for(a=0;a<t.length;++a){var o=t[a];1==o.sets.length&&(i[o.sets[0]]=r.length,r.push(o))}var s=WQ(t,r,i),l=s.distances,u=s.constraints,c=BQ(l.map(BQ))/l.length;l=l.map((function(t){return t.map((function(t){return t/c}))}));var h=function(t,e){return qQ(t,e,l,u)},f,p;for(a=0;a<n;++a){var d;p=YQ(h,LQ(2*l.length).map(Math.random),e),(!f||p.fx<f.fx)&&(f=p)}var g=f.x,v={};for(a=0;a<r.length;++a){var m=r[a];v[m.sets[0]]={x:g[2*a]*c,y:g[2*a+1]*c,radius:Math.sqrt(m.size/Math.PI)}}if(e.history)for(a=0;a<e.history.length;++a)RQ(e.history[a].x,c);return v}function QQ(t,e){for(var n=e&&e.lossFunction?e.lossFunction:$Q,r={},i={},a,o=0;o<t.length;++o){var s=t[o];1==s.sets.length&&(a=s.sets[0],r[a]={x:1e10,y:1e10,rowid:r.length,size:s.size,radius:Math.sqrt(s.size/Math.PI)},i[a]=[])}for(t=t.filter((function(t){return 2==t.sets.length})),o=0;o<t.length;++o){var l=t[o],u=l.hasOwnProperty("weight")?l.weight:1,c=l.sets[0],h=l.sets[1];l.size+1e-10>=Math.min(r[c].size,r[h].size)&&(u=0),i[c].push({set:h,size:l.size,weight:u}),i[h].push({set:c,size:l.size,weight:u})}var f=[];for(a in i)if(i.hasOwnProperty(a)){var p=0;for(o=0;o<i[a].length;++o)p+=i[a][o].size*i[a][o].weight;f.push({set:a,size:p})}function d(t,e){return e.size-t.size}f.sort(d);var g={};function v(t){return t.set in g}function m(t,e){r[e].x=t.x,r[e].y=t.y,g[e]=!0}for(m({x:0,y:0},f[0].set),o=1;o<f.length;++o){var y=f[o].set,x=i[y].filter(v);if(a=r[y],x.sort(d),0===x.length)throw"ERROR: missing pairwise overlap information";for(var _=[],b=0;b<x.length;++b){var w=r[x[b].set],S=VQ(a.radius,w.radius,x[b].size);_.push({x:w.x+S,y:w.y}),_.push({x:w.x-S,y:w.y}),_.push({y:w.y+S,x:w.x}),_.push({y:w.y-S,x:w.x});for(var M=b+1;M<x.length;++M)for(var C=r[x[M].set],A=VQ(a.radius,C.radius,x[M].size),P=IQ({x:w.x,y:w.y,radius:S},{x:C.x,y:C.y,radius:A}),k=0;k<P.length;++k)_.push(P[k])}var T=1e50,I=_[0];for(b=0;b<_.length;++b){r[y].x=_[b].x,r[y].y=_[b].y;var E=n(r,t);E<T&&(T=E,I=_[b])}m(I,y)}return r}function $Q(t,e){var n=0;function r(e){return e.map((function(e){return t[e]}))}for(var i=0;i<e.length;++i){var a=e[i],o;if(1!=a.sets.length){if(2==a.sets.length){var s=t[a.sets[0]],l=t[a.sets[1]];o=TQ(s.radius,l.radius,kQ(s,l))}else o=MQ(r(a.sets));var u;n+=(a.hasOwnProperty("weight")?a.weight:1)*(o-a.size)*(o-a.size)}}return n}function JQ(t,e,n){var r,i;if(null===n?t.sort((function(t,e){return e.radius-t.radius})):t.sort(n),t.length>0){var a=t[0].x,o=t[0].y;for(r=0;r<t.length;++r)t[r].x-=a,t[r].y-=o}2==t.length&&(kQ(t[0],t[1])<Math.abs(t[1].radius-t[0].radius)&&(t[1].x=t[0].x+t[0].radius-t[1].radius-1e-10,t[1].y=t[0].y));if(t.length>1){var s=Math.atan2(t[1].x,t[1].y)-e,l=Math.cos(s),u=Math.sin(s),c,h;for(r=0;r<t.length;++r)c=t[r].x,h=t[r].y,t[r].x=l*c-u*h,t[r].y=u*c+l*h}if(t.length>2){for(var f=Math.atan2(t[2].x,t[2].y)-e;f<0;)f+=2*Math.PI;for(;f>2*Math.PI;)f-=2*Math.PI;if(f>Math.PI){var p=t[1].y/(1e-10+t[1].x);for(r=0;r<t.length;++r){var d=(t[r].x+p*t[r].y)/(1+p*p);t[r].x=2*d-t[r].x,t[r].y=2*d*p-t[r].y}}}}function KQ(t){function e(t){return t.parent!==t&&(t.parent=e(t.parent)),t.parent}function n(t,n){var r=e(t),i=e(n);r.parent=i}t.map((function(t){t.parent=t}));for(var r=0;r<t.length;++r)for(var i=r+1;i<t.length;++i){var a=t[r].radius+t[i].radius;kQ(t[r],t[i])+1e-10<a&&n(t[i],t[r])}var o={},s;for(r=0;r<t.length;++r)(s=e(t[r]).parent.setid)in o||(o[s]=[]),o[s].push(t[r]);t.map((function(t){delete t.parent}));var l=[];for(s in o)o.hasOwnProperty(s)&&l.push(o[s]);return l}function t$(t){var e=function(e){var n,r;return{max:Math.max.apply(null,t.map((function(t){return t[e]+t.radius}))),min:Math.min.apply(null,t.map((function(t){return t[e]-t.radius})))}};return{xRange:e("x"),yRange:e("y")}}function e$(t,e,n){null===e&&(e=Math.PI/2);var r=[],i,a;for(a in t)if(t.hasOwnProperty(a)){var o=t[a];r.push({x:o.x,y:o.y,radius:o.radius,setid:a})}var s=KQ(r);for(i=0;i<s.length;++i){JQ(s[i],e,n);var l=t$(s[i]);s[i].size=(l.xRange.max-l.xRange.min)*(l.yRange.max-l.yRange.min),s[i].bounds=l}s.sort((function(t,e){return e.size-t.size}));var u=(r=s[0]).bounds,c=(u.xRange.max-u.xRange.min)/50;function h(t,e,n){if(t){var i=t.bounds,a,o,s;e?a=u.xRange.max-i.xRange.min+c:(a=u.xRange.max-i.xRange.max,(s=(i.xRange.max-i.xRange.min)/2-(u.xRange.max-u.xRange.min)/2)<0&&(a+=s)),n?o=u.yRange.max-i.yRange.min+c:(o=u.yRange.max-i.yRange.max,(s=(i.yRange.max-i.yRange.min)/2-(u.yRange.max-u.yRange.min)/2)<0&&(o+=s));for(var l=0;l<t.length;++l)t[l].x+=a,t[l].y+=o,r.push(t[l])}}for(var f=1;f<s.length;)h(s[f],!0,!1),h(s[f+1],!1,!0),h(s[f+2],!0,!0),f+=3,u=t$(r);var p={};for(i=0;i<r.length;++i)p[r[i].setid]=r[i];return p}function n$(t,e,n,r){var i=[],a=[];for(var o in t)t.hasOwnProperty(o)&&(a.push(o),i.push(t[o]));e-=2*r,n-=2*r;var s=t$(i),l=s.xRange,u=s.yRange;if(l.max==l.min||u.max==u.min)return console.log("not scaling solution: zero size detected"),t;for(var c=e/(l.max-l.min),h=n/(u.max-u.min),f=Math.min(h,c),p=(e-(l.max-l.min)*f)/2,d=(n-(u.max-u.min)*f)/2,g={},v=0;v<i.length;++v){var m=i[v];g[a[v]]={radius:f*m.radius,x:r+p+(m.x-l.min)*f,y:r+d+(m.y-u.min)*f}}return g}var r$="http://www.w3.org/1999/xhtml",i$={svg:"http://www.w3.org/2000/svg",xhtml:r$,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function a$(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),i$.hasOwnProperty(e)?{space:i$[e],local:t}:t}function o$(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===r$&&e.documentElement.namespaceURI===r$?e.createElement(t):e.createElementNS(n,t)}}function s$(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function l$(t){var e=a$(t);return(e.local?s$:o$)(e)}function u$(){}function c$(t){return null==t?u$:function(){return this.querySelector(t)}}function h$(t){"function"!=typeof t&&(t=c$(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a=e[i],o=a.length,s=r[i]=new Array(o),l,u,c=0;c<o;++c)(l=a[c])&&(u=t.call(l,l.__data__,c,a))&&("__data__"in l&&(u.__data__=l.__data__),s[c]=u);return new XJ(r,this._parents)}function f$(){return[]}function p$(t){return null==t?f$:function(){return this.querySelectorAll(t)}}function d$(t){"function"!=typeof t&&(t=p$(t));for(var e=this._groups,n=e.length,r=[],i=[],a=0;a<n;++a)for(var o=e[a],s=o.length,l,u=0;u<s;++u)(l=o[u])&&(r.push(t.call(l,l.__data__,u,o)),i.push(l));return new XJ(r,i)}function g$(t){return function(){return this.matches(t)}}function v$(t){"function"!=typeof t&&(t=g$(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a=e[i],o=a.length,s=r[i]=[],l,u=0;u<o;++u)(l=a[u])&&t.call(l,l.__data__,u,a)&&s.push(l);return new XJ(r,this._parents)}function m$(t){return new Array(t.length)}function y$(){return new XJ(this._enter||this._groups.map(m$),this._parents)}function x$(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function _$(t){return function(){return t}}x$.prototype={constructor:x$,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var b$="$";function w$(t,e,n,r,i,a){for(var o=0,s,l=e.length,u=a.length;o<u;++o)(s=e[o])?(s.__data__=a[o],r[o]=s):n[o]=new x$(t,a[o]);for(;o<l;++o)(s=e[o])&&(i[o]=s)}function S$(t,e,n,r,i,a,o){var s,l,u={},c=e.length,h=a.length,f=new Array(c),p;for(s=0;s<c;++s)(l=e[s])&&(f[s]=p="$"+o.call(l,l.__data__,s,e),p in u?i[s]=l:u[p]=l);for(s=0;s<h;++s)(l=u[p="$"+o.call(t,a[s],s,a)])?(r[s]=l,l.__data__=a[s],u[p]=null):n[s]=new x$(t,a[s]);for(s=0;s<c;++s)(l=e[s])&&u[f[s]]===l&&(i[s]=l)}function M$(t,e){if(!t)return p=new Array(this.size()),u=-1,this.each((function(t){p[++u]=t})),p;var n=e?S$:w$,r=this._parents,i=this._groups;"function"!=typeof t&&(t=_$(t));for(var a=i.length,o=new Array(a),s=new Array(a),l=new Array(a),u=0;u<a;++u){var c=r[u],h=i[u],f=h.length,p=t.call(c,c&&c.__data__,u,r),d=p.length,g=s[u]=new Array(d),v=o[u]=new Array(d),m;n(c,h,g,v,l[u]=new Array(f),p,e);for(var y=0,x=0,_,b;y<d;++y)if(_=g[y]){for(y>=x&&(x=y+1);!(b=v[x])&&++x<d;);_._next=b||null}}return(o=new XJ(o,r))._enter=s,o._exit=l,o}function C$(){return new XJ(this._exit||this._groups.map(m$),this._parents)}function A$(t,e,n){var r=this.enter(),i=this,a=this.exit();return r="function"==typeof t?t(r):r.append(t+""),null!=e&&(i=e(i)),null==n?a.remove():n(a),r&&i?r.merge(i).order():i}function P$(t){for(var e=this._groups,n=t._groups,r=e.length,i=n.length,a=Math.min(r,i),o=new Array(r),s=0;s<a;++s)for(var l=e[s],u=n[s],c=l.length,h=o[s]=new Array(c),f,p=0;p<c;++p)(f=l[p]||u[p])&&(h[p]=f);for(;s<r;++s)o[s]=e[s];return new XJ(o,this._parents)}function k$(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,a=r[i],o;--i>=0;)(o=r[i])&&(a&&4^o.compareDocumentPosition(a)&&a.parentNode.insertBefore(o,a),a=o);return this}function T$(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=I$);for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var o=n[a],s=o.length,l=i[a]=new Array(s),u,c=0;c<s;++c)(u=o[c])&&(l[c]=u);l.sort(e)}return new XJ(i,this._parents).order()}function I$(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function E$(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function O$(){var t=new Array(this.size()),e=-1;return this.each((function(){t[++e]=this})),t}function L$(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null}function D$(){var t=0;return this.each((function(){++t})),t}function F$(){return!this.node()}function B$(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],a=0,o=i.length,s;a<o;++a)(s=i[a])&&t.call(s,s.__data__,a,i);return this}function R$(t){return function(){this.removeAttribute(t)}}function N$(t){return function(){this.removeAttributeNS(t.space,t.local)}}function j$(t,e){return function(){this.setAttribute(t,e)}}function z$(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Y$(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function G$(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function X$(t,e){var n=a$(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?N$:R$:"function"==typeof e?n.local?G$:Y$:n.local?z$:j$)(n,e))}function V$(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function H$(t){return function(){this.style.removeProperty(t)}}function W$(t,e,n){return function(){this.style.setProperty(t,e,n)}}function q$(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function U$(t,e,n){return arguments.length>1?this.each((null==e?H$:"function"==typeof e?q$:W$)(t,e,null==n?"":n)):Z$(this.node(),t)}function Z$(t,e){return t.style.getPropertyValue(e)||V$(t).getComputedStyle(t,null).getPropertyValue(e)}function Q$(t){return function(){delete this[t]}}function $$(t,e){return function(){this[t]=e}}function J$(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function K$(t,e){return arguments.length>1?this.each((null==e?Q$:"function"==typeof e?J$:$$)(t,e)):this.node()[t]}function tJ(t){return t.trim().split(/^|\s+/)}function eJ(t){return t.classList||new nJ(t)}function nJ(t){this._node=t,this._names=tJ(t.getAttribute("class")||"")}function rJ(t,e){for(var n=eJ(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function iJ(t,e){for(var n=eJ(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function aJ(t){return function(){rJ(this,t)}}function oJ(t){return function(){iJ(this,t)}}function sJ(t,e){return function(){(e.apply(this,arguments)?rJ:iJ)(this,t)}}function lJ(t,e){var n=tJ(t+"");if(arguments.length<2){for(var r=eJ(this.node()),i=-1,a=n.length;++i<a;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?sJ:e?aJ:oJ)(n,e))}function uJ(){this.textContent=""}function cJ(t){return function(){this.textContent=t}}function hJ(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function fJ(t){return arguments.length?this.each(null==t?uJ:("function"==typeof t?hJ:cJ)(t)):this.node().textContent}function pJ(){this.innerHTML=""}function dJ(t){return function(){this.innerHTML=t}}function gJ(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function vJ(t){return arguments.length?this.each(null==t?pJ:("function"==typeof t?gJ:dJ)(t)):this.node().innerHTML}function mJ(){this.nextSibling&&this.parentNode.appendChild(this)}function yJ(){return this.each(mJ)}function xJ(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function _J(){return this.each(xJ)}function bJ(t){var e="function"==typeof t?t:l$(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))}function wJ(){return null}function SJ(t,e){var n="function"==typeof t?t:l$(t),r=null==e?wJ:"function"==typeof e?e:c$(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))}function MJ(){var t=this.parentNode;t&&t.removeChild(this)}function CJ(){return this.each(MJ)}function AJ(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function PJ(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function kJ(t){return this.select(t?PJ:AJ)}function TJ(t){return arguments.length?this.property("__data__",t):this.node().__data__}nJ.prototype={add:function(t){var e;this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var IJ={},EJ;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(IJ={mouseenter:"mouseover",mouseleave:"mouseout"}));function OJ(t,e,n){return t=LJ(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function LJ(t,e,n){return function(r){try{t.call(this,this.__data__,e,n)}finally{}}}function DJ(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}function FJ(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,a;n<i;++n)a=e[n],t.type&&a.type!==t.type||a.name!==t.name?e[++r]=a:this.removeEventListener(a.type,a.listener,a.capture);++r?e.length=r:delete this.__on}}}function BJ(t,e,n){var r=IJ.hasOwnProperty(t.type)?OJ:LJ;return function(i,a,o){var s=this.__on,l,u=r(e,a,o);if(s)for(var c=0,h=s.length;c<h;++c)if((l=s[c]).type===t.type&&l.name===t.name)return this.removeEventListener(l.type,l.listener,l.capture),this.addEventListener(l.type,l.listener=u,l.capture=n),void(l.value=e);this.addEventListener(t.type,u,n),l={type:t.type,name:t.name,value:e,listener:u,capture:n},s?s.push(l):this.__on=[l]}}function RJ(t,e,n){var r=DJ(t+""),i,a=r.length,o;if(!(arguments.length<2)){for(s=e?BJ:FJ,null==n&&(n=!1),i=0;i<a;++i)this.each(s(r[i],e,n));return this}var s=this.node().__on;if(s)for(var l=0,u=s.length,c;l<u;++l)for(i=0,c=s[l];i<a;++i)if((o=r[i]).type===c.type&&o.name===c.name)return c.value}function NJ(t,e,n){var r=V$(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function jJ(t,e){return function(){return NJ(this,t,e)}}function zJ(t,e){return function(){return NJ(this,t,e.apply(this,arguments))}}function YJ(t,e){return this.each(("function"==typeof e?zJ:jJ)(t,e))}var GJ=[null];function XJ(t,e){this._groups=t,this._parents=e}function VJ(){return new XJ([[document.documentElement]],GJ)}function HJ(t){return"string"==typeof t?new XJ([[document.querySelector(t)]],[document.documentElement]):new XJ([[t]],GJ)}XJ.prototype=VJ.prototype={constructor:XJ,select:h$,selectAll:d$,filter:v$,data:M$,enter:y$,exit:C$,join:A$,merge:P$,order:k$,sort:T$,call:E$,nodes:O$,node:L$,size:D$,empty:F$,each:B$,attr:X$,style:U$,property:K$,classed:lJ,text:fJ,html:vJ,raise:yJ,lower:_J,append:bJ,insert:SJ,remove:CJ,clone:kJ,datum:TJ,on:RJ,dispatch:YJ};var WJ={value:function(){}};function qJ(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new UJ(n)}function UJ(t){this._=t}function ZJ(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}function QJ(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function $J(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=WJ,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}UJ.prototype=qJ.prototype={constructor:UJ,on:function(t,e){var n=this._,r=ZJ(t+"",n),i,a=-1,o=r.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++a<o;)if(i=(t=r[a]).type)n[i]=$J(n[i],t.name,e);else if(null==e)for(i in n)n[i]=$J(n[i],t.name,null);return this}for(;++a<o;)if((i=(t=r[a]).type)&&(i=QJ(n[i],t.name)))return i},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new UJ(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,a;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(r=0,i=(a=this._[t]).length;r<i;++r)a[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,a=r.length;i<a;++i)r[i].value.apply(e,n)}};var JJ=qJ("start","end","cancel","interrupt"),KJ=[],tK=0,eK=1,nK=2,rK=3,iK=4,aK=5,oK=6;function sK(t,e,n,r,i,a){var o=t.__transition;if(o){if(n in o)return}else t.__transition={};hK(t,n,{name:e,index:r,group:i,on:JJ,tween:KJ,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:0})}function lK(t,e){var n=cK(t,e);if(n.state>0)throw new Error("too late; already scheduled");return n}function uK(t,e){var n=cK(t,e);if(n.state>3)throw new Error("too late; already running");return n}function cK(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function hK(t,e,n){var r=t.__transition,i;function a(t){n.state=1,n.timer.restart(o,n.delay,n.time),n.delay<=t&&o(t-n.delay)}function o(a){var u,c,h,f;if(1!==n.state)return l();for(u in r)if((f=r[u]).name===n.name){if(3===f.state)return af(o);4===f.state?(f.state=6,f.timer.stop(),f.on.call("interrupt",t,t.__data__,f.index,f.group),delete r[u]):+u<e&&(f.state=6,f.timer.stop(),f.on.call("cancel",t,t.__data__,f.index,f.group),delete r[u])}if(af((function(){3===n.state&&(n.state=4,n.timer.restart(s,n.delay,n.time),s(a))})),n.state=2,n.on.call("start",t,t.__data__,n.index,n.group),2===n.state){for(n.state=3,i=new Array(h=n.tween.length),u=0,c=-1;u<h;++u)(f=n.tween[u].value.call(t,t.__data__,n.index,n.group))&&(i[++c]=f);i.length=c+1}}function s(e){for(var r=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(l),n.state=5,1),a=-1,o=i.length;++a<o;)i[a].call(t,r);5===n.state&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){for(var i in n.state=6,n.timer.stop(),delete r[e],r)return;delete t.__transition}r[e]=n,n.timer=Jh(a,0,n.time)}function fK(t,e){var n=t.__transition,r,i,a=!0,o;if(n){for(o in e=null==e?null:e+"",n)(r=n[o]).name===e?(i=r.state>2&&r.state<5,r.state=6,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[o]):a=!1;a&&delete t.__transition}}function pK(t){return this.each((function(){fK(this,t)}))}function dK(t){return function(){return t}}function gK(t,e){return function(n){return t+n*e}}function vK(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function mK(t){return 1==(t=+t)?yK:function(e,n){return n-e?vK(e,n,t):dK(isNaN(e)?n:e)}}function yK(t,e){var n=e-t;return n?gK(t,n):dK(isNaN(t)?e:t)}var xK=function t(e){var n=mK(e);function r(t,e){var r=n((t=Ap(t)).r,(e=Ap(e)).r),i=n(t.g,e.g),a=n(t.b,e.b),o=yK(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=a(e),t.opacity=o(e),t+""}}return r.gamma=t,r}(1);function _K(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var bK=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,wK=new RegExp(bK.source,"g");function SK(t){return function(){return t}}function MK(t){return function(e){return t(e)+""}}function CK(t,e){var n=bK.lastIndex=wK.lastIndex=0,r,i,a,o=-1,s=[],l=[];for(t+="",e+="";(r=bK.exec(t))&&(i=wK.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),s[o]?s[o]+=a:s[++o]=a),(r=r[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,l.push({i:o,x:_K(r,i)})),n=wK.lastIndex;return n<e.length&&(a=e.slice(n),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?MK(l[0].x):SK(e):(e=l.length,function(t){for(var n=0,r;n<e;++n)s[(r=l[n]).i]=r.x(t);return s.join("")})}var AK=180/Math.PI,PK={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},kK,TK,IK,EK;function OK(t,e,n,r,i,a){var o,s,l;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,l/=s),t*r<e*n&&(t=-t,e=-e,l=-l,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(e,t)*AK,skewX:Math.atan(l)*AK,scaleX:o,scaleY:s}}function LK(t){return"none"===t?PK:(kK||(kK=document.createElement("DIV"),TK=document.documentElement,IK=document.defaultView),kK.style.transform=t,t=IK.getComputedStyle(TK.appendChild(kK),null).getPropertyValue("transform"),TK.removeChild(kK),OK(+(t=t.slice(7,-1).split(","))[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}function DK(t){return null==t?PK:(EK||(EK=document.createElementNS("http://www.w3.org/2000/svg","g")),EK.setAttribute("transform",t),(t=EK.transform.baseVal.consolidate())?OK((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):PK)}function FK(t,e,n,r){function i(t){return t.length?t.pop()+" ":""}function a(t,r,i,a,o,s){if(t!==i||r!==a){var l=o.push("translate(",null,e,null,n);s.push({i:l-4,x:_K(t,i)},{i:l-2,x:_K(r,a)})}else(i||a)&&o.push("translate("+i+e+a+n)}function o(t,e,n,a){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),a.push({i:n.push(i(n)+"rotate(",null,r)-2,x:_K(t,e)})):e&&n.push(i(n)+"rotate("+e+r)}function s(t,e,n,a){t!==e?a.push({i:n.push(i(n)+"skewX(",null,r)-2,x:_K(t,e)}):e&&n.push(i(n)+"skewX("+e+r)}function l(t,e,n,r,a,o){if(t!==n||e!==r){var s=a.push(i(a)+"scale(",null,",",null,")");o.push({i:s-4,x:_K(t,n)},{i:s-2,x:_K(e,r)})}else 1===n&&1===r||a.push(i(a)+"scale("+n+","+r+")")}return function(e,n){var r=[],i=[];return e=t(e),n=t(n),a(e.translateX,e.translateY,n.translateX,n.translateY,r,i),o(e.rotate,n.rotate,r,i),s(e.skewX,n.skewX,r,i),l(e.scaleX,e.scaleY,n.scaleX,n.scaleY,r,i),e=n=null,function(t){for(var e=-1,n=i.length,a;++e<n;)r[(a=i[e]).i]=a.x(t);return r.join("")}}}var BK=FK(LK,"px, ","px)","deg)"),RK=FK(DK,", ",")",")");function NK(t,e){var n,r;return function(){var i=uK(this,t),a=i.tween;if(a!==n)for(var o=0,s=(r=n=a).length;o<s;++o)if(r[o].name===e){(r=r.slice()).splice(o,1);break}i.tween=r}}function jK(t,e,n){var r,i;if("function"!=typeof n)throw new Error;return function(){var a=uK(this,t),o=a.tween;if(o!==r){i=(r=o).slice();for(var s={name:e,value:n},l=0,u=i.length;l<u;++l)if(i[l].name===e){i[l]=s;break}l===u&&i.push(s)}a.tween=i}}function zK(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=cK(this.node(),n).tween,i=0,a=r.length,o;i<a;++i)if((o=r[i]).name===t)return o.value;return null}return this.each((null==e?NK:jK)(n,t,e))}function YK(t,e,n){var r=t._id;return t.each((function(){var t=uK(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)})),function(t){return cK(t,r).value[e]}}function GK(t,e){var n;return("number"==typeof e?_K:e instanceof wp?xK:(n=wp(e))?(e=n,xK):CK)(t,e)}function XK(t){return function(){this.removeAttribute(t)}}function VK(t){return function(){this.removeAttributeNS(t.space,t.local)}}function HK(t,e,n){var r,i=n+"",a;return function(){var o=this.getAttribute(t);return o===i?null:o===r?a:a=e(r=o,n)}}function WK(t,e,n){var r,i=n+"",a;return function(){var o=this.getAttributeNS(t.space,t.local);return o===i?null:o===r?a:a=e(r=o,n)}}function qK(t,e,n){var r,i,a;return function(){var o,s=n(this),l;if(null!=s)return(o=this.getAttribute(t))===(l=s+"")?null:o===r&&l===i?a:(i=l,a=e(r=o,s));this.removeAttribute(t)}}function UK(t,e,n){var r,i,a;return function(){var o,s=n(this),l;if(null!=s)return(o=this.getAttributeNS(t.space,t.local))===(l=s+"")?null:o===r&&l===i?a:(i=l,a=e(r=o,s));this.removeAttributeNS(t.space,t.local)}}function ZK(t,e){var n=a$(t),r="transform"===n?RK:GK;return this.attrTween(t,"function"==typeof e?(n.local?UK:qK)(n,r,YK(this,"attr."+t,e)):null==e?(n.local?VK:XK)(n):(n.local?WK:HK)(n,r,e))}function QK(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function $K(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function JK(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&$K(t,i)),n}return i._value=e,i}function KK(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&QK(t,i)),n}return i._value=e,i}function t0(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var r=a$(t);return this.tween(n,(r.local?JK:KK)(r,e))}function e0(t,e){return function(){lK(this,t).delay=+e.apply(this,arguments)}}function n0(t,e){return e=+e,function(){lK(this,t).delay=e}}function r0(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?e0:n0)(e,t)):cK(this.node(),e).delay}function i0(t,e){return function(){uK(this,t).duration=+e.apply(this,arguments)}}function a0(t,e){return e=+e,function(){uK(this,t).duration=e}}function o0(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?i0:a0)(e,t)):cK(this.node(),e).duration}function s0(t,e){if("function"!=typeof e)throw new Error;return function(){uK(this,t).ease=e}}function l0(t){var e=this._id;return arguments.length?this.each(s0(e,t)):cK(this.node(),e).ease}function u0(t){"function"!=typeof t&&(t=g$(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a=e[i],o=a.length,s=r[i]=[],l,u=0;u<o;++u)(l=a[u])&&t.call(l,l.__data__,u,a)&&s.push(l);return new N0(r,this._parents,this._name,this._id)}function c0(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,a=Math.min(r,i),o=new Array(r),s=0;s<a;++s)for(var l=e[s],u=n[s],c=l.length,h=o[s]=new Array(c),f,p=0;p<c;++p)(f=l[p]||u[p])&&(h[p]=f);for(;s<r;++s)o[s]=e[s];return new N0(o,this._parents,this._name,this._id)}function h0(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}function f0(t,e,n){var r,i,a=h0(e)?lK:uK;return function(){var o=a(this,t),s=o.on;s!==r&&(i=(r=s).copy()).on(e,n),o.on=i}}function p0(t,e){var n=this._id;return arguments.length<2?cK(this.node(),n).on.on(t):this.each(f0(n,t,e))}function d0(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function g0(){return this.on("end.remove",d0(this._id))}function v0(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=c$(t));for(var r=this._groups,i=r.length,a=new Array(i),o=0;o<i;++o)for(var s=r[o],l=s.length,u=a[o]=new Array(l),c,h,f=0;f<l;++f)(c=s[f])&&(h=t.call(c,c.__data__,f,s))&&("__data__"in c&&(h.__data__=c.__data__),u[f]=h,sK(u[f],e,n,f,u,cK(c,n)));return new N0(a,this._parents,e,n)}function m0(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=p$(t));for(var r=this._groups,i=r.length,a=[],o=[],s=0;s<i;++s)for(var l=r[s],u=l.length,c,h=0;h<u;++h)if(c=l[h]){for(var f=t.call(c,c.__data__,h,l),p,d=cK(c,n),g=0,v=f.length;g<v;++g)(p=f[g])&&sK(p,e,n,g,f,d);a.push(f),o.push(c)}return new N0(a,o,e,n)}var y0=VJ.prototype.constructor;function x0(){return new y0(this._groups,this._parents)}function _0(t,e){var n,r,i;return function(){var a=Z$(this,t),o=(this.style.removeProperty(t),Z$(this,t));return a===o?null:a===n&&o===r?i:i=e(n=a,r=o)}}function b0(t){return function(){this.style.removeProperty(t)}}function w0(t,e,n){var r,i=n+"",a;return function(){var o=Z$(this,t);return o===i?null:o===r?a:a=e(r=o,n)}}function S0(t,e,n){var r,i,a;return function(){var o=Z$(this,t),s=n(this),l=s+"";return null==s&&(this.style.removeProperty(t),l=s=Z$(this,t)),o===l?null:o===r&&l===i?a:(i=l,a=e(r=o,s))}}function M0(t,e){var n,r,i,a="style."+e,o="end."+a,s;return function(){var l=uK(this,t),u=l.on,c=null==l.value[a]?s||(s=b0(e)):void 0;u===n&&i===c||(r=(n=u).copy()).on(o,i=c),l.on=r}}function C0(t,e,n){var r="transform"==(t+="")?BK:GK;return null==e?this.styleTween(t,_0(t,r)).on("end.style."+t,b0(t)):"function"==typeof e?this.styleTween(t,S0(t,r,YK(this,"style."+t,e))).each(M0(this._id,t)):this.styleTween(t,w0(t,r,e),n).on("end.style."+t,null)}function A0(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function P0(t,e,n){var r,i;function a(){var a=e.apply(this,arguments);return a!==i&&(r=(i=a)&&A0(t,a,n)),r}return a._value=e,a}function k0(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,P0(t,e,null==n?"":n))}function T0(t){return function(){this.textContent=t}}function I0(t){return function(){var e=t(this);this.textContent=null==e?"":e}}function E0(t){return this.tween("text","function"==typeof t?I0(YK(this,"text",t)):T0(null==t?"":t+""))}function O0(t){return function(e){this.textContent=t.call(this,e)}}function L0(t){var e,n;function r(){var r=t.apply(this,arguments);return r!==n&&(e=(n=r)&&O0(r)),e}return r._value=t,r}function D0(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,L0(t))}function F0(){for(var t=this._name,e=this._id,n=j0(),r=this._groups,i=r.length,a=0;a<i;++a)for(var o=r[a],s=o.length,l,u=0;u<s;++u)if(l=o[u]){var c=cK(l,e);sK(l,t,n,u,o,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new N0(r,this._parents,t,n)}function B0(){var t,e,n=this,r=n._id,i=n.size();return new Promise((function(a,o){var s={value:o},l={value:function(){0==--i&&a()}};n.each((function(){var n=uK(this,r),i=n.on;i!==t&&((e=(t=i).copy())._.cancel.push(s),e._.interrupt.push(s),e._.end.push(l)),n.on=e}))}))}var R0=0;function N0(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function j0(){return++R0}var z0=VJ.prototype;N0.prototype={constructor:N0,select:v0,selectAll:m0,filter:u0,merge:c0,selection:x0,transition:F0,call:z0.call,nodes:z0.nodes,node:z0.node,size:z0.size,empty:z0.empty,each:z0.each,on:p0,attr:ZK,attrTween:t0,style:C0,styleTween:k0,text:E0,textTween:D0,remove:g0,tween:zK,delay:r0,duration:o0,ease:l0,end:B0};var Y0={time:null,delay:0,duration:250,ease:gf};function G0(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return Y0.time=Zh(),Y0;return n}function X0(t){var e,n;t instanceof N0?(e=t._id,t=t._name):(e=j0(),(n=Y0).time=Zh(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var o=r[a],s=o.length,l,u=0;u<s;++u)(l=o[u])&&sK(l,t,e,u,o,n||G0(l,e));return new N0(r,this._parents,t,e)}function V0(){var t=600,e=350,n=15,r=1e3,i=Math.PI/2,a=!0,o=!0,s=!0,l=null,u=null,c={},h=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],f=0,p=function(t){if(t in c)return c[t];var e=c[t]=h[f];return(f+=1)>=h.length&&(f=0),e},d=GQ,g=$Q;function v(c){var h=c.datum(),f={};h.forEach((function(t){0==t.size&&1==t.sets.length&&(f[t.sets[0]]=1)})),h=h.filter((function(t){return!t.sets.some((function(t){return t in f}))}));var v={},m={};if(h.length>0){var y=d(h,{lossFunction:g});a&&(y=e$(y,i,u)),v=n$(y,t,e,n),m=Z0(v,h)}var x={};function _(t){return t.sets in x?x[t.sets]:1==t.sets.length?""+t.sets[0]:void 0}h.forEach((function(t){t.label&&(x[t.sets]=t.label)})),c.selectAll("svg").data([v]).enter().append("svg");var b=c.select("svg").attr("width",t).attr("height",e),w={},S=!1;b.selectAll(".venn-area path").each((function(t){var e=HJ(this).attr("d");1==t.sets.length&&e&&(S=!0,w[t.sets[0]]=J0(e))}));var M=function(n){return function(r){var i;return K0(n.sets.map((function(n){var i=w[n],a=v[n];return i||(i={x:t/2,y:e/2,radius:1}),a||(a={x:t/2,y:e/2,radius:1}),{x:i.x*(1-r)+a.x*r,y:i.y*(1-r)+a.y*r,radius:i.radius*(1-r)+a.radius*r}})))}},C=b.selectAll(".venn-area").data(h,(function(t){return t.sets})),A=C.enter().append("g").attr("class",(function(t){return"venn-area venn-"+(1==t.sets.length?"circle":"intersection")})).attr("data-venn-sets",(function(t){return t.sets.join("_")})),P=A.append("path"),k=A.append("text").attr("class","label").text((function(t){return _(t)})).attr("text-anchor","middle").attr("dy",".35em").attr("x",t/2).attr("y",e/2);s&&(P.style("fill-opacity","0").filter((function(t){return 1==t.sets.length})).style("fill",(function(t){return p(t.sets)})).style("fill-opacity",".25"),k.style("fill",(function(t){return 1==t.sets.length?p(t.sets):"#444"})));var T=c;S?(T=c.transition("venn").duration(r)).selectAll("path").attrTween("d",M):T.selectAll("path").attr("d",(function(t){return K0(t.sets.map((function(t){return v[t]})))}));var I=T.selectAll("text").filter((function(t){return t.sets in m})).text((function(t){return _(t)})).attr("x",(function(t){return Math.floor(m[t.sets].x)})).attr("y",(function(t){return Math.floor(m[t.sets].y)}));o&&(S?"on"in I?I.on("end",H0(v,_)):I.each("end",H0(v,_)):I.each(H0(v,_)));var E=C.exit().transition("venn").duration(r).remove();E.selectAll("path").attrTween("d",M);var O=E.selectAll("text").attr("x",t/2).attr("y",e/2);return null!==l&&(k.style("font-size","0px"),I.style("font-size",l),O.style("font-size","0px")),{circles:v,textCentres:m,nodes:C,enter:A,update:T,exit:E}}return v.wrap=function(t){return arguments.length?(o=t,v):o},v.width=function(e){return arguments.length?(t=e,v):t},v.height=function(t){return arguments.length?(e=t,v):e},v.padding=function(t){return arguments.length?(n=t,v):n},v.colours=function(t){return arguments.length?(p=t,v):p},v.fontSize=function(t){return arguments.length?(l=t,v):l},v.duration=function(t){return arguments.length?(r=t,v):r},v.layoutFunction=function(t){return arguments.length?(d=t,v):d},v.normalize=function(t){return arguments.length?(a=t,v):a},v.styled=function(t){return arguments.length?(s=t,v):s},v.orientation=function(t){return arguments.length?(i=t,v):i},v.orientationOrder=function(t){return arguments.length?(u=t,v):u},v.lossFunction=function(t){return arguments.length?(g=t,v):g},v}function H0(t,e){return function(){for(var n=HJ(this),r=n.datum(),i=t[r.sets[0]].radius||50,a=e(r)||"",o=a.split(/\s+/).reverse(),s=3,l=(a.length+o.length)/3,u=o.pop(),c=[u],h,f=0,p=1.1,d=n.text(null).append("tspan").text(u);u=o.pop();)c.push(u),h=c.join(" "),d.text(h),h.length>l&&d.node().getComputedTextLength()>i&&(c.pop(),d.text(c.join(" ")),c=[u],d=n.append("tspan").text(u),f++);var g=.35-f*p/2,v=n.attr("x"),m=n.attr("y");n.selectAll("tspan").attr("x",v).attr("y",m).attr("dy",(function(t,e){return g+e*p+"em"}))}}function W0(t,e,n){var r=e[0].radius-kQ(e[0],t),i,a;for(i=1;i<e.length;++i)(a=e[i].radius-kQ(e[i],t))<=r&&(r=a);for(i=0;i<n.length;++i)(a=kQ(n[i],t)-n[i].radius)<=r&&(r=a);return r}function q0(t,e){var n=[],r;for(r=0;r<t.length;++r){var i=t[r];n.push({x:i.x,y:i.y}),n.push({x:i.x+i.radius/2,y:i.y}),n.push({x:i.x-i.radius/2,y:i.y}),n.push({x:i.x,y:i.y+i.radius/2}),n.push({x:i.x,y:i.y-i.radius/2})}var a=n[0],o=W0(n[0],t,e);for(r=1;r<n.length;++r){var s=W0(n[r],t,e);s>=o&&(a=n[r],o=s)}var l=jQ((function(n){return-1*W0({x:n[0],y:n[1]},t,e)}),[a.x,a.y],{maxIterations:500,minErrorDelta:1e-10}).x,u={x:l[0],y:l[1]},c=!0;for(r=0;r<t.length;++r)if(kQ(u,t[r])>t[r].radius){c=!1;break}for(r=0;r<e.length;++r)if(kQ(u,e[r])<e[r].radius){c=!1;break}if(!c)if(1==t.length)u={x:t[0].x,y:t[0].y};else{var h={};MQ(t,h),u=0===h.arcs.length?{x:0,y:-1e3,disjoint:!0}:1==h.arcs.length?{x:h.arcs[0].circle.x,y:h.arcs[0].circle.y}:e.length?q0(t,[]):EQ(h.arcs.map((function(t){return t.p1})))}return u}function U0(t){var e={},n=[];for(var r in t)n.push(r),e[r]=[];for(var i=0;i<n.length;i++)for(var a=t[n[i]],o=i+1;o<n.length;++o){var s=t[n[o]],l=kQ(a,s);l+s.radius<=a.radius+1e-10?e[n[o]].push(n[i]):l+a.radius<=s.radius+1e-10&&e[n[i]].push(n[o])}return e}function Z0(t,e){for(var n={},r=U0(t),i=0;i<e.length;++i){for(var a=e[i].sets,o={},s={},l=0;l<a.length;++l){o[a[l]]=!0;for(var u=r[a[l]],c=0;c<u.length;++c)s[u[c]]=!0}var h=[],f=[];for(var p in t)p in o?h.push(t[p]):p in s||f.push(t[p]);var d=q0(h,f);n[a]=d,d.disjoint&&e[i].size>0&&console.log("WARNING: area "+a+" not represented on screen")}return n}function Q0(t,e){for(var n=U0(t.selectAll("svg").datum()),r={},i=0;i<e.sets.length;++i){var a=e.sets[i];for(var o in n)for(var s=n[o],l=0;l<s.length;++l)if(s[l]==a){r[o]=!0;break}}function u(t){for(var e=0;e<t.length;++e)if(!(t[e]in r))return!1;return!0}t.selectAll("g").sort((function(t,n){return t.sets.length!=n.sets.length?t.sets.length-n.sets.length:t==e?u(n.sets)?-1:1:n==e?u(t.sets)?1:-1:n.size-t.size}))}function $0(t,e,n){var r=[];return r.push("\nM",t,e),r.push("\nm",-n,0),r.push("\na",n,n,0,1,0,2*n,0),r.push("\na",n,n,0,1,0,2*-n,0),r.join(" ")}function J0(t){var e=t.split(" ");return{x:parseFloat(e[1]),y:parseFloat(e[2]),radius:-parseFloat(e[4])}}function K0(t){var e={};MQ(t,e);var n=e.arcs;if(0===n.length)return"M 0 0";if(1==n.length){var r=n[0].circle;return $0(r.x,r.y,r.radius)}for(var i=["\nM",n[0].p2.x,n[0].p2.y],a=0;a<n.length;++a){var o=n[a],s=o.circle.radius,l=o.width>s;i.push("\nA",s,s,0,l?1:0,1,o.p1.x,o.p1.y)}return i.join(" ")}VJ.prototype.interrupt=pK,VJ.prototype.transition=X0;var t1,e1=s(Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",intersectionArea:MQ,circleCircleIntersection:IQ,circleOverlap:TQ,circleArea:PQ,distance:kQ,venn:GQ,greedyLayout:QQ,scaleSolution:n$,normalizeSolution:e$,bestInitialLayout:UQ,lossFunction:$Q,disjointCluster:KQ,distanceFromIntersectArea:VQ,VennDiagram:V0,wrapText:H0,computeTextCentres:Z0,computeTextCentre:q0,sortAreas:Q0,circlePath:$0,circleFromPath:J0,intersectionAreaPath:K0})),n1=ow,r1=PN,i1=$W,a1=cC,o1=n1.PathUtil;function s1(t){var e=a1.shape.venn,n=n1.mix({},e,t.style);return i1.addFillAttrs(n,t),n}function l1(t){var e=a1.shape.hollowVenn,n=n1.mix({},e,t.style);return i1.addStrokeAttrs(n,t),n}function u1(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,c1(t,e)}function c1(t,e){return(c1=Object.setPrototypeOf||function t(e,n){return e.__proto__=n,e})(t,e)}r1.registerFactory("venn",{defaultShapeType:"venn",getActiveCfg:function t(e,n){var r=n.lineWidth||1,i;return"hollow"===e?{lineWidth:r+1}:{fillOpacity:(n.fillOpacity||n.opacity||1)-.08}},getSelectedCfg:function t(e,n){return n&&n.style?n.style:this.getActiveCfg(e,n)}}),r1.registerShape("venn","venn",{draw:function t(e,n){var r,i=e.origin._origin.path,a=s1(e),o=o1.parsePathString(i),s;return n.addShape("path",{attrs:n1.mix(a,{path:o})})},getMarkerCfg:function t(e){return n1.mix({symbol:"circle",radius:4},s1(e))}}),r1.registerShape("venn","hollow",{draw:function t(e,n){var r,i=e.origin._origin.path,a=l1(e),o=o1.parsePathString(i),s;return n.addShape("path",{attrs:n1.mix(a,{path:o})})},getMarkerCfg:function t(e){return n1.mix({symbol:"circle",radius:4},s1(e))}});var h1=yj,f1=ow,p1=e1,d1=p1.venn,g1=p1.scaleSolution,v1=p1.circlePath,m1=p1.intersectionAreaPath,y1=p1.computeTextCentres,x1=function(t){function e(){return t.apply(this,arguments)||this}u1(e,t);var n=e.prototype;return n.getDefaultCfg=function e(){var n=t.prototype.getDefaultCfg.call(this);return n.type="venn",n.shapeType="venn",n.generatePoints=!1,n},n._getAttrValues=function e(n,r){return"position"===n.type?[r.x,r.y]:t.prototype._getAttrValues.call(this,n,r)},n.sets=function t(e){return this.set("setsField",e),this},n._initAttrs=function e(){var n=this;t.prototype._initAttrs.call(this);var r=n.get("attrOptions"),i=n.get("setsField")||"sets",a=n.get("data"),o=r.size?r.size.field:"size";a.forEach((function(t){t.sets=t[i],t._sets=t[i].join("&"),t.size=t[o]}));var s=d1(a),l=n.get("coord"),u=[Math.min(l.x.end,l.x.start),Math.max(l.x.end,l.x.start)],c=[Math.min(l.y.end,l.y.start),Math.max(l.y.end,l.y.start)],h=u[1]-u[0],f=c[1]-c[0],p=n.get("styleOptions"),d=p&&f1.isObject(p.style)?p.style.padding:0;f1.isFinite(d)||(d=0);var g=g1(s,h,f,d),v=y1(g,a);a.forEach((function(t){var e=t.sets,n=e.join(",");if(t.id=n,1===e.length){var r=g[n];t.path=v1(r.x,r.y,r.radius),f1.assign(t,r)}else{var i=e.map((function(t){return g[t]})),a=m1(i);/[zZ]$/.test(a)||(a+="Z"),t.path=a;var o=v[n]||{x:0,y:0};f1.assign(t,o)}}))},e}(h1);h1.Venn=x1;var _1=x1,b1=ow,w1=PN,S1=$W,M1=cC,C1=QR;function A1(t){var e=M1.shape.venn,n=b1.mix({},e,t.style);return S1.addFillAttrs(n,t),t.color&&(n.stroke=n.stroke||t.color),n}function P1(t){var e=M1.shape.hollowVenn,n=b1.mix({},e,t.style);return S1.addStrokeAttrs(n,t),n}function k1(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];if(r){var i=0===n?"M":"L";e.push([i,r.x,r.y])}}var a=t[0];return a&&(e.push(["L",a.x,a.y]),e.push(["z"])),e}function T1(t){for(var e=t.length/2,n=[],r=[],i=0;i<t.length;i++)i<e?n.push(t[i]):r.push(t[i]);var a=C1.getSplinePath(n,!1),o=C1.getSplinePath(r,!1);r.length&&a.push(["L",r[0].x,r[0].y]),o.shift();var s=a.concat(o);return n.length&&s.push(["L",n[0].x,n[0].y]),s.push(["z"]),s}function I1(t){var e=Math.max.apply(null,t);return t.map((function(t){return t/e}))}function E1(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function O1(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,L1(t,e)}function L1(t,e){return(L1=Object.setPrototypeOf||function t(e,n){return e.__proto__=n,e})(t,e)}w1.registerFactory("violin",{defaultShapeType:"violin",getDefaultPoints:function t(e){var n=e.size/2,r=[],i=I1(e._size);return b1.each(e.y,(function(t,a){var o=i[a]*n,s=0===a,l=a===e.y.length-1;r.push({isMin:s,isMax:l,x:e.x-o,y:t}),r.unshift({isMin:s,isMax:l,x:e.x+o,y:t})})),r},getActiveCfg:function t(e,n){var r=n.lineWidth||1,i;return"hollow"===e?{lineWidth:r+1}:{fillOpacity:(n.fillOpacity||n.opacity||1)-.08}},getSelectedCfg:function t(e,n){return n&&n.style?n.style:this.getActiveCfg(e,n)}}),w1.registerShape("violin","violin",{draw:function t(e,n){var r=A1(e),i=k1(e.points),a;return i=this.parsePath(i),n.addShape("path",{attrs:b1.mix(r,{path:i})})},getMarkerCfg:function t(e){return b1.mix({symbol:"circle",radius:4},A1(e))}}),w1.registerShape("violin","smooth",{draw:function t(e,n){var r=A1(e),i=T1(e.points),a;return i=this.parsePath(i),n.addShape("path",{attrs:b1.mix(r,{path:i})})},getMarkerCfg:function t(e){return b1.mix({symbol:"circle",radius:4},A1(e))}}),w1.registerShape("violin","hollow",{draw:function t(e,n){var r=P1(e),i=k1(e.points),a;return i=this.parsePath(i),n.addShape("path",{attrs:b1.mix(r,{path:i})})},getMarkerCfg:function t(e){return b1.mix({symbol:"circle",radius:4},P1(e))}}),w1.registerShape("violin","smoothHollow",{draw:function t(e,n){var r=P1(e),i=T1(e.points),a;return i=this.parsePath(i),n.addShape("path",{attrs:b1.mix(r,{path:i})})},getMarkerCfg:function t(e){return b1.mix({symbol:"circle",radius:4},P1(e))}});var D1=yj,F1=ow,B1=uU,R1=function(t){O1(n,t);var e=n.prototype;function n(e){var n;return n=t.call(this,e)||this,F1.assign(E1(n),B1),n}return e.getDefaultCfg=function e(){var n=t.prototype.getDefaultCfg.call(this);return n.type="violin",n.shapeType="violin",n.generatePoints=!0,n},e.createShapePointsCfg=function e(n){var r=this,i=t.prototype.createShapePointsCfg.call(this,n);i.size=r.getNormalizedSize(n);var a=r.get("_sizeField");return i._size=n._origin[a],i},e.clearInner=function e(){t.prototype.clearInner.call(this),this.set("defaultSize",null)},e._initAttrs=function e(){var n=this,r=n.get("attrOptions"),i=r.size?r.size.field:n.get("_sizeField")?n.get("_sizeField"):"size";n.set("_sizeField",i),delete r.size,t.prototype._initAttrs.call(this)},n}(D1),N1=function(t){function e(){return t.apply(this,arguments)||this}var n;return O1(e,t),e.prototype.getDefaultCfg=function e(){var n=t.prototype.getDefaultCfg.call(this);return n.hasDefaultAdjust=!0,n.adjusts=[{type:"dodge"}],n},e}(R1);R1.Dodge=N1,D1.Violin=R1,D1.ViolinDodge=N1;var j1=R1,z1=yj;z1.Point=xq,z1.PointJitter=z1.Point.Jitter,z1.PointStack=z1.Point.Stack,z1.Path=Iq,z1.Line=iU,z1.LineStack=z1.Line.Stack,z1.Interval=YU,z1.IntervalStack=z1.Interval.Stack,z1.IntervalDodge=z1.Interval.Dodge,z1.IntervalSymmetric=z1.Interval.Symmetric,z1.Area=lZ,z1.AreaStack=z1.Area.Stack,z1.Polygon=bZ,z1.Schema=XZ,z1.SchemaDodge=z1.Schema.Dodge,z1.Edge=sQ,z1.Heatmap=wQ,z1.Venn=_1,z1.Violin=j1,Object.defineProperty(UW,"__esModule",{value:!0});var Y1,G1=X1(gW);function X1(t){return t&&t.__esModule?t:{default:t}}UW.default=G1.default.generateBaseTypedComponent("Geom");var V1={};Object.defineProperty(V1,"__esModule",{value:!0});var H1=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),W1,q1=Q1(gW),U1,Z1=Q1(l.exports);function Q1(t){return t&&t.__esModule?t:{default:t}}function $1(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function J1(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function K1(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var t2=function(t){function e(t){$1(this,e);var n=J1(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,"View"));return n.getViewId=function(){return n.id},n}return K1(e,t),H1(e,[{key:"getChildContext",value:function t(){return{addElement:this.context.addElement,updateElement:this.context.updateElement,deleteElement:this.context.deleteElement,createId:this.context.createId,getParentInfo:this.getParentInfo,getViewId:this.getViewId}}}]),e}(q1.default);t2.contextTypes={addElement:Z1.default.func,updateElement:Z1.default.func,deleteElement:Z1.default.func,createId:Z1.default.func,getParentInfo:Z1.default.func,getViewId:Z1.default.func},t2.childContextTypes={addElement:Z1.default.func,updateElement:Z1.default.func,deleteElement:Z1.default.func,createId:Z1.default.func,getParentInfo:Z1.default.func,getViewId:Z1.default.func},V1.default=t2;var e2={};Object.defineProperty(e2,"__esModule",{value:!0});var n2,r2=i2(gW);function i2(t){return t&&t.__esModule?t:{default:t}}var a2=r2.default.generateBaseTypedComponent("Guide");a2.Line=r2.default.generateBaseTypedComponent("GuideLine"),a2.Image=r2.default.generateBaseTypedComponent("GuideImage"),a2.Text=r2.default.generateBaseTypedComponent("GuideText"),a2.Region=r2.default.generateBaseTypedComponent("GuideRegion"),a2.Html=r2.default.generateBaseTypedComponent("GuideHtml"),a2.Arc=r2.default.generateBaseTypedComponent("GuideArc"),a2.RegionFilter=r2.default.generateBaseTypedComponent("GuideRegionFilter"),a2.DataMarker=r2.default.generateBaseTypedComponent("GuideDataMarker"),a2.DataRegion=r2.default.generateBaseTypedComponent("GuideDataRegion"),e2.default=a2;var o2={};Object.defineProperty(o2,"__esModule",{value:!0});var s2=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l2,u2=d2(h),c2,h2=d2(gW),f2,p2=d2(l.exports);function d2(t){return t&&t.__esModule?t:{default:t}}function g2(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v2(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function m2(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var y2=function(t){function e(t){return g2(this,e),v2(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,"Label"))}return m2(e,t),s2(e,[{key:"componentWillMount",value:function t(){var e=this.context.getParentInfo();(0,u2.default)("Geom"===e.name,"`<Label />` must be wrapped in `<Geom />`"),this.id=this.context.createId(),this.context.addElement(this.name,this.id,this.props,this.context.getParentInfo(),this.context.getViewId())}}]),e}(h2.default);y2.contextTypes={addElement:p2.default.func,updateElement:p2.default.func,deleteElement:p2.default.func,createId:p2.default.func,getParentInfo:p2.default.func,getViewId:p2.default.func},y2.childContextTypes={addElement:p2.default.func,updateElement:p2.default.func,deleteElement:p2.default.func,createId:p2.default.func,getParentInfo:p2.default.func,getViewId:p2.default.func},o2.default=y2;var x2={},_2=cC,b2=ow,w2=b2.assign,S2=b2.isNil,M2=b2.isArray,C2=b2.cloneDeep,A2=b2.wrapBehavior,P2=b2.getWrapBehavior,k2=function(){var t=e.prototype;function e(t){var e=this.getDefaultCfg();w2(this,e,t),this.init()}return t.getDefaultCfg=function t(){return{chart:null,group:null,showTitle:!0,autoSetAxis:!0,padding:10,eachView:null,fields:[],colTitle:{offsetY:-15,style:{fontSize:14,textAlign:"center",fill:"#666",fontFamily:_2.fontFamily}},rowTitle:{offsetX:15,style:{fontSize:14,textAlign:"center",rotate:90,fill:"#666",fontFamily:_2.fontFamily}}}},t.init=function t(){if(!this.chart)throw new Error("Facets Error: please specify the chart!");this._bindEvent(),this.initContainer(),this.chart.get("data")&&this.initViews()},t.initContainer=function t(){var e,n,r=this.chart.get("frontPlot").addGroup();this.group=r},t.initViews=function t(){for(var e=this.chart,n=e.get("data"),r=this.eachView,i=this.generateFacets(n),a=0;a<i.length;a++){var o=i[a],s=o.region,l=e.view({start:s.start,end:s.end,padding:this.padding});l.source(o.data),this.beforeProcessView(l,o),r&&r(l,o),this.afterProcessView(l,o),o.view=l}this.facets=i},t.beforeProcessView=function t(){},t.afterProcessView=function t(e,n){this.autoSetAxis&&this.processAxis(e,n)},t.processAxis=function t(e,n){var r=e.get("options"),i=e.get("geoms");if((!r.coord.type||"rect"===r.coord.type)&&i.length){var a=i[0].get("attrOptions").position.field,o=M2(a)?a:a.split("*").map((function(t){return t.trim()})),s=o[0],l=o[1];S2(r.axes)&&(r.axes={});var u=r.axes;!1!==u&&(s&&!1!==u[s]&&(u[s]=u[s]||{},this.setXAxis(s,u,n)),l&&!1!==u[l]&&(u[l]=u[l]||{},this.setYAxis(l,u,n)))}},t.setXAxis=function t(){},t.setYAxis=function t(){},t.renderTitle=function t(e,n){this.drawColTitle(e,n)},t.getScaleText=function t(e,n,r){var i;if(e){var a,o=r.get("scales")[e];o||(o=r.createScale(e)),i=o.getText(n)}else i=n;return i},t.drawColTitle=function t(e,n){var r=this.getScaleText(n.colField,n.colValue,e),i=w2({position:["50%","0%"],content:r},this.colTitle);e.guide().text(i)},t.drawRowTitle=function t(e,n){var r=this.getScaleText(n.rowField,n.rowValue,e),i=w2({position:["100%","50%"],content:r},C2(this.rowTitle));e.guide().text(i)},t.getFilter=function t(e){var n;return function t(n){var r=!0;return e.forEach((function(t){var e=t.field,i=t.value,a=!0;!S2(i)&&e&&(a=n[e]===i),r=r&&a})),r}},t.getFieldValues=function t(e,n){for(var r=[],i={},a=0;a<n.length;a++){var o,s=n[a][e];S2(s)||i[s]||(r.push(s),i[s]=!0)}return r},t.getRegion=function t(e,n,r,i){var a=1/n,o=1/e,s={x:a*r,y:o*i},l;return{start:s,end:{x:s.x+a,y:s.y+o}}},t.generateFacets=function t(){return[]},t._bindEvent=function t(){var e=this.chart;e.on("afterchangedata",A2(this,"onDataChange")),e.on("beforeclear",A2(this,"onClear")),e.on("beforedestroy",A2(this,"destroy")),e.on("beforepaint",A2(this,"onPaint")),e.on("setdata",A2(this,"onDataChange"))},t._clearEvent=function t(){var e=this.chart;e&&(e.off("afterchangedata",P2(this,"onDataChange")),e.off("beforeclear",P2(this,"onClear")),e.off("beforedestroy",P2(this,"destroy")),e.off("beforepaint",P2(this,"onPaint")),e.off("setdata",P2(this,"onDataChange")))},t._clearFacets=function t(){var e=this.facets,n=this.chart;if(e)for(var r=0;r<e.length;r++){var i=e[r];n.removeView(i.view)}this.facets=null},t.onClear=function t(){this.onRemove()},t.onPaint=function t(){if(this.showTitle)for(var e=this.facets,n=0;n<e.length;n++){var r=e[n],i=r.view;this.renderTitle(i,r)}},t.onDataChange=function t(){this._clearFacets(),this.initViews()},t.onRemove=function t(){this._clearFacets(),this._clearEvent(),this.group&&this.group.remove(),this.chart=null,this.facets=null,this.group=null},t.destroy=function t(){this.onRemove(),this.destroyed=!0},e}(),T2=k2;function I2(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,E2(t,e)}function E2(t,e){return(E2=Object.setPrototypeOf||function t(e,n){return e.__proto__=n,e})(t,e)}var O2,L2,D2=function(t){function e(){return t.apply(this,arguments)||this}I2(e,t);var n=e.prototype;return n.getDefaultCfg=function e(){var n=t.prototype.getDefaultCfg.call(this);return n.type="rect",n},n.generateFacets=function t(e){var n=this,r=n.fields,i=[],a=1,o=1,s=r[0],l=r[1],u=[""],c=[""];return s&&(u=n.getFieldValues(s,e),o=u.length),l&&(c=n.getFieldValues(l,e),a=c.length),u.forEach((function(t,r){c.forEach((function(h,f){var p=[{field:s,value:t,values:u},{field:l,value:h,values:c}],d=n.getFilter(p),g=e.filter(d),v={type:n.type,colValue:t,rowValue:h,colField:s,rowField:l,colIndex:r,rowIndex:f,cols:o,rows:a,data:g,region:n.getRegion(a,o,r,f)};i.push(v)}))})),i},n.setXAxis=function t(e,n,r){r.rowIndex!==r.rows-1?(n[e].title=null,n[e].label=null):r.colIndex!==parseInt((r.cols-1)/2)&&(n[e].title=null)},n.setYAxis=function t(e,n,r){0!==r.colIndex?(n[e].title=null,n[e].label=null):r.rowIndex!==parseInt((r.rows-1)/2)&&(n[e].title=null)},n.renderTitle=function t(e,n){0===n.rowIndex&&this.drawColTitle(e,n),n.colIndex===n.cols-1&&this.drawRowTitle(e,n)},e}(T2);function F2(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,B2(t,e)}function B2(t,e){return(B2=Object.setPrototypeOf||function t(e,n){return e.__proto__=n,e})(t,e)}var R2,N2,j2=function(t){function e(){return t.apply(this,arguments)||this}F2(e,t);var n=e.prototype;return n.getDefaultCfg=function e(){var n=t.prototype.getDefaultCfg.call(this);return n.type="list",n.cols=null,n},n.generateFacets=function t(e){var n=this,r,i=n.fields[0];if(!i)throw"Please specify for the field for facet!";var a=n.getFieldValues(i,e),o=a.length,s=n.cols||o,l=parseInt((o+s-1)/s),u=[];return a.forEach((function(t,r){var c=parseInt(r/s),h=r%s,f=[{field:i,value:t,values:a}],p=n.getFilter(f),d=e.filter(p),g={type:n.type,count:o,colValue:t,colField:i,rowField:null,rowValue:t,colIndex:h,rowIndex:c,cols:s,rows:l,data:d,region:n.getRegion(l,s,h,c)};u.push(g)})),u},n.setXAxis=function t(e,n,r){r.rowIndex!==r.rows-1&&r.cols*r.rowIndex+r.colIndex+1+r.cols<=r.count&&(n[e].label=null,n[e].title=null)},n.setYAxis=function t(e,n,r){0!==r.colIndex&&(n[e].title=null,n[e].label=null)},e}(T2),z2;function Y2(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,G2(t,e)}function G2(t,e){return(G2=Object.setPrototypeOf||function t(e,n){return e.__proto__=n,e})(t,e)}function X2(t,e,n){return{x:t.x+e*Math.cos(n),y:t.y+e*Math.sin(n)}}var V2,H2=function(t){function e(){return t.apply(this,arguments)||this}Y2(e,t);var n=e.prototype;return n.getDefaultCfg=function e(){var n=t.prototype.getDefaultCfg.call(this);return n.type="circle",n},n.getRegion=function t(e,n){var r=.5,i=2*Math.PI/e,a=-1*Math.PI/2+i*n,o=r/(1+1/Math.sin(i/2)),s,l=X2({x:.5,y:.5},r-o,a),u=5*Math.PI/4,c=1*Math.PI/4;return{start:X2(l,o,u),end:X2(l,o,c)}},n.generateFacets=function t(e){var n=this,r,i=n.fields[0];if(!i)throw"Please specify for the field for facet!";var a=n.getFieldValues(i,e),o=a.length,s=[];return a.forEach((function(t,r){var l=[{field:i,value:t,values:a}],u=n.getFilter(l),c=e.filter(u),h={type:n.type,colValue:t,colField:i,colIndex:r,cols:o,rows:1,rowIndex:0,data:c,region:n.getRegion(o,r)};s.push(h)})),s},e}(T2);function W2(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,q2(t,e)}function q2(t,e){return(q2=Object.setPrototypeOf||function t(e,n){return e.__proto__=n,e})(t,e)}var U2=T2,Z2,Q2=ow.assign,$2=function(t){function e(){return t.apply(this,arguments)||this}W2(e,t);var n=e.prototype;return n.getDefaultCfg=function e(){var n=t.prototype.getDefaultCfg.call(this);return n.type="tree",n.line={lineWidth:1,stroke:"#ddd"},n.lineSmooth=!1,n},n.generateFacets=function t(e){var n=this,r;if(!n.fields.length)throw"Please specify for the fields for facet!";var i=[],a=n.getRootFacet(e);return i.push(a),a.children=n.getChildFacets(e,1,i),n.setRegion(i),i},n.getRootFacet=function t(e){var n=this,r;return{type:n.type,rows:n.getRows(),rowIndex:0,colIndex:0,colValue:n.rootTitle,data:e}},n.getRows=function t(){return this.fields.length+1},n.getChildFacets=function t(e,n,r){var i=this,a=i.fields,o;if(!(a.length<n)){var s=[],l=a[n-1],u=i.getFieldValues(l,e);return u.forEach((function(t,a){var o=[{field:l,value:t,values:u}],c=i.getFilter(o),h=e.filter(c);if(h.length){var f={type:i.type,colValue:t,colField:l,colIndex:a,rows:i.getRows(),rowIndex:n,data:h,children:i.getChildFacets(h,n+1,r)};s.push(f),r.push(f)}})),s}},n.setRegion=function t(e){var n=this;n.forceColIndex(e),e.forEach((function(t){t.region=n.getRegion(t.rows,t.cols,t.colIndex,t.rowIndex)}))},n.forceColIndex=function t(e){var n=this,r=[],i=0;e.forEach((function(t){n.isLeaf(t)&&(r.push(t),t.colIndex=i,i++)})),r.forEach((function(t){t.cols=r.length}));for(var a,o=n.fields.length-1;o>=0;o--)for(var s=n.getFacetsByLevel(e,o),l=0;l<s.length;l++){var u=s[l];n.isLeaf(u)||(u.originColIndex=u.colIndex,u.colIndex=n.getRegionIndex(u.children),u.cols=r.length)}},n.getFacetsByLevel=function t(e,n){var r=[];return e.forEach((function(t){t.rowIndex===n&&r.push(t)})),r},n.getRegion=function t(e,n,r,i){var a=1/n,o=1/e,s={x:a*r,y:o*i},l;return{start:s,end:{x:s.x+a,y:s.y+2*o/3}}},n.getRegionIndex=function t(e){var n=e[0],r;return(e[e.length-1].colIndex-n.colIndex)/2+n.colIndex},n.isLeaf=function t(e){return!e.children||!e.children.length},n.setXAxis=function t(e,n,r){r.rowIndex!==r.rows-1&&(n[e].label=null,n[e].title=null)},n.setYAxis=function t(e,n,r){0!==r.originColIndex&&0!==r.colIndex&&(n[e].title=null,n[e].label=null)},n.onPaint=function e(){t.prototype.onPaint.call(this),this.group.clear(),this.facets&&this.line&&this.drawLines(this.facets,this.group)},n.drawLines=function t(e,n){var r=this,i=n.addGroup();e.forEach((function(t){if(!r.isLeaf(t)){var e=t.children;r._addFacetLines(t,e,i)}}))},n._addFacetLines=function t(e,n,r){var i=this,a,o=e.view.getViewRegion(),s={x:o.start.x+(o.end.x-o.start.x)/2,y:o.start.y};n.forEach((function(t){var e=t.view.getViewRegion(),n={x:e.start.x+(e.end.x-e.start.x)/2,y:e.end.y},a={x:s.x,y:s.y+(n.y-s.y)/2},o={x:n.x,y:a.y};i._drawLine([s,a,o,n],r)}))},n._getPath=function t(e){var n,r=[],i;return this.lineSmooth?(r.push(["M",e[0].x,e[0].y]),r.push(["C",e[1].x,e[1].y,e[2].x,e[2].y,e[3].x,e[3].y])):e.forEach((function(t,e){0===e?r.push(["M",t.x,t.y]):r.push(["L",t.x,t.y])})),r},n._drawLine=function t(e,n){var r=this,i=r._getPath(e),a=r.line;n.addShape("path",{attrs:Q2({path:i},a)})},e}(U2),J2=$2;function K2(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t3(t,e)}function t3(t,e){return(t3=Object.setPrototypeOf||function t(e,n){return e.__proto__=n,e})(t,e)}var e3,n3,r3=function(t){function e(){return t.apply(this,arguments)||this}K2(e,t);var n=e.prototype;return n.getDefaultCfg=function e(){var n=t.prototype.getDefaultCfg.call(this);return n.type="mirror",this.transpose=!1,n},n.init=function e(){var n=this;n.transpose?(n.cols=2,n.rows=1):(n.cols=1,n.rows=2),t.prototype.init.call(this)},n.beforeProcessView=function t(e,n){this.transpose?n.colIndex%2==0?e.coord().transpose().scale(-1,1):e.coord().transpose():n.rowIndex%2!=0&&e.coord().scale(1,-1)},n.renderTitle=function t(e,n){this.transpose?this.drawColTitle(e,n):this.drawRowTitle(e,n)},n.setXAxis=function t(e,n,r){1!==r.colIndex&&1!==r.rowIndex||(n[e].label=null,n[e].title=null)},n.setYAxis=function t(){},e}(j2);function i3(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,a3(t,e)}function a3(t,e){return(a3=Object.setPrototypeOf||function t(e,n){return e.__proto__=n,e})(t,e)}var o3,s3=function(t){function e(){return t.apply(this,arguments)||this}i3(e,t);var n=e.prototype;return n.getDefaultCfg=function e(){var n=t.prototype.getDefaultCfg.call(this);return n.type="matrix",n.showTitle=!1,n},n.generateFacets=function t(e){for(var n=this,r=n.fields,i=r.length,a=i,o=[],s=0;s<a;s++)for(var l=r[s],u=0;u<i;u++){var c=r[u],h={type:n.type,colValue:l,rowValue:c,colField:l,rowField:c,colIndex:s,rowIndex:u,cols:a,rows:i,data:e,region:n.getRegion(i,a,s,u)};o.push(h)}return o},n.setXAxis=function t(e,n,r){r.rowIndex!==r.rows-1&&(n[e].title=null,n[e].label=null)},n.setYAxis=function t(e,n,r){0!==r.colIndex&&(n[e].title=null,n[e].label=null)},e}(D2),l3=s3,u3=ow,c3=cX,h3={};h3.Rect=D2,h3.List=j2,h3.Circle=H2,h3.Tree=J2,h3.Mirror=r3,h3.Matrix=l3,c3.prototype.facet=function(t,e){var n=h3[u3.upperFirst(t)];if(!n)throw new Error("Not support such type of facets as: "+t);var r=this.get("facets");r&&r.destroy(),e.chart=this;var i=new n(e);this.set("facets",i)},Object.defineProperty(x2,"__esModule",{value:!0});var f3,p3=d3(gW);function d3(t){return t&&t.__esModule?t:{default:t}}x2.default=p3.default.generateBaseTypedComponent("Facet");var g3=ow,v3=g3.DomUtil,m3=["start","process","end","reset"],y3,x3=function(){var t=e.prototype;function e(t,e){var n=this,r=n.getDefaultCfg();g3.assign(n,r,t),n.view=n.chart=e,n.canvas=e.get("canvas"),n._bindEvents()}return t.getDefaultCfg=function t(){return{startEvent:"mousedown",processEvent:"mousemove",endEvent:"mouseup",resetEvent:"dblclick"}},t._start=function t(e){var n=this;n.preStart&&n.preStart(e),n.start(e),n.onStart&&n.onStart(e)},t._process=function t(e){var n=this;n.preProcess&&n.preProcess(e),n.process(e),n.onProcess&&n.onProcess(e)},t._end=function t(e){var n=this;n.preEnd&&n.preEnd(e),n.end(e),n.onEnd&&n.onEnd(e)},t._reset=function t(e){var n=this;n.preReset&&n.preReset(e),n.reset(e),n.onReset&&n.onReset(e)},t.start=function t(){},t.process=function t(){},t.end=function t(){},t.reset=function t(){},t._bindEvents=function t(){var e=this,n,r=e.canvas.get("canvasDOM");e._clearEvents(),g3.each(m3,(function(t){var n=g3.upperFirst(t);e["_on"+n+"Listener"]=v3.addEventListener(r,e[t+"Event"],g3.wrapBehavior(e,"_"+t))}))},t._clearEvents=function t(){var e=this;g3.each(m3,(function(t){var n="_on"+g3.upperFirst(t)+"Listener";e[n]&&e[n].remove()}))},t.destroy=function t(){this._clearEvents()},e}();function _3(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function b3(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,w3(t,e)}function w3(t,e){return(w3=Object.setPrototypeOf||function t(e,n){return e.__proto__=n,e})(t,e)}var S3=ow,M3,C3=["X","Y","XY","POLYGON"],A3="XY",P3,k3=function(t){b3(n,t);var e=n.prototype;function n(e,n){var r,i=_3(r=t.call(this,e,n)||this);i.filter=!i.draggable,i.type=i.type.toUpperCase(),i.chart=n,C3.includes(i.type)||(i.type="XY");var a=i.canvas,o;a&&(a.get("children").map((function(t){return"plotBack"===t.get("type")?(o=t.get("plotRange"),!1):t})),i.plot={start:o.bl,end:o.tr});if(n){var s=n.get("coord");i.plot={start:s.start,end:s.end},n.on("afterrender",(function(){i.plot={start:s.start,end:s.end}})),i.isTransposed=s.isTransposed;var l=n._getScales("x"),u=n._getScales("y");i.xScale=i.xField?l[i.xField]:n.getXScale(),i.yScale=i.yField?u[i.yField]:n.getYScales()[0]}return r}return e.getDefaultCfg=function e(){var n=t.prototype.getDefaultCfg.call(this);return S3.mix({},n,{type:"XY",startPoint:null,brushing:!1,dragging:!1,brushShape:null,container:null,polygonPath:null,style:{fill:"#C5D4EB",opacity:.3,lineWidth:1,stroke:"#82A6DD"},draggable:!1,dragOffX:0,dragOffY:0,inPlot:!0,xField:null,yField:null})},e.start=function t(e){var n=this,r=n.canvas,i=n.type,a=n.brushShape;if(i){n.brushing&&n.end(e);var o={x:e.offsetX,y:e.offsetY};if(o.x){var s=n.plot&&n.inPlot,l=r.get("canvasDOM"),u=r.get("pixelRatio");if(n.selection&&(n.selection=null),n.draggable&&a&&!a.get("destroyed")){if(a.isHit(o.x*u,o.y*u)){if(l.style.cursor="move",n.selection=a,n.dragging=!0,"X"===i)n.dragoffX=o.x-a.attr("x"),n.dragoffY=0;else if("Y"===i)n.dragoffX=0,n.dragoffY=o.y-a.attr("y");else if("XY"===i)n.dragoffX=o.x-a.attr("x"),n.dragoffY=o.y-a.attr("y");else if("POLYGON"===i){var c=a.getBBox();n.dragoffX=o.x-c.minX,n.dragoffY=o.y-c.minY}n.onDragstart&&n.onDragstart(e)}n.prePoint=o}if(!n.dragging){n.onBrushstart&&n.onBrushstart(o);var h=n.container;if(s){var f=n.plot,p=f.start,d=f.end;if(o.x<p.x||o.x>d.x||o.y<d.y||o.y>p.y)return}l.style.cursor="crosshair",n.startPoint=o,n.brushShape=null,n.brushing=!0,h?h.clear():(h=r.addGroup({zIndex:5})).initTransform(),n.container=h,"POLYGON"===i&&(n.polygonPath="M "+o.x+" "+o.y)}}}},e.process=function t(e){var n=this,r=n.brushing,i=n.dragging,a=n.type,o=n.plot,s=n.startPoint,l=n.xScale,u=n.yScale,c=n.canvas;if(r||i){var h={x:e.offsetX,y:e.offsetY},f=c.get("canvasDOM");if(r){f.style.cursor="crosshair";var p=o.start,d=o.end,g=n.polygonPath,v=n.brushShape,m=n.container,y,x,_,b;n.plot&&n.inPlot&&(h=n._limitCoordScope(h)),"Y"===a?(y=p.x,x=h.y>=s.y?s.y:h.y,_=Math.abs(p.x-d.x),b=Math.abs(s.y-h.y)):"X"===a?(y=h.x>=s.x?s.x:h.x,x=d.y,_=Math.abs(s.x-h.x),b=Math.abs(d.y-p.y)):"XY"===a?(h.x>=s.x?(y=s.x,x=h.y>=s.y?s.y:h.y):(y=h.x,x=h.y>=s.y?s.y:h.y),_=Math.abs(s.x-h.x),b=Math.abs(s.y-h.y)):"POLYGON"===a&&(g+="L "+h.x+" "+h.y,n.polygonPath=g,v?!v.get("destroyed")&&v.attr(S3.mix({},v._attrs,{path:g})):v=m.addShape("path",{attrs:S3.mix(n.style,{path:g})})),"POLYGON"!==a&&(v?!v.get("destroyed")&&v.attr(S3.mix({},v._attrs,{x:y,y:x,width:_,height:b})):v=m.addShape("rect",{attrs:S3.mix(n.style,{x:y,y:x,width:_,height:b})})),n.brushShape=v}else if(i){f.style.cursor="move";var w=n.selection;if(w&&!w.get("destroyed"))if("POLYGON"===a){var S=n.prePoint;n.selection.translate(h.x-S.x,h.y-S.y)}else n.dragoffX&&w.attr("x",h.x-n.dragoffX),n.dragoffY&&w.attr("y",h.y-n.dragoffY)}n.prePoint=h,c.draw();var M=n._getSelected(),C=M.data,A=M.shapes,P=M.xValues,k=M.yValues,T={data:C,shapes:A};l&&(T[l.field]=P),u&&(T[u.field]=k),S3.mix(e,T),T.x=h.x,T.y=h.y,n.onDragmove&&n.onDragmove(T),n.onBrushmove&&n.onBrushmove(T)}},e.end=function t(e){var n=this;if(n.brushing||n.dragging){var r=n.data,i=n.shapes,a=n.xValues,o=n.yValues,s=n.canvas,l=n.type,u=n.startPoint,c=n.chart,h=n.container,f=n.xScale,p=n.yScale,d=e.offsetX,g=e.offsetY,v;if(s.get("canvasDOM").style.cursor="default",null!==u){if(Math.abs(u.x-d)<=1&&Math.abs(u.y-g)<=1)return n.brushing=!1,n.dragging=!1,h.clear(),void s.draw();var m={data:r,shapes:i};if(f&&(m[f.field]=a),p&&(m[p.field]=o),S3.mix(e,m),m.x=d,m.y=g,n.dragging)n.dragging=!1,n.onDragend&&n.onDragend(m);else if(n.brushing){n.brushing=!1;var y=n.brushShape,x=n.polygonPath;"POLYGON"===l&&(x+="z",y&&!y.get("destroyed")&&y.attr(S3.mix({},y._attrs,{path:x})),n.polygonPath=x,s.draw()),n.onBrushend?n.onBrushend(m):c&&n.filter&&(h.clear(),!n.isTransposed&&"X"===l||n.isTransposed&&"Y"===l?f&&c.filter(f.field,(function(t){return a.indexOf(t)>-1})):(!n.isTransposed&&"Y"===l||n.isTransposed&&"X"===l||f&&c.filter(f.field,(function(t){return a.indexOf(t)>-1})),p&&c.filter(p.field,(function(t){return o.indexOf(t)>-1}))),c.repaint())}}}},e.reset=function t(){var e=this,n=e.chart,r=e.filter,i=e.brushShape,a=e.canvas;this._init(),n&&r&&(n.get("options").filters={},n.repaint()),i&&(i.destroy(),a.draw())},e._limitCoordScope=function t(e){var n=this.plot,r=n.start,i=n.end;return e.x<r.x&&(e.x=r.x),e.x>i.x&&(e.x=i.x),e.y<i.y&&(e.y=i.y),e.y>r.y&&(e.y=r.y),e},e._getSelected=function t(){var e=this,n=e.chart,r=e.xScale,i=e.yScale,a=e.brushShape,o=e.canvas,s=o.get("pixelRatio"),l=[],u=[],c=[],h=[],f;n&&n.get("geoms").map((function(t){var e;return t.getShapes().map((function(t){var e=t.get("origin");return Array.isArray(e)||(e=[e]),e.map((function(e){if(a.isHit(e.x*s,e.y*s)){l.push(t);var n=e._origin;h.push(n),r&&u.push(n[r.field]),i&&c.push(n[i.field])}return e})),t})),t}));return e.shapes=l,e.xValues=u,e.yValues=c,e.data=h,o.draw(),{data:h,xValues:u,yValues:c,shapes:l}},n}(x3),T3=function(t){var e;return(t.get("scaleController")||{}).defs},I3=ow,E3=Ce,O3=T3,L3,D3=T3,F3=function(t,e){var n=D3(t);if(n&&n[e])return n[e]},B3=ow,R3=Ce,N3=function(t,e){var n,r=e.field,i=e.type,a=B3.Array.values(t,r);return"linear"===i?(n=B3.Array.getRange(a),e.min<n.min&&(n.min=e.min),e.max>n.max&&(n.max=e.max)):"timeCat"===i?(B3.each(a,(function(t,e){a[e]=R3.toTimeStamp(t)})),a.sort((function(t,e){return t-e})),n=a):n=a,n};function j3(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function z3(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Y3(t,e)}function Y3(t,e){return(Y3=Object.setPrototypeOf||function t(e,n){return e.__proto__=n,e})(t,e)}var G3=ow,X3,V3=function(t){t.on("beforeinitgeoms",(function(){t.set("limitInPlot",!0);var e=t.get("data"),n=O3(t);if(!n)return e;var r=t.get("geoms"),i=!1;I3.each(r,(function(t){if(["area","line","path"].includes(t.get("type")))return i=!0,!1}));var a=[];if(I3.each(n,(function(t,e){!i&&t&&(t.values||t.min||t.max)&&a.push(e)})),0===a.length)return e;var o=[];I3.each(e,(function(t){var e=!0;I3.each(a,(function(r){var i=t[r];if(i){var a=n[r];if("timeCat"===a.type){var o=a.values;I3.isNumber(o[0])&&(i=E3.toTimeStamp(i))}(a.values&&!a.values.includes(i)||a.min&&i<a.min||a.max&&i>a.max)&&(e=!1)}})),e&&o.push(t)})),t.set("filteredData",o)}))},H3=F3,W3=N3,q3=864e5,U3=["X","Y","XY"],Z3="X",Q3=function(t){z3(n,t);var e=n.prototype;function n(e,n){var r,i=j3(r=t.call(this,e,n)||this);i.type=i.type.toUpperCase(),i.chart=n,i.coord=n.get("coord");var a=i.data=n.get("data");V3(n);var o=n.getYScales(),s=n.getXScale();o.push(s);var l=n.get("scaleController");return o.forEach((function(t){var e=t.field;i.limitRange[e]=W3(a,t);var n=l.defs[e]||{};i.originScaleDefsByField[e]=G3.mix(n,{nice:!!n.nice}),t.isLinear&&(i.stepByField[e]=(t.max-t.min)*i.stepRatio)})),U3.includes(i.type)||(i.type="X"),i._disableTooltip(),r}return e.getDefaultCfg=function e(){var n=t.prototype.getDefaultCfg.call(this);return G3.mix({},n,{type:"X",stepRatio:.05,limitRange:{},stepByField:{},threshold:20,originScaleDefsByField:{},previousPoint:null,isDragging:!1})},e._disableTooltip=function t(){var e=this,n=e.chart,r;n.get("tooltipController")&&(e._showTooltip=!0,n.tooltip(!1))},e._enableTooltip=function t(e){var n=this,r=n.chart;n._showTooltip&&(r.tooltip(!0),r.showTooltip(e))},e._applyTranslate=function t(e,n,r){void 0===n&&(n=0);var i=this;e.isLinear?i._translateLinearScale(e,n,r):i._translateCatScale(e,n,r)},e._translateCatScale=function t(e,n,r){var i=this,a=i.chart,o=e.type,s=e.field,l=e.values,u=e.ticks,c=H3(a,s),h=i.limitRange[s],f=n/r,p=l.length,d=Math.max(1,Math.abs(parseInt(f*p))),g=h.indexOf(l[0]),v=h.indexOf(l[p-1]);if(n>0&&g>=0){for(var m=0;m<d&&g>0;m++)g-=1,v-=1;var y=h.slice(g,v+1),x=null;if("timeCat"===o){for(var _=u.length>2?u[1]-u[0]:864e5,b=u[0]-_;b>=y[0];b-=_)u.unshift(b);x=u}a.scale(s,G3.mix({},c,{values:y,ticks:x}))}else if(n<0&&v<=h.length-1){for(var w=0;w<d&&v<h.length-1;w++)g+=1,v+=1;var S=h.slice(g,v+1),M=null;if("timeCat"===o){for(var C=u.length>2?u[1]-u[0]:864e5,A=u[u.length-1]+C;A<=S[S.length-1];A+=C)u.push(A);M=u}a.scale(s,G3.mix({},c,{values:S,ticks:M}))}},e._translateLinearScale=function t(e,n,r){var i=this,a=i.chart,o=i.limitRange,s=e.min,l=e.max,u=e.field;if(s!==o[u].min||l!==o[u].max){var c=n/r,h=l-s,f=H3(a,u);a.scale(u,G3.mix({},f,{nice:!1,min:s+c*h,max:l+c*h}))}},e.start=function t(e){var n=this,r,i;n.canvas.get("canvasDOM").style.cursor="pointer",n.isDragging=!0,n.previousPoint={x:e.x,y:e.y},n._disableTooltip()},e.process=function t(e){var n=this;if(n.isDragging){var r=n.chart,i=n.type,a=n.canvas,o=n.coord,s=n.threshold,l;a.get("canvasDOM").style.cursor="move";var u=n.previousPoint,c=e,h=c.x-u.x,f=c.y-u.y,p=!1,d;if(Math.abs(h)>s&&i.indexOf("X")>-1){p=!0;var g=r.getXScale();n._applyTranslate(g,g.isLinear?-h:h,o.width)}if(Math.abs(f)>s&&i.indexOf("Y")>-1)p=!0,r.getYScales().forEach((function(t){n._applyTranslate(t,c.y-u.y,o.height)}));p&&(n.previousPoint=c,r.repaint())}},e.end=function t(e){var n=this,r,i;n.isDragging=!1,n.canvas.get("canvasDOM").style.cursor="default",n._enableTooltip(e)},e.reset=function t(){var e=this,n=e.view,r=e.originScaleDefsByField,i=n.getYScales(),a=n.getXScale();i.push(a),i.forEach((function(t){if(t.isLinear){var e=t.field;n.scale(e,r[e])}})),n.repaint(),e._disableTooltip()},n}(x3),$3=Q3,J3;function K3(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t5(t,e)}function t5(t,e){return(t5=Object.setPrototypeOf||function t(e,n){return e.__proto__=n,e})(t,e)}var e5=ow,n5,r5=function(t,e,n){if(!t)return[0,1];var r=0,i=0;if("linear"===n){var a=e.min,o,s=e.max-a;r=(t.min-a)/s,i=(t.max-a)/s}else{var l=e,u=t.values,c=l.indexOf(u[0]),h=l.indexOf(u[u.length-1]);r=c/(l.length-1),i=h/(l.length-1)}return[r,i]},i5=N3,a5="X",o5,s5=function(t){K3(n,t);var e=n.prototype;function n(e,n){var r,i=(r=t.call(this,e,n)||this).getDefaultCfg();return n.set("_scrollBarCfg",e5.deepMix({},i,e)),n.set("_limitRange",{}),n.get("_horizontalBar")||n.get("_verticalBar")||r._renderScrollBars(),r}return e.getDefaultCfg=function e(){var n=t.prototype.getDefaultCfg.call(this);return e5.mix({},n,{startEvent:null,processEvent:null,endEvent:null,resetEvent:null,type:"X",xStyle:{backgroundColor:"rgba(202, 215, 239, .2)",fillerColor:"rgba(202, 215, 239, .75)",size:4,lineCap:"round",offsetX:0,offsetY:-10},yStyle:{backgroundColor:"rgba(202, 215, 239, .2)",fillerColor:"rgba(202, 215, 239, .75)",size:4,lineCap:"round",offsetX:8,offsetY:0}})},e._renderScrollBars=function t(){var e=this.chart,n=e.get("_scrollBarCfg");if(n){var r=e.get("data"),i=e.get("plotRange");i.width=Math.abs(i.br.x-i.bl.x),i.height=Math.abs(i.tl.y-i.bl.y);var a=e.get("backPlot"),o,s=e.get("canvas").get("height"),l=e.get("_limitRange"),u=n.type;if(u.indexOf("X")>-1){var c=n.xStyle,h=c.offsetX,f=c.offsetY,p=c.lineCap,d=c.backgroundColor,g=c.fillerColor,v=c.size,m=e.getXScale(),y=l[m.field];y||(y=i5(r,m),l[m.field]=y);var x=r5(m,y,m.type),_=e.get("_horizontalBar"),b=s-v/2+f,w;if(_)_.get("children")[1].attr({x1:Math.max(i.bl.x+i.width*x[0]+h,i.bl.x),x2:Math.min(i.bl.x+i.width*x[1]+h,i.br.x)});else(_=a.addGroup({className:"horizontalBar"})).addShape("line",{attrs:{x1:i.bl.x+h,y1:b,x2:i.br.x+h,y2:b,lineWidth:v,stroke:d,lineCap:p}}),_.addShape("line",{attrs:{x1:Math.max(i.bl.x+i.width*x[0]+h,i.bl.x),y1:b,x2:Math.min(i.bl.x+i.width*x[1]+h,i.br.x),y2:b,lineWidth:v,stroke:g,lineCap:p}}),e.set("_horizontalBar",_)}if(u.indexOf("Y")>-1){var S=n.yStyle,M=S.offsetX,C=S.offsetY,A=S.lineCap,P=S.backgroundColor,k=S.fillerColor,T=S.size,I=e.getYScales()[0],E=l[I.field];E||(E=i5(r,I),l[I.field]=E);var O=r5(I,E,I.type),L=e.get("_verticalBar"),D=T/2+M,F;if(L)L.get("children")[1].attr({y1:Math.max(i.tl.y+i.height*O[0]+C,i.tl.y),y2:Math.min(i.tl.y+i.height*O[1]+C,i.bl.y)});else(L=a.addGroup({className:"verticalBar"})).addShape("line",{attrs:{x1:D,y1:i.tl.y+C,x2:D,y2:i.bl.y+C,lineWidth:T,stroke:P,lineCap:A}}),L.addShape("line",{attrs:{x1:D,y1:Math.max(i.tl.y+i.height*O[0]+C,i.tl.y),x2:D,y2:Math.min(i.tl.y+i.height*O[1]+C,i.bl.y),lineWidth:T,stroke:k,lineCap:A}}),e.set("_verticalBar",L)}}},e._clear=function t(){var e=this.chart;if(e){var n=e.get("_horizontalBar"),r=e.get("_verticalBar");n&&n.remove(!0),r&&r.remove(!0),e.set("_horizontalBar",null),e.set("_verticalBar",null)}},e._bindEvents=function t(){this._onAfterclearOrBeforechangedata=this._onAfterclearOrBeforechangedata.bind(this),this._onAfterclearinner=this._onAfterclearinner.bind(this),this._onAfterdrawgeoms=this._onAfterdrawgeoms.bind(this);var e=this.chart;e.on("afterclear",this._onAfterclearOrBeforechangedata),e.on("beforechangedata",this._onAfterclearOrBeforechangedata),e.on("afterclearinner",this._onAfterclearinner),e.on("afterdrawgeoms",this._onAfterdrawgeoms)},e._onAfterclearOrBeforechangedata=function t(){this.chart&&this.chart.set("_limitRange",{})},e._onAfterclearinner=function t(){this._clear()},e._onAfterdrawgeoms=function t(){this._renderScrollBars()},e._clearEvents=function t(){var e=this.chart;e&&(e.off("afterclear",this._onAfterclearOrBeforechangedata),e.off("beforechangedata",this._onAfterclearOrBeforechangedata),e.off("afterclearinner",this._onAfterclearinner),e.off("afterdrawgeoms",this._onAfterdrawgeoms))},e.destroy=function t(){this._clearEvents(),this._clear(),this.canvas.draw()},n}(x3);function l5(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,u5(t,e)}function u5(t,e){return(u5=Object.setPrototypeOf||function t(e,n){return e.__proto__=n,e})(t,e)}var c5=ow,h5;function f5(t,e){var n={};for(var r in e)n[r]=t[r];return n}var p5,d5=function(t){function e(){return t.apply(this,arguments)||this}l5(e,t);var n=e.prototype;return n.getDefaultCfg=function e(){var n=t.prototype.getDefaultCfg.call(this);return c5.mix({},n,{startEvent:"mouseup",processEvent:null,selectStyle:{fillOpacity:1},unSelectStyle:{fillOpacity:.1},cancelable:!0})},n.start=function t(e){var n=this,r=n.view,i,a=[];if(r.eachShape((function(t,n){n.isPointInPath(e.x,e.y)?i=n:a.push(n)})),i)if(i.get("_selected")){if(!n.cancelable)return;n.reset()}else{var o=n.selectStyle,s=n.unSelectStyle,l=f5(i.attr(),i);i.set("_originAttrs",l),i.attr(o),c5.each(a,(function(t){var e=t.get("_originAttrs");e&&t.attr(e),t.set("_selected",!1),s&&(e=f5(t.attr(),s),t.set("_originAttrs",e),t.attr(s))})),i.set("_selected",!0),n.selectedShape=i,n.canvas.draw()}else n.reset()},n.end=function t(e){var n=this.selectedShape;n&&!n.get("destroyed")&&n.get("origin")&&(e.data=n.get("origin")._origin,e.shapeInfo=n.get("origin"),e.shape=n,e.selected=!!n.get("_selected"))},n.reset=function t(){var e=this;if(e.selectedShape){var n,r,i,a=e.view.get("geoms")[0].get("container").get("children")[0].get("children");c5.each(a,(function(t){var e=t.get("_originAttrs");e&&(t._attrs=e,t.set("_originAttrs",null)),t.set("_selected",!1)})),e.canvas.draw()}},e}(x3),g5=ow,v5,m5=Kv.Group,y5=g5.DomUtil,x5=5,_5=function t(e){t.superclass.constructor.call(this,e)},b5;function w5(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function S5(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,M5(t,e)}function M5(t,e){return(M5=Object.setPrototypeOf||function t(e,n){return e.__proto__=n,e})(t,e)}g5.extend(_5,m5),g5.augment(_5,{getDefaultCfg:function t(){return{range:null,middleAttr:null,backgroundElement:null,minHandleElement:null,maxHandleElement:null,middleHandleElement:null,currentTarget:null,layout:"vertical",width:null,height:null,pageX:null,pageY:null}},_initHandle:function t(e){var n=this,r=n.addGroup(),i=n.get("layout"),a=n.get("handleStyle"),o=a.img,s=a.width,l=a.height,u,c,h;if("horizontal"===i){var f=a.width;h="ew-resize",c=r.addShape("Image",{attrs:{x:-f/2,y:0,width:f,height:l,img:o,cursor:h}}),u=r.addShape("Text",{attrs:g5.mix({x:"min"===e?-(f/2+5):f/2+5,y:l/2,textAlign:"min"===e?"end":"start",textBaseline:"middle",text:"min"===e?this.get("minText"):this.get("maxText"),cursor:h},this.get("textStyle"))})}else h="ns-resize",c=r.addShape("Image",{attrs:{x:0,y:-l/2,width:s,height:l,img:o,cursor:h}}),u=r.addShape("Text",{attrs:g5.mix({x:s/2,y:"min"===e?l/2+5:-(l/2+5),textAlign:"center",textBaseline:"middle",text:"min"===e?this.get("minText"):this.get("maxText"),cursor:h},this.get("textStyle"))});return this.set(e+"TextElement",u),this.set(e+"IconElement",c),r},_initSliderBackground:function t(){var e=this.addGroup();return e.initTransform(),e.translate(0,0),e.addShape("Rect",{attrs:g5.mix({x:0,y:0,width:this.get("width"),height:this.get("height")},this.get("backgroundStyle"))}),e},_beforeRenderUI:function t(){var e=this._initSliderBackground(),n=this._initHandle("min"),r=this._initHandle("max"),i=this.addShape("rect",{attrs:this.get("middleAttr")});this.set("middleHandleElement",i),this.set("minHandleElement",n),this.set("maxHandleElement",r),this.set("backgroundElement",e),e.set("zIndex",0),i.set("zIndex",1),n.set("zIndex",2),r.set("zIndex",2),i.attr("cursor","move"),this.sort()},_renderUI:function t(){"horizontal"===this.get("layout")?this._renderHorizontal():this._renderVertical()},_transform:function t(e){var n=this.get("range"),r=n[0]/100,i=n[1]/100,a=this.get("width"),o=this.get("height"),s=this.get("minHandleElement"),l=this.get("maxHandleElement"),u=this.get("middleHandleElement");s.resetMatrix?(s.resetMatrix(),l.resetMatrix()):(s.initTransform(),l.initTransform()),"horizontal"===e?(u.attr({x:a*r,y:0,width:(i-r)*a,height:o}),s.translate(r*a,0),l.translate(i*a,0)):(u.attr({x:0,y:o*(1-i),width:a,height:(i-r)*o}),s.translate(0,(1-r)*o),l.translate(0,(1-i)*o))},_renderHorizontal:function t(){this._transform("horizontal")},_renderVertical:function t(){this._transform("vertical")},_bindUI:function t(){this.on("mousedown",g5.wrapBehavior(this,"_onMouseDown"))},_isElement:function t(e,n){var r=this.get(n),i;return e===r||!!r.isGroup&&r.get("children").indexOf(e)>-1},_getRange:function t(e,n){var r=e+n;return r=(r=r>100?100:r)<0?0:r},_limitRange:function t(e,n,r){r[0]=this._getRange(e,r[0]),r[1]=r[0]+n,r[1]>100&&(r[1]=100,r[0]=r[1]-n)},_updateStatus:function t(e,n){var r="x"===e?this.get("width"):this.get("height");e=g5.upperFirst(e);var i=this.get("range"),a=this.get("page"+e),o=this.get("currentTarget"),s=this.get("rangeStash"),l,u="vertical"===this.get("layout")?-1:1,c=n["page"+e],h,f=(c-a)/r*100*u,p,d=this.get("minRange"),g=this.get("maxRange");i[1]<=i[0]?(this._isElement(o,"minHandleElement")||this._isElement(o,"maxHandleElement"))&&(i[0]=this._getRange(f,i[0]),i[1]=this._getRange(f,i[0])):(this._isElement(o,"minHandleElement")&&(i[0]=this._getRange(f,i[0]),d&&i[1]-i[0]<=d&&this._limitRange(f,d,i),g&&i[1]-i[0]>=g&&this._limitRange(f,g,i)),this._isElement(o,"maxHandleElement")&&(i[1]=this._getRange(f,i[1]),d&&i[1]-i[0]<=d&&this._limitRange(f,d,i),g&&i[1]-i[0]>=g&&this._limitRange(f,g,i))),this._isElement(o,"middleHandleElement")&&(p=s[1]-s[0],this._limitRange(f,p,i)),this.emit("sliderchange",{range:i}),this.set("page"+e,c),this._renderUI(),this.get("canvas").draw()},_onMouseDown:function t(e){var n=e.currentTarget,r=e.event,i=this.get("range");r.stopPropagation(),r.preventDefault(),this.set("pageX",r.pageX),this.set("pageY",r.pageY),this.set("currentTarget",n),this.set("rangeStash",[i[0],i[1]]),this._bindCanvasEvents()},_bindCanvasEvents:function t(){var e=this.get("canvas").get("containerDOM");this.onMouseMoveListener=y5.addEventListener(e,"mousemove",g5.wrapBehavior(this,"_onCanvasMouseMove")),this.onMouseUpListener=y5.addEventListener(e,"mouseup",g5.wrapBehavior(this,"_onCanvasMouseUp")),this.onMouseLeaveListener=y5.addEventListener(e,"mouseleave",g5.wrapBehavior(this,"_onCanvasMouseUp"))},_onCanvasMouseMove:function t(e){var n;"horizontal"===this.get("layout")?this._updateStatus("x",e):this._updateStatus("y",e)},_onCanvasMouseUp:function t(){this._removeDocumentEvents()},_removeDocumentEvents:function t(){this.onMouseMoveListener.remove(),this.onMouseUpListener.remove(),this.onMouseLeaveListener.remove()}});var C5=_5,A5=cX,P5=ow,k5,T5=cC,I5=x3,E5=F3,O5=T3,L5=Kv.Canvas,D5=P5.DomUtil,F5=P5.isNumber,B5,R5;function N5(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function j5(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,z5(t,e)}function z5(t,e){return(z5=Object.setPrototypeOf||function t(e,n){return e.__proto__=n,e})(t,e)}var Y5=ow,G5,X5=F3,V5=N3,H5=["X","Y","XY"],W5="X",q5,U5,Z5=xX,Q5=cX,$5=ow,J5={Base:x3,Brush:k3,Drag:$3,ScrollBar:s5,ShapeSelect:d5,Slider:function(t){S5(n,t);var e=n.prototype;function n(e,n){var r,i=w5(r=t.call(this,e,n)||this);return i._initContainer(),i._initStyle(),i.render(),r}return e.getDefaultCfg=function e(){var n=t.prototype.getDefaultCfg.call(this);return P5.mix({},n,{startEvent:null,processEvent:null,endEvent:null,resetEvent:null,height:26,width:"auto",padding:T5.plotCfg.padding,container:null,xAxis:null,yAxis:null,fillerStyle:{fill:"#BDCCED",fillOpacity:.3},backgroundStyle:{stroke:"#CCD6EC",fill:"#CCD6EC",fillOpacity:.3,lineWidth:1},range:[0,100],layout:"horizontal",textStyle:{fill:"#545454"},handleStyle:{img:"https://gw.alipayobjects.com/zos/rmsportal/QXtfhORGlDuRvLXFzpsQ.png",width:5},backgroundChart:{type:["area"],color:"#CCD6EC"}})},e._initContainer=function t(){var e=this,n=e.container;if(!n)throw new Error("Please specify the container for the Slider!");P5.isString(n)?e.domContainer=document.getElementById(n):e.domContainer=n},e.forceFit=function t(){var e=this;if(e&&!e.destroyed){var n=D5.getWidth(e.domContainer),r=e.height;if(n!==e.domWidth){var i=e.canvas;i.changeSize(n,r),e.bgChart&&e.bgChart.changeWidth(n),i.clear(),e._initWidth(),e._initSlider(),e._bindEvent(),i.draw()}}},e._initForceFitEvent=function t(){var e=this,n=setTimeout(P5.wrapBehavior(e,"forceFit"),200);clearTimeout(e.resizeTimer),e.resizeTimer=n},e._initStyle=function t(){var e=this;e.handleStyle=P5.mix({width:e.height,height:e.height},e.handleStyle),"auto"===e.width&&window.addEventListener("resize",P5.wrapBehavior(e,"_initForceFitEvent"))},e._initWidth=function t(){var e=this,n;n="auto"===e.width?D5.getWidth(e.domContainer):e.width,e.domWidth=n;var r=P5.toAllPadding(e.padding);"horizontal"===e.layout?(e.plotWidth=n-r[1]-r[3],e.plotPadding=r[3],e.plotHeight=e.height):"vertical"===e.layout&&(e.plotWidth=e.width,e.plotHeight=e.height-r[0]-r[2],e.plotPadding=r[0])},e._initCanvas=function t(){var e=this,n=e.domWidth,r=e.height,i=new L5({width:n,height:r,containerDOM:e.domContainer,capture:!1}),a=i.get("el");a.style.position="absolute",a.style.top=0,a.style.left=0,a.style.zIndex=3,e.canvas=i},e._initBackground=function t(){var e,n=this,r=this.chart,i=r.getAllGeoms[0],a=n.data=n.data||r.get("data"),o=r.getXScale(),s=n.xAxis||o.field,l=n.yAxis||r.getYScales()[0].field,u=P5.deepMix(((e={})[""+s]={range:[0,1]},e),O5(r),n.scales);if(delete u[s].min,delete u[s].max,!a)throw new Error("Please specify the data!");if(!s)throw new Error("Please specify the xAxis!");if(!l)throw new Error("Please specify the yAxis!");var c=n.backgroundChart,h=c.type||i.get("type"),f=c.color||"grey",p=c.shape;P5.isArray(h)||(h=[h]);var d=P5.toAllPadding(n.padding),g=new A5({container:n.container,width:n.domWidth,height:n.height,padding:[0,d[1],0,d[3]],animate:!1});g.source(a),g.scale(u),g.axis(!1),g.tooltip(!1),g.legend(!1),P5.each(h,(function(t,e){var n=g[t]().position(s+"*"+l).opacity(1),r=P5.isArray(f)?f[e]:f;r&&(P5.isObject(r)?r.field&&n.color(r.field,r.colors):n.color(r));var i=P5.isArray(p)?p[e]:p;i&&(P5.isObject(i)?i.field&&n.shape(i.field,i.callback||i.shapes):n.shape(i))})),g.render(),n.bgChart=g,n.scale="horizontal"===n.layout?g.getXScale():g.getYScales()[0],"vertical"===n.layout&&g.destroy()},e._initRange=function t(){var e=this,n=e.startRadio,r=e.endRadio,i=e._startValue,a=e._endValue,o=e.scale,s=0,l=1;F5(n)?s=n:i&&(s=o.scale(o.translate(i))),F5(r)?l=r:a&&(l=o.scale(o.translate(a)));var u=e.minSpan,c=e.maxSpan,h=0;if("time"===o.type||"timeCat"===o.type){var f=o.values,p=f[0],d;h=f[f.length-1]-p}else o.isLinear&&(h=o.max-o.min);h&&u&&(e.minRange=u/h*100),h&&c&&(e.maxRange=c/h*100);var g=[100*s,100*l];return e.range=g,g},e._getHandleValue=function t(e){var n=this,r,i=n.range,a=i[0]/100,o=i[1]/100,s=n.scale;return r="min"===e?n._startValue?n._startValue:s.invert(a):n._endValue?n._endValue:s.invert(o)},e._initSlider=function t(){var e=this,n=e.canvas,r=e._initRange(),i=e.scale,a=n.addGroup(C5,{middleAttr:e.fillerStyle,range:r,minRange:e.minRange,maxRange:e.maxRange,layout:e.layout,width:e.plotWidth,height:e.plotHeight,backgroundStyle:e.backgroundStyle,textStyle:e.textStyle,handleStyle:e.handleStyle,minText:i.getText(e._getHandleValue("min")),maxText:i.getText(e._getHandleValue("max"))});"horizontal"===e.layout?a.translate(e.plotPadding,0):"vertical"===e.layout&&a.translate(0,e.plotPadding),e.rangeElement=a},e._updateElement=function t(e,n){var r=this,i=r.chart,a=r.scale,o=r.rangeElement,s=a.field,l=o.get("minTextElement"),u=o.get("maxTextElement"),c=a.invert(e),h=a.invert(n),f=a.getText(c),p=a.getText(h);l.attr("text",f),u.attr("text",p),r._startValue=f,r._endValue=p,r.onChange&&r.onChange({startText:f,endText:p,startValue:c,endValue:h,startRadio:e,endRadio:n}),i.scale(s,P5.mix({},E5(i,s),{nice:!1,min:c,max:h})),i.repaint()},e._bindEvent=function t(){var e=this,n;e.rangeElement.on("sliderchange",(function(t){var n=t.range,r=n[0]/100,i=n[1]/100;e._updateElement(r,i)}))},e.clear=function t(){var e=this;e.canvas.clear(),e.bgChart&&e.bgChart.destroy(),e.bgChart=null,e.scale=null,e.canvas.draw()},e.repaint=function t(){var e=this;e.clear(),e.render()},e.render=function t(){var e=this;e._initWidth(),e._initCanvas(),e._initBackground(),e._initSlider(),e._bindEvent(),e.canvas.draw()},e.destroy=function t(){var e=this,n;clearTimeout(e.resizeTimer),e.rangeElement.off("sliderchange"),e.bgChart&&e.bgChart.destroy(),e.canvas.destroy();for(var r=e.domContainer;r.hasChildNodes();)r.removeChild(r.firstChild);window.removeEventListener("resize",P5.getWrapBehavior(e,"_initForceFitEvent")),e.destroyed=!0},n}(I5),Zoom:function(t){j5(n,t);var e=n.prototype;function n(e,n){var r,i=N5(r=t.call(this,e,n)||this);i.chart=n,i.type=i.type.toUpperCase();var a=i.data=n.get("data"),o=n.getYScales(),s=n.getXScale();o.push(s);var l=n.get("scaleController");return o.forEach((function(t){var e=t.field,n=l.defs[e]||{};i.limitRange[e]=V5(a,t),i.originScaleDefsByField[e]=Y5.mix(n,{nice:!!n.nice}),t.isLinear?i.stepByField[e]=(t.max-t.min)*i.stepRatio:i.stepByField[e]=i.catStep})),H5.includes(i.type)||(i.type="X"),r}return e.getDefaultCfg=function e(){var n=t.prototype.getDefaultCfg.call(this);return Y5.mix({},n,{processEvent:"mousewheel",type:"X",stepRatio:.05,stepByField:{},minScale:1,maxScale:4,catStep:2,limitRange:{},originScaleDefsByField:{}})},e._applyScale=function t(e,n,r,i){void 0===r&&(r=0);var a=this,o=a.chart,s=a.stepByField;if(e.isLinear){var l=e.min,u=e.max,c=e.field,h=1-r,f=s[c]*n,p=l+f*r,d=u-f*h;if(d>p){var g=X5(o,c);o.scale(c,Y5.mix({},g,{nice:!1,min:p,max:d}))}}else{var v=e.field,m=e.values,y=a.chart,x=y.get("coord"),_=X5(y,v),b=a.limitRange[v],w=b.length,S,M,C=w/a.maxScale,A=w/a.minScale,P=m.length,k,T=x.invertPoint(i).x,I=P-n*this.catStep,E=parseInt(I*T),O=I+E;if(n>0&&P>=C){var L=E,D=O;O>P&&(D=P-1,L=P-I);var F=m.slice(L,D);y.scale(v,Y5.mix({},_,{values:F}))}else if(n<0&&P<=A){var B=b.indexOf(m[0]),R=b.indexOf(m[P-1]),N=Math.max(0,B-E),j=Math.min(R+O,w),z=b.slice(N,j);y.scale(v,Y5.mix({},_,{values:z}))}}},e.process=function t(e){var n=this,r=n.chart,i=n.type,a=r.get("coord"),o=e.deltaY,s=a.invertPoint(e);if(o){n.onZoom&&n.onZoom(o,s,n),o>0?n.onZoomin&&n.onZoomin(o,s,n):n.onZoomout&&n.onZoomout(o,s,n);var l=o/Math.abs(o),u;if(i.indexOf("X")>-1&&n._applyScale(r.getXScale(),l,s.x,e),i.indexOf("Y")>-1)r.getYScales().forEach((function(t){n._applyScale(t,l,s.y,e)}))}r.repaint()},e.reset=function t(){var e=this,n=e.view,r=e.originScaleDefsByField,i=n.getYScales(),a=n.getXScale();i.push(a),i.forEach((function(t){if(t.isLinear){var e=t.field;n.scale(e,r[e])}})),n.repaint()},n}(x3)};Z5._Interactions={},Z5.registerInteraction=function(t,e){Z5._Interactions[t]=e},Z5.getInteraction=function(t){return Z5._Interactions[t]},Q5.prototype.getInteractions=function(){var t=this;return t._interactions||(t._interactions={}),t._interactions},Q5.prototype._setInteraction=function(t,e){var n,r=this.getInteractions();r[t]&&r[t]!==e&&r[t].destroy(),r[t]=e},Q5.prototype.clearInteraction=function(t){var e,n=this.getInteractions();t?(n[t]&&(n[t]._reset(),n[t].destroy()),delete n[t]):$5.each(n,(function(t,e){t._reset(),t.destroy(),delete n[e]}))},Q5.prototype.interact=Q5.prototype.interaction=function(t,e){var n=this,r,i=new(Z5.getInteraction(t))(e,n);return n._setInteraction(t,i),n},Z5.registerInteraction("brush",J5.Brush),Z5.registerInteraction("Brush",J5.Brush),Z5.registerInteraction("drag",J5.Drag),Z5.registerInteraction("Drag",J5.Drag),Z5.registerInteraction("zoom",J5.Zoom),Z5.registerInteraction("Zoom",J5.Zoom),Z5.registerInteraction("scroll-bar",J5.ScrollBar),Z5.registerInteraction("ScrollBar",J5.ScrollBar),Z5.registerInteraction("shape-select",J5.ShapeSelect),Z5.registerInteraction("ShapeSelect",J5.ShapeSelect),Z5.registerInteraction("slider",J5.Slider),Z5.registerInteraction("Slider",J5.Slider);var K5=J5,t4={};Object.defineProperty(t4,"__esModule",{value:!0}),t4.default={},function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.setTheme=t.track=t.Interactions=t.PathUtil=t.Animate=t.Shape=t.Util=t.G2=t.Facet=t.Label=t.Guide=t.View=t.Geom=t.Tooltip=t.Legend=t.Axis=t.Coord=t.Chart=void 0;var e=b;Object.defineProperty(t,"Chart",{enumerable:!0,get:function t(){return x(e).default}});var n=dW;Object.defineProperty(t,"Coord",{enumerable:!0,get:function t(){return x(n).default}});var r=IW;Object.defineProperty(t,"Axis",{enumerable:!0,get:function t(){return x(r).default}});var i=DW;Object.defineProperty(t,"Legend",{enumerable:!0,get:function t(){return x(i).default}});var a=VW;Object.defineProperty(t,"Tooltip",{enumerable:!0,get:function t(){return x(a).default}});var o=UW;Object.defineProperty(t,"Geom",{enumerable:!0,get:function t(){return x(o).default}});var s=V1;Object.defineProperty(t,"View",{enumerable:!0,get:function t(){return x(s).default}});var l=e2;Object.defineProperty(t,"Guide",{enumerable:!0,get:function t(){return x(l).default}});var u=o2;Object.defineProperty(t,"Label",{enumerable:!0,get:function t(){return x(u).default}});var c=x2;Object.defineProperty(t,"Facet",{enumerable:!0,get:function t(){return x(c).default}});var h=xX,f=x(h),p,d=x(K5),g,v=x(O),m,y=x(t4);function x(t){return t&&t.__esModule?t:{default:t}}t.G2=f.default,t.Util=v.default,t.Shape=h.Shape,t.Animate=h.Animate,t.PathUtil=h.PathUtil,t.Interactions=d.default;var _=t.track=function t(){},w=t.setTheme=function t(e){var n=e;"string"==typeof e&&y.default[e]&&(n=y.default[e]),f.default.Global.setTheme(n)},S={G2:f.default,Util:v.default,Shape:h.Shape,Animate:h.Animate,PathUtil:h.PathUtil,track:_,setTheme:w,Interactions:d.default};t.default=S}(_);var e4={value:"123,456",saleList:[{date:"1",value:3},{date:"2",value:9},{date:"3",value:5},{date:"4",value:8},{date:"5",value:11},{date:"6",value:6},{date:"7",value:8},{date:"8",value:7}],dailySale:"\xa51,234"};const n4=undefined,r4=undefined,i4=undefined,a4=undefined;var o4="_cardSubTitle_11mve_1",s4="_cardDes_11mve_8",l4="_cardValue_11mve_22",u4="_cardFoot_11mve_31";const c4={subTitle:"\u603b\u9500\u552e\u989d",value:e4.value,chartData:e4.saleList,des:"\u5468\u540c\u6bd4:",rate:10.1,chartHeight:100},h4=t=>{const{cardConfig:e=c4}=t,{title:n,subTitle:r,value:i,chartData:a,des:o,rate:s,chartHeight:l}=e;return c.exports.createElement(f,{free:!0},n?c.exports.createElement(c.exports.Fragment,null,c.exports.createElement(f.Header,{title:n}),c.exports.createElement(f.Divider,null)):null,c.exports.createElement(f.Content,null,c.exports.createElement("div",{className:o4},r),c.exports.createElement("div",{className:l4},i),c.exports.createElement("div",{className:s4},o,c.exports.createElement("span",null,s,"\u2191")),c.exports.createElement(_.Chart,{width:10,height:l,data:a,scale:{date:{range:[0,1]}},forceFit:!0,padding:["auto","16"]},c.exports.createElement(_.Geom,{type:"interval",position:"date*value",color:"#29A5FF"}))))};var f4={value:"123,456",saleList:[{date:1,value:3},{date:2,value:9},{date:3,value:5},{date:4,value:8},{date:5,value:11},{date:6,value:6},{date:7,value:8},{date:8,value:7}],dailySale:"\xa51,234"};const p4=undefined,d4=undefined,g4=undefined,v4=undefined;var m4={cardSubTitle:"_cardSubTitle_11mve_1",cardDes:"_cardDes_11mve_8",cardValue:"_cardValue_11mve_22",cardFoot:"_cardFoot_11mve_31"};const y4={title:"",subTitle:"\u8bbf\u95ee\u91cf",value:f4.value,chartData:f4.saleList,des:"\u5468\u540c\u6bd4:",rate:"12.0",chartHeight:100},x4=(t=y4)=>{const{title:e,subTitle:n,value:r,chartData:i,des:o,rate:s,chartHeight:l}=a(a({},y4),t);return c.exports.createElement(f,{free:!0,className:m4.areaChart},e?c.exports.createElement(c.exports.Fragment,null,c.exports.createElement(f.Header,{title:e}),c.exports.createElement(f.Divider,null)):null,c.exports.createElement(f.Content,null,c.exports.createElement("div",{className:m4.cardSubTitle},n),c.exports.createElement("div",{className:m4.cardValue},r),c.exports.createElement("div",{className:m4.cardDes},o,c.exports.createElement("span",null,s,"\u2191")),c.exports.createElement(_.Chart,{width:10,height:l,data:i,scale:{date:{range:[0,1]}},forceFit:!0,padding:["auto","0"]},c.exports.createElement(_.Geom,{type:"line",position:"date*value",color:"#00D6CB",shape:"smooth",opacity:1}),c.exports.createElement(_.Geom,{type:"area",position:"date*value",color:"#00D6CB",shape:"smooth",opacity:.1}))))};var _4={value:"82,234",saleList:[{type:"a",value:3},{type:"b",value:9}],dailySale:"10"};const b4=undefined,w4=undefined,S4=undefined,M4=undefined;var C4="_cardSubTitle_ngpf8_1",A4="_cardDes_ngpf8_8",P4="_cardValue_ngpf8_22",k4="_cardFoot_ngpf8_31";const T4={subTitle:"\u95e8\u5e97\u91cf",value:_4.value,chartData:_4.saleList,des:"\u5468\u540c\u6bd4:",rate:"10.1",chartHeight:100},I4=t=>{const{cardConfig:e=T4}=t,{title:n,subTitle:r,value:i,chartData:a,des:o,rate:s,chartHeight:l}=e;return c.exports.createElement(f,{free:!0},n?c.exports.createElement(c.exports.Fragment,null,c.exports.createElement(f.Header,{title:n}),c.exports.createElement(f.Divider,null)):null,c.exports.createElement(f.Content,null,c.exports.createElement("div",{className:C4},r),c.exports.createElement("div",{className:P4},i),c.exports.createElement("div",{className:A4},o,c.exports.createElement("span",null,s,"\u2191")),c.exports.createElement(_.Chart,{width:10,height:l,data:a,scale:{date:{range:[0,1]}},forceFit:!0,padding:["auto","auto"]},c.exports.createElement(_.Coord,{transpose:!0}),c.exports.createElement(_.Geom,{type:"interval",position:"type*value",color:["type",["#096DD9","#209BFA"]]}))))};var E4={value:"123,456",saleList:[{date:"1",value:3,num:1},{date:"2",value:9,num:2},{date:"3",value:5,num:2},{date:"4",value:8,num:2},{date:"5",value:11,num:2},{date:"6",value:6,num:2},{date:"7",value:8,num:2},{date:"8",value:7,num:2}],dailySale:"10"};const O4=undefined,L4=undefined,D4=undefined,F4=undefined;var B4="_cardSubTitle_ngpf8_1",R4="_cardDes_ngpf8_8",N4="_cardValue_ngpf8_22",j4="_cardFoot_ngpf8_31";const z4={subTitle:"\u95e8\u5e97\u6d3b\u52a8\u6548\u679c",value:E4.value,chartData:E4.saleList,des:"\u5468\u540c\u6bd4:",rate:"10.1",chartHeight:100},Y4=t=>{const{cardConfig:e=z4}=t,{title:n,subTitle:r,value:i,chartData:a,des:o,rate:s,chartHeight:l}=e;return c.exports.createElement(f,{free:!0},n?c.exports.createElement(c.exports.Fragment,null,c.exports.createElement(f.Header,{title:n}),c.exports.createElement(f.Divider,null)):null,c.exports.createElement(f.Content,null,c.exports.createElement("div",{className:B4},r),c.exports.createElement("div",{className:N4},i),c.exports.createElement("div",{className:R4},o,c.exports.createElement("span",null,s,"\u2191")),c.exports.createElement(_.Chart,{width:10,height:l,data:a,scale:{date:{range:[0,1]}},forceFit:!0,padding:["auto","0"]},c.exports.createElement(_.Geom,{type:"line",position:"date*value",shape:"smooth",color:"#2B7FFB"}),c.exports.createElement(_.Geom,{type:"area",position:"date*value",shape:"smooth",color:"#2B7FFB",opacity:.1}),c.exports.createElement(_.Geom,{type:"line",position:"date*num",shape:"smooth",color:"#00D6CB",opacity:1}),c.exports.createElement(_.Geom,{type:"area",position:"date*num",shape:"smooth",color:"#00D6CB",opacity:.1}))))},G4=undefined,X4=undefined,V4=undefined,H4=undefined,W4=undefined,q4=undefined,U4=undefined,Z4=undefined,Q4=undefined,$4=undefined,J4=undefined,K4=undefined,t6=undefined,e6=undefined,n6=undefined,r6=undefined,i6=undefined;var a6="_hisMap_zo6qe_1",o6="_histogram_zo6qe_8",s6="_hisTitle_zo6qe_14",l6="_hisBody_zo6qe_20",u6="_hisRate_zo6qe_24",c6="_card_zo6qe_31",h6="_title_zo6qe_37",f6="_titleDiv_zo6qe_44",p6="_subCard_zo6qe_48",d6="_subDiv_zo6qe_52",g6="_subFooter_zo6qe_57",v6="_subBody_zo6qe_70",m6="_subName_zo6qe_74",y6="_subMain_zo6qe_87",x6="_subTypeName_zo6qe_91",_6="_subMainDiv_zo6qe_96",b6="_subTypeValue_zo6qe_100";const{Cell:w6}=p,S6={title:"\u533a\u57df\u9500\u552e",dataSource:[{name:"\u4e9a\u6d32",rate:"40%",color:"#2B7FFB"},{name:"\u6b27\u6d32",rate:"30%",color:"#00D6CB"},{name:"\u5357\u975e",rate:"20%",color:"#F0C330"},{name:"\u7f8e\u6d32",rate:"10%",color:"#3840D9"}]},M6=t=>{const{cardConfig:e=S6}=t,{title:n,dataSource:r}=e;return c.exports.createElement(f,{free:!0},c.exports.createElement(f.Header,{title:n}),c.exports.createElement(f.Divider,null),c.exports.createElement(f.Content,{style:{margin:0,padding:0}},c.exports.createElement(p,null,c.exports.createElement(w6,{colSpan:6},c.exports.createElement("div",{className:a6})),c.exports.createElement(w6,{colSpan:3},c.exports.createElement(d,{justify:"flex-start",spacing:20,className:o6},r&&r.map(((t,e)=>c.exports.createElement(d,{key:e,justify:"flex-start",spacing:5},c.exports.createElement("div",{className:s6},t.name),c.exports.createElement(d,{direction:"row"},c.exports.createElement("div",{style:{backgroundColor:t.color,width:t.rate}}),c.exports.createElement("div",{className:u6},t.rate))))))),c.exports.createElement(w6,{colSpan:3},c.exports.createElement(d,{direction:"row",className:p6},c.exports.createElement(g,{direction:"ver",className:d6}),c.exports.createElement("div",{className:v6},c.exports.createElement("div",{className:m6},"\u4e9a\u6d32"),c.exports.createElement(g,{direction:"hoz"}),c.exports.createElement(d,{className:y6,spacing:20,direction:"row",align:"center",justify:"center"},c.exports.createElement(d,null,c.exports.createElement("div",{className:x6},"\u5546\u54c1\u7c7b\u76ee1"),c.exports.createElement("div",{className:b6},"6,123")),c.exports.createElement(g,{direction:"ver",className:_6}),c.exports.createElement(d,null,c.exports.createElement("div",{className:x6},"\u5546\u54c1\u7c7b\u76ee2"),c.exports.createElement("div",{className:b6},"132,4"))),c.exports.createElement(d,{className:g6,direction:"column",justify:"center",align:"center"},c.exports.createElement("div",null,"\u5468\u540c\u6bd4"),c.exports.createElement("div",null,"45%\u2191"))))))))},C6=undefined,A6=undefined;var P6="_radioGroup_1ktgl_1",k6="_radioFlex_1ktgl_7";const{useState:T6}=m,{Html:I6}=_.Guide,E6={title:"\u9500\u552e\u989d\u7c7b\u522b\u5360\u6bd4",value:183112,chartData:[{type:"\u7c7b\u522b\u4e00\u4e8b\u4f8b\u4e00",value:40,title:"\u7c7b\u522b\u4e00\u4e8b\u4f8b\u4e00 | 40.00%     \xa54,544"},{type:"\u7c7b\u522b\u4e00\u4e8b\u4f8b\u4e8c",value:21,title:"\u7c7b\u522b\u4e00\u4e8b\u4f8b\u4e8c | 22.12%     \xa52,344"},{type:"\u7c7b\u522b\u4e00\u4e8b\u4f8b\u4e09",value:17,title:"\u7c7b\u522b\u4e00\u4e8b\u4f8b\u4e09 | 16.59%     \xa53,512"},{type:"\u7c7b\u522b\u4e00\u4e8b\u4f8b\u56db",value:13,title:"\u7c7b\u522b\u4e00\u4e8b\u4f8b\u56db | 13.11%     \xa52,341"},{type:"\u7c7b\u522b\u4e00\u4e8b\u4f8b\u4e94",value:9,title:"\u7c7b\u522b\u4e00\u4e8b\u4f8b\u4e94 |  9.29%     \xa51,231"}],chartHeight:500},O6=t=>{const{cardConfig:e=E6}=t,{title:n,value:r,chartData:i,chartHeight:a}=e,[o,s]=T6("one"),l=t=>s(t);return c.exports.createElement(f,{free:!0},c.exports.createElement(f.Header,{title:n}),c.exports.createElement(f.Divider,null),c.exports.createElement(f.Content,null,c.exports.createElement(d,{align:"center"},c.exports.createElement(v.Group,{shape:"button",value:o,onChange:l,className:P6},c.exports.createElement(v,{value:"one",className:k6},"\u7c7b\u76ee\u4e00"),c.exports.createElement(v,{value:"two",className:k6},"\u7c7b\u76ee\u4e8c"),c.exports.createElement(v,{value:"three",className:k6},"\u7c7b\u76ee\u4e09"))),c.exports.createElement(_.Chart,{width:10,height:a,forceFit:!0,data:i,padding:["auto","auto"]},c.exports.createElement(_.Coord,{type:"theta",radius:.75,innerRadius:.6}),c.exports.createElement(_.Axis,{name:"percent"}),c.exports.createElement(_.Legend,{position:"bottom",layout:"vertical",offsetY:-30,textStyle:{fill:"#666",fontSize:14},itemMarginBottom:24}),c.exports.createElement(_.Guide,null,c.exports.createElement(I6,{position:["50%","50%"],html:`<div style='color:#333;font-size:16px;text-align: center;width: 113px;'>\u9500\u552e\u989d<br><span style='color:#333;font-family: Roboto-Bold;font-size:24px'>\xa5 ${r}</span></div>`,alignX:"middle",alignY:"middle"})),c.exports.createElement(_.Geom,{type:"intervalStack",position:"value",color:"title",style:{lineWidth:1,stroke:"#fff"}}))))},L6=undefined;var D6="_fusionCardGroupBarChart_g9aih_1";const F6={title:"\u6d88\u8d39\u6570\u636e",chartData:[{category:"\u54c1\u7c7b\u4e00",value:123,type:"\u95e8\u5e97\u4e00"},{category:"\u54c1\u7c7b\u4e00",value:231,type:"\u95e8\u5e97\u4e8c"},{category:"\u54c1\u7c7b\u4e00",value:321,type:"\u95e8\u5e97\u4e09"},{category:"\u54c1\u7c7b\u4e8c",value:-234,type:"\u95e8\u5e97\u4e00"},{category:"\u54c1\u7c7b\u4e8c",value:-342,type:"\u95e8\u5e97\u4e8c"},{category:"\u54c1\u7c7b\u4e8c",value:-432,type:"\u95e8\u5e97\u4e09"},{category:"\u54c1\u7c7b\u4e09",value:322,type:"\u95e8\u5e97\u4e00"},{category:"\u54c1\u7c7b\u4e09",value:211,type:"\u95e8\u5e97\u4e8c"},{category:"\u54c1\u7c7b\u4e09",value:113,type:"\u95e8\u5e97\u4e09"},{category:"\u54c1\u7c7b\u56db",value:435,type:"\u95e8\u5e97\u4e00"},{category:"\u54c1\u7c7b\u56db",value:543,type:"\u95e8\u5e97\u4e8c"},{category:"\u54c1\u7c7b\u56db",value:333,type:"\u95e8\u5e97\u4e09"},{category:"\u54c1\u7c7b\u4e94",value:111,type:"\u95e8\u5e97\u4e00"},{category:"\u54c1\u7c7b\u4e94",value:452,type:"\u95e8\u5e97\u4e8c"},{category:"\u54c1\u7c7b\u4e94",value:234,type:"\u95e8\u5e97\u4e09"}],chartHeight:500},B6=t=>{const{cardConfig:e=F6}=t,{title:n,chartData:r,chartHeight:i}=e;return c.exports.createElement(f,{free:!0,className:D6},c.exports.createElement(f.Header,{title:n}),c.exports.createElement(f.Divider,null),c.exports.createElement(f.Content,null,c.exports.createElement(_.Chart,{renderer:"canvas",forceFit:!0,width:10,height:i,data:r,padding:["80","auto"]},c.exports.createElement(_.Axis,{name:"category"}),c.exports.createElement(_.Axis,{name:"value"}),c.exports.createElement(_.Legend,{textStyle:{fill:"#666",fontSize:14}}),c.exports.createElement(_.Geom,{type:"interval",position:"category*value",color:"type",adjust:[{type:"dodge",marginRatio:1/16}]}))))},{Cell:R6}=p,N6=undefined,j6=()=>c.exports.createElement(p,{gap:20},c.exports.createElement(R6,{colSpan:12},c.exports.createElement(y,{title:"\u5206\u6790\u9875\u9762",breadcrumbs:[{name:"Dashboard"},{name:"\u5206\u6790\u9875\u9762"}]})),c.exports.createElement(R6,{colSpan:3},c.exports.createElement(h4,null)),c.exports.createElement(R6,{colSpan:3},c.exports.createElement(x4,null)),c.exports.createElement(R6,{colSpan:3},c.exports.createElement(I4,null)),c.exports.createElement(R6,{colSpan:3},c.exports.createElement(Y4,null)),c.exports.createElement(R6,{colSpan:12},c.exports.createElement(M6,null)),c.exports.createElement(R6,{colSpan:4},c.exports.createElement(O6,null)),c.exports.createElement(R6,{colSpan:8},c.exports.createElement(B6,null)));export{j6 as default};
